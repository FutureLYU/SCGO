{"ast":null,"code":"function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nimport classnames from 'classnames';\nimport classes from 'component-classes';\nimport Animate from 'rc-animate';\nimport { Item as MenuItem, ItemGroup as MenuItemGroup } from 'rc-menu';\nimport childrenToArray from \"rc-util/es/Children/toArray\";\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { polyfill } from 'react-lifecycles-compat';\nimport warning from 'warning';\nimport Option from './Option';\nimport SelectPropTypes from './PropTypes';\nimport SelectTrigger from './SelectTrigger';\nimport { defaultFilterFn, findFirstMenuItem, findIndexInValueBySingleValue, generateUUID, getLabelFromPropsValue, getMapKey, getPropValue, getValuePropValue, includesSeparators, isCombobox, isMultipleOrTags, isMultipleOrTagsOrCombobox, isSingleMode, preventDefaultEvent, saveRef, splitBySeparators, toArray, toTitle, UNSELECTABLE_ATTRIBUTE, UNSELECTABLE_STYLE, validateOptionValue } from './util';\nvar SELECT_EMPTY_VALUE_KEY = 'RC_SELECT_EMPTY_VALUE_KEY';\n\nvar noop = function noop() {\n  return null;\n};\n\nfunction chaining() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    } // tslint:disable-next-line:prefer-for-of\n\n\n    for (var i = 0; i < fns.length; i++) {\n      if (fns[i] && typeof fns[i] === 'function') {\n        fns[i].apply(chaining, args);\n      }\n    }\n  };\n}\n\nvar Select = /*#__PURE__*/function (_React$Component) {\n  _inherits(Select, _React$Component);\n\n  function Select(props) {\n    var _this;\n\n    _classCallCheck(this, Select);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Select).call(this, props));\n    _this.inputRef = null;\n    _this.inputMirrorRef = null;\n    _this.topCtrlRef = null;\n    _this.selectTriggerRef = null;\n    _this.rootRef = null;\n    _this.selectionRef = null;\n    _this.dropdownContainer = null;\n    _this.blurTimer = null;\n    _this.focusTimer = null;\n    _this.comboboxTimer = null; // tslint:disable-next-line:variable-name\n\n    _this._focused = false; // tslint:disable-next-line:variable-name\n\n    _this._mouseDown = false; // tslint:disable-next-line:variable-name\n\n    _this._options = []; // tslint:disable-next-line:variable-name\n\n    _this._empty = false;\n\n    _this.onInputChange = function (event) {\n      var tokenSeparators = _this.props.tokenSeparators;\n      var val = event.target.value;\n\n      if (isMultipleOrTags(_this.props) && tokenSeparators.length && includesSeparators(val, tokenSeparators)) {\n        var nextValue = _this.getValueByInput(val);\n\n        if (nextValue !== undefined) {\n          _this.fireChange(nextValue);\n        }\n\n        _this.setOpenState(false, {\n          needFocus: true\n        });\n\n        _this.setInputValue('', false);\n\n        return;\n      }\n\n      _this.setInputValue(val);\n\n      _this.setState({\n        open: true\n      });\n\n      if (isCombobox(_this.props)) {\n        _this.fireChange([val]);\n      }\n    };\n\n    _this.onDropdownVisibleChange = function (open) {\n      if (open && !_this._focused) {\n        _this.clearBlurTime();\n\n        _this.timeoutFocus();\n\n        _this._focused = true;\n\n        _this.updateFocusClassName();\n      }\n\n      _this.setOpenState(open);\n    }; // combobox ignore\n\n\n    _this.onKeyDown = function (event) {\n      var open = _this.state.open;\n      var disabled = _this.props.disabled;\n\n      if (disabled) {\n        return;\n      }\n\n      var keyCode = event.keyCode;\n\n      if (open && !_this.getInputDOMNode()) {\n        _this.onInputKeyDown(event);\n      } else if (keyCode === KeyCode.ENTER || keyCode === KeyCode.DOWN) {\n        if (!open) {\n          _this.setOpenState(true);\n        }\n\n        event.preventDefault();\n      } else if (keyCode === KeyCode.SPACE) {\n        // Not block space if popup is shown\n        if (!open) {\n          _this.setOpenState(true);\n\n          event.preventDefault();\n        }\n      }\n    };\n\n    _this.onInputKeyDown = function (event) {\n      var _this$props = _this.props,\n          disabled = _this$props.disabled,\n          combobox = _this$props.combobox,\n          defaultActiveFirstOption = _this$props.defaultActiveFirstOption;\n\n      if (disabled) {\n        return;\n      }\n\n      var state = _this.state;\n\n      var isRealOpen = _this.getRealOpenState(state); // magic code\n\n\n      var keyCode = event.keyCode;\n\n      if (isMultipleOrTags(_this.props) && !event.target.value && keyCode === KeyCode.BACKSPACE) {\n        event.preventDefault();\n        var value = state.value;\n\n        if (value.length) {\n          _this.removeSelected(value[value.length - 1]);\n        }\n\n        return;\n      }\n\n      if (keyCode === KeyCode.DOWN) {\n        if (!state.open) {\n          _this.openIfHasChildren();\n\n          event.preventDefault();\n          event.stopPropagation();\n          return;\n        }\n      } else if (keyCode === KeyCode.ENTER && state.open) {\n        // Aviod trigger form submit when select item\n        // https://github.com/ant-design/ant-design/issues/10861\n        // https://github.com/ant-design/ant-design/issues/14544\n        if (isRealOpen || !combobox) {\n          event.preventDefault();\n        } // Hard close popup to avoid lock of non option in combobox mode\n\n\n        if (isRealOpen && combobox && defaultActiveFirstOption === false) {\n          _this.comboboxTimer = setTimeout(function () {\n            _this.setOpenState(false);\n          });\n        }\n      } else if (keyCode === KeyCode.ESC) {\n        if (state.open) {\n          _this.setOpenState(false);\n\n          event.preventDefault();\n          event.stopPropagation();\n        }\n\n        return;\n      }\n\n      if (isRealOpen && _this.selectTriggerRef) {\n        var menu = _this.selectTriggerRef.getInnerMenu();\n\n        if (menu && menu.onKeyDown(event, _this.handleBackfill)) {\n          event.preventDefault();\n          event.stopPropagation();\n        }\n      }\n    };\n\n    _this.onMenuSelect = function (_ref) {\n      var item = _ref.item;\n\n      if (!item) {\n        return;\n      }\n\n      var value = _this.state.value;\n      var props = _this.props;\n      var selectedValue = getValuePropValue(item);\n      var lastValue = value[value.length - 1];\n      var skipTrigger = false;\n\n      if (isMultipleOrTags(props)) {\n        if (findIndexInValueBySingleValue(value, selectedValue) !== -1) {\n          skipTrigger = true;\n        } else {\n          value = value.concat([selectedValue]);\n        }\n      } else {\n        if (!isCombobox(props) && lastValue !== undefined && lastValue === selectedValue && selectedValue !== _this.state.backfillValue) {\n          _this.setOpenState(false, {\n            needFocus: true,\n            fireSearch: false\n          });\n\n          skipTrigger = true;\n        } else {\n          value = [selectedValue];\n\n          _this.setOpenState(false, {\n            needFocus: true,\n            fireSearch: false\n          });\n        }\n      }\n\n      if (!skipTrigger) {\n        _this.fireChange(value);\n      }\n\n      _this.fireSelect(selectedValue);\n\n      if (!skipTrigger) {\n        var inputValue = isCombobox(props) ? getPropValue(item, props.optionLabelProp) : '';\n\n        if (props.autoClearSearchValue) {\n          _this.setInputValue(inputValue, false);\n        }\n      }\n    };\n\n    _this.onMenuDeselect = function (_ref2) {\n      var item = _ref2.item,\n          domEvent = _ref2.domEvent;\n\n      if (domEvent.type === 'keydown' && domEvent.keyCode === KeyCode.ENTER) {\n        _this.removeSelected(getValuePropValue(item));\n\n        return;\n      }\n\n      if (domEvent.type === 'click') {\n        _this.removeSelected(getValuePropValue(item));\n      }\n\n      var props = _this.props;\n\n      if (props.autoClearSearchValue) {\n        _this.setInputValue('');\n      }\n    };\n\n    _this.onArrowClick = function (e) {\n      e.stopPropagation();\n      e.preventDefault();\n\n      if (!_this.props.disabled) {\n        _this.setOpenState(!_this.state.open, {\n          needFocus: !_this.state.open\n        });\n      }\n    };\n\n    _this.onPlaceholderClick = function () {\n      if (_this.getInputDOMNode && _this.getInputDOMNode()) {\n        _this.getInputDOMNode().focus();\n      }\n    };\n\n    _this.onOuterFocus = function (e) {\n      if (_this.props.disabled) {\n        e.preventDefault();\n        return;\n      }\n\n      _this.clearBlurTime(); // In IE11, onOuterFocus will be trigger twice when focus input\n      // First one: e.target is div\n      // Second one: e.target is input\n      // other browser only trigger second one\n      // https://github.com/ant-design/ant-design/issues/15942\n      // Here we ignore the first one when e.target is div\n\n\n      var inputNode = _this.getInputDOMNode();\n\n      if (inputNode && e.target === _this.rootRef) {\n        return;\n      }\n\n      if (!isMultipleOrTagsOrCombobox(_this.props) && e.target === inputNode) {\n        return;\n      }\n\n      if (_this._focused) {\n        return;\n      }\n\n      _this._focused = true;\n\n      _this.updateFocusClassName(); // only effect multiple or tag mode\n\n\n      if (!isMultipleOrTags(_this.props) || !_this._mouseDown) {\n        _this.timeoutFocus();\n      }\n    };\n\n    _this.onPopupFocus = function () {\n      // fix ie scrollbar, focus element again\n      _this.maybeFocus(true, true);\n    };\n\n    _this.onOuterBlur = function (e) {\n      if (_this.props.disabled) {\n        e.preventDefault();\n        return;\n      }\n\n      _this.blurTimer = window.setTimeout(function () {\n        _this._focused = false;\n\n        _this.updateFocusClassName();\n\n        var props = _this.props;\n        var value = _this.state.value;\n        var inputValue = _this.state.inputValue;\n\n        if (isSingleMode(props) && props.showSearch && inputValue && props.defaultActiveFirstOption) {\n          var options = _this._options || [];\n\n          if (options.length) {\n            var firstOption = findFirstMenuItem(options);\n\n            if (firstOption) {\n              value = [getValuePropValue(firstOption)];\n\n              _this.fireChange(value);\n            }\n          }\n        } else if (isMultipleOrTags(props) && inputValue) {\n          if (_this._mouseDown) {\n            // need update dropmenu when not blur\n            _this.setInputValue('');\n          } else {\n            // why not use setState?\n            // https://github.com/ant-design/ant-design/issues/14262\n            _this.state.inputValue = '';\n\n            if (_this.getInputDOMNode && _this.getInputDOMNode()) {\n              _this.getInputDOMNode().value = '';\n            }\n          }\n\n          var tmpValue = _this.getValueByInput(inputValue);\n\n          if (tmpValue !== undefined) {\n            value = tmpValue;\n\n            _this.fireChange(value);\n          }\n        } // if click the rest space of Select in multiple mode\n\n\n        if (isMultipleOrTags(props) && _this._mouseDown) {\n          _this.maybeFocus(true, true);\n\n          _this._mouseDown = false;\n          return;\n        }\n\n        _this.setOpenState(false);\n\n        if (props.onBlur) {\n          props.onBlur(_this.getVLForOnChange(value));\n        }\n      }, 10);\n    };\n\n    _this.onClearSelection = function (event) {\n      var props = _this.props;\n      var state = _this.state;\n\n      if (props.disabled) {\n        return;\n      }\n\n      var inputValue = state.inputValue;\n      var value = state.value;\n      event.stopPropagation();\n\n      if (inputValue || value.length) {\n        if (value.length) {\n          _this.fireChange([]);\n        }\n\n        _this.setOpenState(false, {\n          needFocus: true\n        });\n\n        if (inputValue) {\n          _this.setInputValue('');\n        }\n      }\n    };\n\n    _this.onChoiceAnimationLeave = function () {\n      _this.forcePopupAlign();\n    };\n\n    _this.getOptionInfoBySingleValue = function (value, optionsInfo) {\n      var info;\n      optionsInfo = optionsInfo || _this.state.optionsInfo;\n\n      if (optionsInfo[getMapKey(value)]) {\n        info = optionsInfo[getMapKey(value)];\n      }\n\n      if (info) {\n        return info;\n      }\n\n      var defaultLabel = value;\n\n      if (_this.props.labelInValue) {\n        var valueLabel = getLabelFromPropsValue(_this.props.value, value);\n        var defaultValueLabel = getLabelFromPropsValue(_this.props.defaultValue, value);\n\n        if (valueLabel !== undefined) {\n          defaultLabel = valueLabel;\n        } else if (defaultValueLabel !== undefined) {\n          defaultLabel = defaultValueLabel;\n        }\n      }\n\n      var defaultInfo = {\n        option: React.createElement(Option, {\n          value: value,\n          key: value\n        }, value),\n        value: value,\n        label: defaultLabel\n      };\n      return defaultInfo;\n    };\n\n    _this.getOptionBySingleValue = function (value) {\n      var _this$getOptionInfoBy = _this.getOptionInfoBySingleValue(value),\n          option = _this$getOptionInfoBy.option;\n\n      return option;\n    };\n\n    _this.getOptionsBySingleValue = function (values) {\n      return values.map(function (value) {\n        return _this.getOptionBySingleValue(value);\n      });\n    };\n\n    _this.getValueByLabel = function (label) {\n      if (label === undefined) {\n        return null;\n      }\n\n      var value = null;\n      Object.keys(_this.state.optionsInfo).forEach(function (key) {\n        var info = _this.state.optionsInfo[key];\n        var disabled = info.disabled;\n\n        if (disabled) {\n          return;\n        }\n\n        var oldLable = toArray(info.label);\n\n        if (oldLable && oldLable.join('') === label) {\n          value = info.value;\n        }\n      });\n      return value;\n    };\n\n    _this.getVLBySingleValue = function (value) {\n      if (_this.props.labelInValue) {\n        return {\n          key: value,\n          label: _this.getLabelBySingleValue(value)\n        };\n      }\n\n      return value;\n    };\n\n    _this.getVLForOnChange = function (vlsS) {\n      var vls = vlsS;\n\n      if (vls !== undefined) {\n        if (!_this.props.labelInValue) {\n          vls = vls.map(function (v) {\n            return v;\n          });\n        } else {\n          vls = vls.map(function (vl) {\n            return {\n              key: vl,\n              label: _this.getLabelBySingleValue(vl)\n            };\n          });\n        }\n\n        return isMultipleOrTags(_this.props) ? vls : vls[0];\n      }\n\n      return vls;\n    };\n\n    _this.getLabelBySingleValue = function (value, optionsInfo) {\n      var _this$getOptionInfoBy2 = _this.getOptionInfoBySingleValue(value, optionsInfo),\n          label = _this$getOptionInfoBy2.label;\n\n      return label;\n    };\n\n    _this.getDropdownContainer = function () {\n      if (!_this.dropdownContainer) {\n        _this.dropdownContainer = document.createElement('div');\n        document.body.appendChild(_this.dropdownContainer);\n      }\n\n      return _this.dropdownContainer;\n    };\n\n    _this.getPlaceholderElement = function () {\n      var props = _this.props;\n      var state = _this.state;\n      var hidden = false;\n\n      if (state.inputValue) {\n        hidden = true;\n      }\n\n      var value = state.value;\n\n      if (value.length) {\n        hidden = true;\n      }\n\n      if (isCombobox(props) && value.length === 1 && state.value && !state.value[0]) {\n        hidden = false;\n      }\n\n      var placeholder = props.placeholder;\n\n      if (placeholder) {\n        return React.createElement(\"div\", _extends({\n          onMouseDown: preventDefaultEvent,\n          style: _extends({\n            display: hidden ? 'none' : 'block'\n          }, UNSELECTABLE_STYLE)\n        }, UNSELECTABLE_ATTRIBUTE, {\n          onClick: _this.onPlaceholderClick,\n          className: \"\".concat(props.prefixCls, \"-selection__placeholder\")\n        }), placeholder);\n      }\n\n      return null;\n    };\n\n    _this.getInputElement = function () {\n      var props = _this.props;\n      var defaultInput = React.createElement(\"input\", {\n        id: props.id,\n        autoComplete: \"off\"\n      }); // tslint:disable-next-line:typedef-whitespace\n\n      var inputElement = props.getInputElement ? props.getInputElement() : defaultInput;\n      var inputCls = classnames(inputElement.props.className, _defineProperty({}, \"\".concat(props.prefixCls, \"-search__field\"), true)); // https://github.com/ant-design/ant-design/issues/4992#issuecomment-281542159\n      // Add space to the end of the inputValue as the width measurement tolerance\n\n      return React.createElement(\"div\", {\n        className: \"\".concat(props.prefixCls, \"-search__field__wrap\")\n      }, React.cloneElement(inputElement, {\n        ref: _this.saveInputRef,\n        onChange: _this.onInputChange,\n        onKeyDown: chaining(_this.onInputKeyDown, inputElement.props.onKeyDown, _this.props.onInputKeyDown),\n        value: _this.state.inputValue,\n        disabled: props.disabled,\n        className: inputCls\n      }), React.createElement(\"span\", {\n        ref: _this.saveInputMirrorRef,\n        className: \"\".concat(props.prefixCls, \"-search__field__mirror\")\n      }, _this.state.inputValue, \"\\xA0\"));\n    };\n\n    _this.getInputDOMNode = function () {\n      return _this.topCtrlRef ? _this.topCtrlRef.querySelector('input,textarea,div[contentEditable]') : _this.inputRef;\n    };\n\n    _this.getInputMirrorDOMNode = function () {\n      return _this.inputMirrorRef;\n    };\n\n    _this.getPopupDOMNode = function () {\n      if (_this.selectTriggerRef) {\n        return _this.selectTriggerRef.getPopupDOMNode();\n      }\n    };\n\n    _this.getPopupMenuComponent = function () {\n      if (_this.selectTriggerRef) {\n        return _this.selectTriggerRef.getInnerMenu();\n      }\n    };\n\n    _this.setOpenState = function (open) {\n      var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var needFocus = config.needFocus,\n          fireSearch = config.fireSearch;\n      var props = _this.props;\n      var state = _this.state;\n\n      if (state.open === open) {\n        _this.maybeFocus(open, !!needFocus);\n\n        return;\n      }\n\n      if (_this.props.onDropdownVisibleChange) {\n        _this.props.onDropdownVisibleChange(open);\n      }\n\n      var nextState = {\n        open: open,\n        backfillValue: ''\n      }; // clear search input value when open is false in singleMode.\n      // https://github.com/ant-design/ant-design/issues/16572\n\n      if (!open && isSingleMode(props) && props.showSearch) {\n        _this.setInputValue('', fireSearch);\n      }\n\n      if (!open) {\n        _this.maybeFocus(open, !!needFocus);\n      }\n\n      _this.setState(_extends({\n        open: open\n      }, nextState), function () {\n        if (open) {\n          _this.maybeFocus(open, !!needFocus);\n        }\n      });\n    };\n\n    _this.setInputValue = function (inputValue) {\n      var fireSearch = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var onSearch = _this.props.onSearch;\n\n      if (inputValue !== _this.state.inputValue) {\n        _this.setState(function (prevState) {\n          // Additional check if `inputValue` changed in latest state.\n          if (fireSearch && inputValue !== prevState.inputValue && onSearch) {\n            onSearch(inputValue);\n          }\n\n          return {\n            inputValue: inputValue\n          };\n        }, _this.forcePopupAlign);\n      }\n    };\n\n    _this.getValueByInput = function (str) {\n      var _this$props2 = _this.props,\n          multiple = _this$props2.multiple,\n          tokenSeparators = _this$props2.tokenSeparators;\n      var nextValue = _this.state.value;\n      var hasNewValue = false;\n      splitBySeparators(str, tokenSeparators).forEach(function (label) {\n        var selectedValue = [label];\n\n        if (multiple) {\n          var value = _this.getValueByLabel(label);\n\n          if (value && findIndexInValueBySingleValue(nextValue, value) === -1) {\n            nextValue = nextValue.concat(value);\n            hasNewValue = true;\n\n            _this.fireSelect(value);\n          }\n        } else if (findIndexInValueBySingleValue(nextValue, label) === -1) {\n          nextValue = nextValue.concat(selectedValue);\n          hasNewValue = true;\n\n          _this.fireSelect(label);\n        }\n      });\n      return hasNewValue ? nextValue : undefined;\n    };\n\n    _this.getRealOpenState = function (state) {\n      // tslint:disable-next-line:variable-name\n      var _open = _this.props.open;\n\n      if (typeof _open === 'boolean') {\n        return _open;\n      }\n\n      var open = (state || _this.state).open;\n      var options = _this._options || [];\n\n      if (isMultipleOrTagsOrCombobox(_this.props) || !_this.props.showSearch) {\n        if (open && !options.length) {\n          open = false;\n        }\n      }\n\n      return open;\n    };\n\n    _this.markMouseDown = function () {\n      _this._mouseDown = true;\n    };\n\n    _this.markMouseLeave = function () {\n      _this._mouseDown = false;\n    };\n\n    _this.handleBackfill = function (item) {\n      if (!_this.props.backfill || !(isSingleMode(_this.props) || isCombobox(_this.props))) {\n        return;\n      }\n\n      var key = getValuePropValue(item);\n\n      if (isCombobox(_this.props)) {\n        _this.setInputValue(key, false);\n      }\n\n      _this.setState({\n        value: [key],\n        backfillValue: key\n      });\n    };\n\n    _this.filterOption = function (input, child) {\n      var defaultFilter = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultFilterFn;\n      var value = _this.state.value;\n      var lastValue = value[value.length - 1];\n\n      if (!input || lastValue && lastValue === _this.state.backfillValue) {\n        return true;\n      }\n\n      var filterFn = _this.props.filterOption;\n\n      if ('filterOption' in _this.props) {\n        if (filterFn === true) {\n          filterFn = defaultFilter.bind(_assertThisInitialized(_this));\n        }\n      } else {\n        filterFn = defaultFilter.bind(_assertThisInitialized(_this));\n      }\n\n      if (!filterFn) {\n        return true;\n      } else if (typeof filterFn === 'function') {\n        return filterFn.call(_assertThisInitialized(_this), input, child);\n      } else if (child.props.disabled) {\n        return false;\n      }\n\n      return true;\n    };\n\n    _this.timeoutFocus = function () {\n      var onFocus = _this.props.onFocus;\n\n      if (_this.focusTimer) {\n        _this.clearFocusTime();\n      }\n\n      _this.focusTimer = window.setTimeout(function () {\n        if (onFocus) {\n          onFocus();\n        }\n      }, 10);\n    };\n\n    _this.clearFocusTime = function () {\n      if (_this.focusTimer) {\n        clearTimeout(_this.focusTimer);\n        _this.focusTimer = null;\n      }\n    };\n\n    _this.clearBlurTime = function () {\n      if (_this.blurTimer) {\n        clearTimeout(_this.blurTimer);\n        _this.blurTimer = null;\n      }\n    };\n\n    _this.clearComboboxTime = function () {\n      if (_this.comboboxTimer) {\n        clearTimeout(_this.comboboxTimer);\n        _this.comboboxTimer = null;\n      }\n    };\n\n    _this.updateFocusClassName = function () {\n      var rootRef = _this.rootRef;\n      var props = _this.props; // avoid setState and its side effect\n\n      if (_this._focused) {\n        classes(rootRef).add(\"\".concat(props.prefixCls, \"-focused\"));\n      } else {\n        classes(rootRef).remove(\"\".concat(props.prefixCls, \"-focused\"));\n      }\n    };\n\n    _this.maybeFocus = function (open, needFocus) {\n      if (needFocus || open) {\n        var input = _this.getInputDOMNode();\n\n        var _document = document,\n            activeElement = _document.activeElement;\n\n        if (input && (open || isMultipleOrTagsOrCombobox(_this.props))) {\n          if (activeElement !== input) {\n            input.focus();\n            _this._focused = true;\n          }\n        } else if (activeElement !== _this.selectionRef && _this.selectionRef) {\n          _this.selectionRef.focus();\n\n          _this._focused = true;\n        }\n      }\n    };\n\n    _this.removeSelected = function (selectedKey, e) {\n      var props = _this.props;\n\n      if (props.disabled || _this.isChildDisabled(selectedKey)) {\n        return;\n      } // Do not trigger Trigger popup\n\n\n      if (e && e.stopPropagation) {\n        e.stopPropagation();\n      }\n\n      var oldValue = _this.state.value;\n      var value = oldValue.filter(function (singleValue) {\n        return singleValue !== selectedKey;\n      });\n      var canMultiple = isMultipleOrTags(props);\n\n      if (canMultiple) {\n        var event = selectedKey;\n\n        if (props.labelInValue) {\n          event = {\n            key: selectedKey,\n            label: _this.getLabelBySingleValue(selectedKey)\n          };\n        }\n\n        if (props.onDeselect) {\n          props.onDeselect(event, _this.getOptionBySingleValue(selectedKey));\n        }\n      }\n\n      _this.fireChange(value);\n    };\n\n    _this.openIfHasChildren = function () {\n      var props = _this.props;\n\n      if (React.Children.count(props.children) || isSingleMode(props)) {\n        _this.setOpenState(true);\n      }\n    };\n\n    _this.fireSelect = function (value) {\n      if (_this.props.onSelect) {\n        _this.props.onSelect(_this.getVLBySingleValue(value), _this.getOptionBySingleValue(value));\n      }\n    };\n\n    _this.fireChange = function (value) {\n      var props = _this.props;\n\n      if (!('value' in props)) {\n        _this.setState({\n          value: value\n        }, _this.forcePopupAlign);\n      }\n\n      var vls = _this.getVLForOnChange(value);\n\n      var options = _this.getOptionsBySingleValue(value);\n\n      if (props.onChange) {\n        props.onChange(vls, isMultipleOrTags(_this.props) ? options : options[0]);\n      }\n    };\n\n    _this.isChildDisabled = function (key) {\n      return childrenToArray(_this.props.children).some(function (child) {\n        var childValue = getValuePropValue(child);\n        return childValue === key && child.props && child.props.disabled;\n      });\n    };\n\n    _this.forcePopupAlign = function () {\n      if (!_this.state.open) {\n        return;\n      }\n\n      if (_this.selectTriggerRef && _this.selectTriggerRef.triggerRef) {\n        _this.selectTriggerRef.triggerRef.forcePopupAlign();\n      }\n    };\n\n    _this.renderFilterOptions = function () {\n      var inputValue = _this.state.inputValue;\n      var _this$props3 = _this.props,\n          children = _this$props3.children,\n          tags = _this$props3.tags,\n          notFoundContent = _this$props3.notFoundContent;\n      var menuItems = [];\n      var childrenKeys = [];\n      var empty = false;\n\n      var options = _this.renderFilterOptionsFromChildren(children, childrenKeys, menuItems);\n\n      if (tags) {\n        // tags value must be string\n        var value = _this.state.value;\n        value = value.filter(function (singleValue) {\n          return childrenKeys.indexOf(singleValue) === -1 && (!inputValue || String(singleValue).indexOf(String(inputValue)) > -1);\n        }); // sort by length\n\n        value.sort(function (val1, val2) {\n          return val1.length - val2.length;\n        });\n        value.forEach(function (singleValue) {\n          var key = singleValue;\n          var menuItem = React.createElement(MenuItem, {\n            style: UNSELECTABLE_STYLE,\n            role: \"option\",\n            attribute: UNSELECTABLE_ATTRIBUTE,\n            value: key,\n            key: key\n          }, key);\n          options.push(menuItem);\n          menuItems.push(menuItem);\n        }); // ref: https://github.com/ant-design/ant-design/issues/14090\n\n        if (inputValue && menuItems.every(function (option) {\n          return getValuePropValue(option) !== inputValue;\n        })) {\n          options.unshift(React.createElement(MenuItem, {\n            style: UNSELECTABLE_STYLE,\n            role: \"option\",\n            attribute: UNSELECTABLE_ATTRIBUTE,\n            value: inputValue,\n            key: inputValue\n          }, inputValue));\n        }\n      }\n\n      if (!options.length && notFoundContent) {\n        empty = true;\n        options = [React.createElement(MenuItem, {\n          style: UNSELECTABLE_STYLE,\n          attribute: UNSELECTABLE_ATTRIBUTE,\n          disabled: true,\n          role: \"option\",\n          value: \"NOT_FOUND\",\n          key: \"NOT_FOUND\"\n        }, notFoundContent)];\n      }\n\n      return {\n        empty: empty,\n        options: options\n      };\n    };\n\n    _this.renderFilterOptionsFromChildren = function (children, childrenKeys, menuItems) {\n      var sel = [];\n      var props = _this.props;\n      var inputValue = _this.state.inputValue;\n      var tags = props.tags;\n      React.Children.forEach(children, function (child) {\n        if (!child) {\n          return;\n        }\n\n        var type = child.type;\n\n        if (type.isSelectOptGroup) {\n          var label = child.props.label;\n          var key = child.key;\n\n          if (!key && typeof label === 'string') {\n            key = label;\n          } else if (!label && key) {\n            label = key;\n          } // Match option group label\n\n\n          if (inputValue && _this.filterOption(inputValue, child)) {\n            var innerItems = childrenToArray(child.props.children).map(function (subChild) {\n              var childValueSub = getValuePropValue(subChild) || subChild.key;\n              return React.createElement(MenuItem, _extends({\n                key: childValueSub,\n                value: childValueSub\n              }, subChild.props));\n            });\n            sel.push(React.createElement(MenuItemGroup, {\n              key: key,\n              title: label\n            }, innerItems)); // Not match\n          } else {\n            var _innerItems = _this.renderFilterOptionsFromChildren(child.props.children, childrenKeys, menuItems);\n\n            if (_innerItems.length) {\n              sel.push(React.createElement(MenuItemGroup, {\n                key: key,\n                title: label\n              }, _innerItems));\n            }\n          }\n\n          return;\n        }\n\n        warning(type.isSelectOption, 'the children of `Select` should be `Select.Option` or `Select.OptGroup`, ' + \"instead of `\".concat(type.name || type.displayName || child.type, \"`.\"));\n        var childValue = getValuePropValue(child);\n        validateOptionValue(childValue, _this.props);\n\n        if (_this.filterOption(inputValue, child)) {\n          var menuItem = React.createElement(MenuItem, _extends({\n            style: UNSELECTABLE_STYLE,\n            attribute: UNSELECTABLE_ATTRIBUTE,\n            value: childValue,\n            key: childValue,\n            role: \"option\"\n          }, child.props));\n          sel.push(menuItem);\n          menuItems.push(menuItem);\n        }\n\n        if (tags) {\n          childrenKeys.push(childValue);\n        }\n      });\n      return sel;\n    };\n\n    _this.renderTopControlNode = function () {\n      var _this$state = _this.state,\n          open = _this$state.open,\n          inputValue = _this$state.inputValue;\n      var value = _this.state.value;\n      var props = _this.props;\n      var choiceTransitionName = props.choiceTransitionName,\n          prefixCls = props.prefixCls,\n          maxTagTextLength = props.maxTagTextLength,\n          maxTagCount = props.maxTagCount,\n          showSearch = props.showSearch,\n          removeIcon = props.removeIcon;\n      var maxTagPlaceholder = props.maxTagPlaceholder;\n      var className = \"\".concat(prefixCls, \"-selection__rendered\"); // search input is inside topControlNode in single, multiple & combobox. 2016/04/13\n\n      var innerNode = null;\n\n      if (isSingleMode(props)) {\n        var selectedValue = null;\n\n        if (value.length) {\n          var showSelectedValue = false;\n          var opacity = 1;\n\n          if (!showSearch) {\n            showSelectedValue = true;\n          } else if (open) {\n            showSelectedValue = !inputValue;\n\n            if (showSelectedValue) {\n              opacity = 0.4;\n            }\n          } else {\n            showSelectedValue = true;\n          }\n\n          var singleValue = value[0];\n\n          var _this$getOptionInfoBy3 = _this.getOptionInfoBySingleValue(singleValue),\n              label = _this$getOptionInfoBy3.label,\n              title = _this$getOptionInfoBy3.title;\n\n          selectedValue = React.createElement(\"div\", {\n            key: \"value\",\n            className: \"\".concat(prefixCls, \"-selection-selected-value\"),\n            title: toTitle(title || label),\n            style: {\n              display: showSelectedValue ? 'block' : 'none',\n              opacity: opacity\n            }\n          }, label);\n        }\n\n        if (!showSearch) {\n          innerNode = [selectedValue];\n        } else {\n          innerNode = [selectedValue, React.createElement(\"div\", {\n            className: \"\".concat(prefixCls, \"-search \").concat(prefixCls, \"-search--inline\"),\n            key: \"input\",\n            style: {\n              display: open ? 'block' : 'none'\n            }\n          }, _this.getInputElement())];\n        }\n      } else {\n        var selectedValueNodes = [];\n        var limitedCountValue = value;\n        var maxTagPlaceholderEl;\n\n        if (maxTagCount !== undefined && value.length > maxTagCount) {\n          limitedCountValue = limitedCountValue.slice(0, maxTagCount);\n\n          var omittedValues = _this.getVLForOnChange(value.slice(maxTagCount, value.length));\n\n          var content = \"+ \".concat(value.length - maxTagCount, \" ...\");\n\n          if (maxTagPlaceholder) {\n            content = typeof maxTagPlaceholder === 'function' ? maxTagPlaceholder(omittedValues) : maxTagPlaceholder;\n          }\n\n          maxTagPlaceholderEl = React.createElement(\"li\", _extends({\n            style: UNSELECTABLE_STYLE\n          }, UNSELECTABLE_ATTRIBUTE, {\n            role: \"presentation\",\n            onMouseDown: preventDefaultEvent,\n            className: \"\".concat(prefixCls, \"-selection__choice \").concat(prefixCls, \"-selection__choice__disabled\"),\n            key: \"maxTagPlaceholder\",\n            title: toTitle(content)\n          }), React.createElement(\"div\", {\n            className: \"\".concat(prefixCls, \"-selection__choice__content\")\n          }, content));\n        }\n\n        if (isMultipleOrTags(props)) {\n          selectedValueNodes = limitedCountValue.map(function (singleValue) {\n            var info = _this.getOptionInfoBySingleValue(singleValue);\n\n            var content = info.label;\n            var title = info.title || content;\n\n            if (maxTagTextLength && typeof content === 'string' && content.length > maxTagTextLength) {\n              content = \"\".concat(content.slice(0, maxTagTextLength), \"...\");\n            }\n\n            var disabled = _this.isChildDisabled(singleValue);\n\n            var choiceClassName = disabled ? \"\".concat(prefixCls, \"-selection__choice \").concat(prefixCls, \"-selection__choice__disabled\") : \"\".concat(prefixCls, \"-selection__choice\");\n            return React.createElement(\"li\", _extends({\n              style: UNSELECTABLE_STYLE\n            }, UNSELECTABLE_ATTRIBUTE, {\n              onMouseDown: preventDefaultEvent,\n              className: choiceClassName,\n              role: \"presentation\",\n              key: singleValue || SELECT_EMPTY_VALUE_KEY,\n              title: toTitle(title)\n            }), React.createElement(\"div\", {\n              className: \"\".concat(prefixCls, \"-selection__choice__content\")\n            }, content), disabled ? null : React.createElement(\"span\", {\n              onClick: function onClick(event) {\n                _this.removeSelected(singleValue, event);\n              },\n              className: \"\".concat(prefixCls, \"-selection__choice__remove\")\n            }, removeIcon || React.createElement(\"i\", {\n              className: \"\".concat(prefixCls, \"-selection__choice__remove-icon\")\n            }, \"\\xD7\")));\n          });\n        }\n\n        if (maxTagPlaceholderEl) {\n          selectedValueNodes.push(maxTagPlaceholderEl);\n        }\n\n        selectedValueNodes.push(React.createElement(\"li\", {\n          className: \"\".concat(prefixCls, \"-search \").concat(prefixCls, \"-search--inline\"),\n          key: \"__input\"\n        }, _this.getInputElement()));\n\n        if (isMultipleOrTags(props) && choiceTransitionName) {\n          innerNode = React.createElement(Animate, {\n            onLeave: _this.onChoiceAnimationLeave,\n            component: \"ul\",\n            transitionName: choiceTransitionName\n          }, selectedValueNodes);\n        } else {\n          innerNode = React.createElement(\"ul\", null, selectedValueNodes);\n        }\n      }\n\n      return React.createElement(\"div\", {\n        className: className,\n        ref: _this.saveTopCtrlRef\n      }, _this.getPlaceholderElement(), innerNode);\n    };\n\n    var optionsInfo = Select.getOptionsInfoFromProps(props);\n\n    if (props.tags && typeof props.filterOption !== 'function') {\n      var isDisabledExist = Object.keys(optionsInfo).some(function (key) {\n        return optionsInfo[key].disabled;\n      });\n      warning(!isDisabledExist, 'Please avoid setting option to disabled in tags mode since user can always type text as tag.');\n    }\n\n    _this.state = {\n      value: Select.getValueFromProps(props, true),\n      inputValue: props.combobox ? Select.getInputValueForCombobox(props, optionsInfo, true) : '',\n      open: props.defaultOpen,\n      optionsInfo: optionsInfo,\n      backfillValue: '',\n      // a flag for aviod redundant getOptionsInfoFromProps call\n      skipBuildOptionsInfo: true,\n      ariaId: ''\n    };\n    _this.saveInputRef = saveRef(_assertThisInitialized(_this), 'inputRef');\n    _this.saveInputMirrorRef = saveRef(_assertThisInitialized(_this), 'inputMirrorRef');\n    _this.saveTopCtrlRef = saveRef(_assertThisInitialized(_this), 'topCtrlRef');\n    _this.saveSelectTriggerRef = saveRef(_assertThisInitialized(_this), 'selectTriggerRef');\n    _this.saveRootRef = saveRef(_assertThisInitialized(_this), 'rootRef');\n    _this.saveSelectionRef = saveRef(_assertThisInitialized(_this), 'selectionRef');\n    return _this;\n  }\n\n  _createClass(Select, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // when defaultOpen is true, we should auto focus search input\n      // https://github.com/ant-design/ant-design/issues/14254\n      if (this.props.autoFocus || this.state.open) {\n        this.focus();\n      }\n\n      this.setState({\n        ariaId: generateUUID()\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (isMultipleOrTags(this.props)) {\n        var inputNode = this.getInputDOMNode();\n        var mirrorNode = this.getInputMirrorDOMNode();\n\n        if (inputNode && inputNode.value && mirrorNode) {\n          inputNode.style.width = '';\n          inputNode.style.width = \"\".concat(mirrorNode.clientWidth, \"px\");\n        } else if (inputNode) {\n          inputNode.style.width = '';\n        }\n      }\n\n      this.forcePopupAlign();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.clearFocusTime();\n      this.clearBlurTime();\n      this.clearComboboxTime();\n\n      if (this.dropdownContainer) {\n        ReactDOM.unmountComponentAtNode(this.dropdownContainer);\n        document.body.removeChild(this.dropdownContainer);\n        this.dropdownContainer = null;\n      }\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      if (isSingleMode(this.props) && this.selectionRef) {\n        this.selectionRef.focus();\n      } else if (this.getInputDOMNode()) {\n        this.getInputDOMNode().focus();\n      }\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      if (isSingleMode(this.props) && this.selectionRef) {\n        this.selectionRef.blur();\n      } else if (this.getInputDOMNode()) {\n        this.getInputDOMNode().blur();\n      }\n    }\n  }, {\n    key: \"renderArrow\",\n    value: function renderArrow(multiple) {\n      // showArrow : Set to true if not multiple by default but keep set value.\n      var _this$props4 = this.props,\n          _this$props4$showArro = _this$props4.showArrow,\n          showArrow = _this$props4$showArro === void 0 ? !multiple : _this$props4$showArro,\n          loading = _this$props4.loading,\n          inputIcon = _this$props4.inputIcon,\n          prefixCls = _this$props4.prefixCls;\n\n      if (!showArrow && !loading) {\n        return null;\n      } // if loading  have loading icon\n\n\n      var defaultIcon = loading ? React.createElement(\"i\", {\n        className: \"\".concat(prefixCls, \"-arrow-loading\")\n      }) : React.createElement(\"i\", {\n        className: \"\".concat(prefixCls, \"-arrow-icon\")\n      });\n      return React.createElement(\"span\", _extends({\n        key: \"arrow\",\n        className: \"\".concat(prefixCls, \"-arrow\"),\n        style: UNSELECTABLE_STYLE\n      }, UNSELECTABLE_ATTRIBUTE, {\n        onClick: this.onArrowClick\n      }), inputIcon || defaultIcon);\n    }\n  }, {\n    key: \"renderClear\",\n    value: function renderClear() {\n      var _this$props5 = this.props,\n          prefixCls = _this$props5.prefixCls,\n          allowClear = _this$props5.allowClear,\n          clearIcon = _this$props5.clearIcon;\n      var inputValue = this.state.inputValue;\n      var value = this.state.value;\n      var clear = React.createElement(\"span\", _extends({\n        key: \"clear\",\n        className: \"\".concat(prefixCls, \"-selection__clear\"),\n        onMouseDown: preventDefaultEvent,\n        style: UNSELECTABLE_STYLE\n      }, UNSELECTABLE_ATTRIBUTE, {\n        onClick: this.onClearSelection\n      }), clearIcon || React.createElement(\"i\", {\n        className: \"\".concat(prefixCls, \"-selection__clear-icon\")\n      }, \"\\xD7\"));\n\n      if (!allowClear) {\n        return null;\n      }\n\n      if (isCombobox(this.props)) {\n        if (inputValue) {\n          return clear;\n        }\n\n        return null;\n      }\n\n      if (inputValue || value.length) {\n        return clear;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _rootCls;\n\n      var props = this.props;\n      var multiple = isMultipleOrTags(props); // Default set showArrow to true if not set (not set directly in defaultProps to handle multiple case)\n\n      var _props$showArrow = props.showArrow,\n          showArrow = _props$showArrow === void 0 ? true : _props$showArrow;\n      var state = this.state;\n      var className = props.className,\n          disabled = props.disabled,\n          prefixCls = props.prefixCls,\n          loading = props.loading;\n      var ctrlNode = this.renderTopControlNode();\n      var _this$state2 = this.state,\n          open = _this$state2.open,\n          ariaId = _this$state2.ariaId;\n\n      if (open) {\n        var filterOptions = this.renderFilterOptions();\n        this._empty = filterOptions.empty;\n        this._options = filterOptions.options;\n      }\n\n      var realOpen = this.getRealOpenState();\n      var empty = this._empty;\n      var options = this._options || [];\n      var dataOrAriaAttributeProps = {};\n      Object.keys(props).forEach(function (key) {\n        if (Object.prototype.hasOwnProperty.call(props, key) && (key.substr(0, 5) === 'data-' || key.substr(0, 5) === 'aria-' || key === 'role')) {\n          dataOrAriaAttributeProps[key] = props[key];\n        }\n      }); // for (const key in props) {\n      //   if (\n      //     Object.prototype.hasOwnProperty.call(props, key) &&\n      //     (key.substr(0, 5) === 'data-' || key.substr(0, 5) === 'aria-' || key === 'role')\n      //   ) {\n      //     dataOrAriaAttributeProps[key] = props[key];\n      //   }\n      // }\n\n      var extraSelectionProps = _extends({}, dataOrAriaAttributeProps);\n\n      if (!isMultipleOrTagsOrCombobox(props)) {\n        extraSelectionProps = _extends({}, extraSelectionProps, {\n          onKeyDown: this.onKeyDown,\n          tabIndex: props.disabled ? -1 : props.tabIndex\n        });\n      }\n\n      var rootCls = (_rootCls = {}, _defineProperty(_rootCls, className, !!className), _defineProperty(_rootCls, prefixCls, 1), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-open\"), open), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-focused\"), open || !!this._focused), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-combobox\"), isCombobox(props)), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-disabled\"), disabled), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-enabled\"), !disabled), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-allow-clear\"), !!props.allowClear), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-no-arrow\"), !showArrow), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-loading\"), !!loading), _rootCls);\n      return React.createElement(SelectTrigger, {\n        onPopupFocus: this.onPopupFocus,\n        onMouseEnter: this.props.onMouseEnter,\n        onMouseLeave: this.props.onMouseLeave,\n        dropdownAlign: props.dropdownAlign,\n        dropdownClassName: props.dropdownClassName,\n        dropdownMatchSelectWidth: props.dropdownMatchSelectWidth,\n        defaultActiveFirstOption: props.defaultActiveFirstOption,\n        dropdownMenuStyle: props.dropdownMenuStyle,\n        transitionName: props.transitionName,\n        animation: props.animation,\n        prefixCls: props.prefixCls,\n        dropdownStyle: props.dropdownStyle,\n        combobox: props.combobox,\n        showSearch: props.showSearch,\n        options: options,\n        empty: empty,\n        multiple: multiple,\n        disabled: disabled,\n        visible: realOpen,\n        inputValue: state.inputValue,\n        value: state.value,\n        backfillValue: state.backfillValue,\n        firstActiveValue: props.firstActiveValue,\n        onDropdownVisibleChange: this.onDropdownVisibleChange,\n        getPopupContainer: props.getPopupContainer,\n        onMenuSelect: this.onMenuSelect,\n        onMenuDeselect: this.onMenuDeselect,\n        onPopupScroll: props.onPopupScroll,\n        showAction: props.showAction,\n        ref: this.saveSelectTriggerRef,\n        menuItemSelectedIcon: props.menuItemSelectedIcon,\n        dropdownRender: props.dropdownRender,\n        ariaId: ariaId\n      }, React.createElement(\"div\", {\n        id: props.id,\n        style: props.style,\n        ref: this.saveRootRef,\n        onBlur: this.onOuterBlur,\n        onFocus: this.onOuterFocus,\n        className: classnames(rootCls),\n        onMouseDown: this.markMouseDown,\n        onMouseUp: this.markMouseLeave,\n        onMouseOut: this.markMouseLeave\n      }, React.createElement(\"div\", _extends({\n        ref: this.saveSelectionRef,\n        key: \"selection\",\n        className: \"\".concat(prefixCls, \"-selection\\n            \").concat(prefixCls, \"-selection--\").concat(multiple ? 'multiple' : 'single'),\n        role: \"combobox\",\n        \"aria-autocomplete\": \"list\",\n        \"aria-haspopup\": \"true\",\n        \"aria-controls\": ariaId,\n        \"aria-expanded\": realOpen\n      }, extraSelectionProps), ctrlNode, this.renderClear(), this.renderArrow(!!multiple))));\n    }\n  }]);\n\n  return Select;\n}(React.Component);\n\nSelect.propTypes = SelectPropTypes;\nSelect.defaultProps = {\n  prefixCls: 'rc-select',\n  defaultOpen: false,\n  labelInValue: false,\n  defaultActiveFirstOption: true,\n  showSearch: true,\n  allowClear: false,\n  placeholder: '',\n  onChange: noop,\n  onFocus: noop,\n  onBlur: noop,\n  onSelect: noop,\n  onSearch: noop,\n  onDeselect: noop,\n  onInputKeyDown: noop,\n  dropdownMatchSelectWidth: true,\n  dropdownStyle: {},\n  dropdownMenuStyle: {},\n  optionFilterProp: 'value',\n  optionLabelProp: 'value',\n  notFoundContent: 'Not Found',\n  backfill: false,\n  showAction: ['click'],\n  tokenSeparators: [],\n  autoClearSearchValue: true,\n  tabIndex: 0,\n  dropdownRender: function dropdownRender(menu) {\n    return menu;\n  }\n};\n\nSelect.getDerivedStateFromProps = function (nextProps, prevState) {\n  var optionsInfo = prevState.skipBuildOptionsInfo ? prevState.optionsInfo : Select.getOptionsInfoFromProps(nextProps, prevState);\n  var newState = {\n    optionsInfo: optionsInfo,\n    skipBuildOptionsInfo: false\n  };\n\n  if ('open' in nextProps) {\n    newState.open = nextProps.open;\n  }\n\n  if ('value' in nextProps) {\n    var value = Select.getValueFromProps(nextProps);\n    newState.value = value;\n\n    if (nextProps.combobox) {\n      newState.inputValue = Select.getInputValueForCombobox(nextProps, optionsInfo);\n    }\n  }\n\n  return newState;\n};\n\nSelect.getOptionsFromChildren = function (children) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  React.Children.forEach(children, function (child) {\n    if (!child) {\n      return;\n    }\n\n    var type = child.type;\n\n    if (type.isSelectOptGroup) {\n      Select.getOptionsFromChildren(child.props.children, options);\n    } else {\n      options.push(child);\n    }\n  });\n  return options;\n};\n\nSelect.getInputValueForCombobox = function (props, optionsInfo, useDefaultValue) {\n  var value = [];\n\n  if ('value' in props && !useDefaultValue) {\n    value = toArray(props.value);\n  }\n\n  if ('defaultValue' in props && useDefaultValue) {\n    value = toArray(props.defaultValue);\n  }\n\n  if (value.length) {\n    value = value[0];\n  } else {\n    return '';\n  }\n\n  var label = value;\n\n  if (props.labelInValue) {\n    label = value.label;\n  } else if (optionsInfo[getMapKey(value)]) {\n    label = optionsInfo[getMapKey(value)].label;\n  }\n\n  if (label === undefined) {\n    label = '';\n  }\n\n  return label;\n};\n\nSelect.getLabelFromOption = function (props, option) {\n  return getPropValue(option, props.optionLabelProp);\n};\n\nSelect.getOptionsInfoFromProps = function (props, preState) {\n  var options = Select.getOptionsFromChildren(props.children);\n  var optionsInfo = {};\n  options.forEach(function (option) {\n    var singleValue = getValuePropValue(option);\n    optionsInfo[getMapKey(singleValue)] = {\n      option: option,\n      value: singleValue,\n      label: Select.getLabelFromOption(props, option),\n      title: option.props.title,\n      disabled: option.props.disabled\n    };\n  });\n\n  if (preState) {\n    // keep option info in pre state value.\n    var oldOptionsInfo = preState.optionsInfo;\n    var value = preState.value;\n\n    if (value) {\n      value.forEach(function (v) {\n        var key = getMapKey(v);\n\n        if (!optionsInfo[key] && oldOptionsInfo[key] !== undefined) {\n          optionsInfo[key] = oldOptionsInfo[key];\n        }\n      });\n    }\n  }\n\n  return optionsInfo;\n};\n\nSelect.getValueFromProps = function (props, useDefaultValue) {\n  var value = [];\n\n  if ('value' in props && !useDefaultValue) {\n    value = toArray(props.value);\n  }\n\n  if ('defaultValue' in props && useDefaultValue) {\n    value = toArray(props.defaultValue);\n  }\n\n  if (props.labelInValue) {\n    value = value.map(function (v) {\n      return v.key;\n    });\n  }\n\n  return value;\n};\n\nSelect.displayName = 'Select';\npolyfill(Select);\nexport default Select;","map":{"version":3,"sources":["/Users/haroldxu/Desktop/Project/SCGO/client/node_modules/rc-select/es/Select.js"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","_extends","assign","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","constructor","_setPrototypeOf","p","classnames","classes","Animate","Item","MenuItem","ItemGroup","MenuItemGroup","childrenToArray","KeyCode","React","ReactDOM","polyfill","warning","Option","SelectPropTypes","SelectTrigger","defaultFilterFn","findFirstMenuItem","findIndexInValueBySingleValue","generateUUID","getLabelFromPropsValue","getMapKey","getPropValue","getValuePropValue","includesSeparators","isCombobox","isMultipleOrTags","isMultipleOrTagsOrCombobox","isSingleMode","preventDefaultEvent","saveRef","splitBySeparators","toArray","toTitle","UNSELECTABLE_ATTRIBUTE","UNSELECTABLE_STYLE","validateOptionValue","SELECT_EMPTY_VALUE_KEY","noop","chaining","_len","fns","Array","_key","_len2","args","_key2","Select","_React$Component","_this","inputRef","inputMirrorRef","topCtrlRef","selectTriggerRef","rootRef","selectionRef","dropdownContainer","blurTimer","focusTimer","comboboxTimer","_focused","_mouseDown","_options","_empty","onInputChange","event","tokenSeparators","val","nextValue","getValueByInput","undefined","fireChange","setOpenState","needFocus","setInputValue","setState","open","onDropdownVisibleChange","clearBlurTime","timeoutFocus","updateFocusClassName","onKeyDown","state","disabled","keyCode","getInputDOMNode","onInputKeyDown","ENTER","DOWN","preventDefault","SPACE","_this$props","combobox","defaultActiveFirstOption","isRealOpen","getRealOpenState","BACKSPACE","removeSelected","openIfHasChildren","stopPropagation","setTimeout","ESC","menu","getInnerMenu","handleBackfill","onMenuSelect","_ref","item","selectedValue","lastValue","skipTrigger","concat","backfillValue","fireSearch","fireSelect","inputValue","optionLabelProp","autoClearSearchValue","onMenuDeselect","_ref2","domEvent","type","onArrowClick","e","onPlaceholderClick","focus","onOuterFocus","inputNode","onPopupFocus","maybeFocus","onOuterBlur","window","showSearch","options","firstOption","tmpValue","onBlur","getVLForOnChange","onClearSelection","onChoiceAnimationLeave","forcePopupAlign","getOptionInfoBySingleValue","optionsInfo","info","defaultLabel","labelInValue","valueLabel","defaultValueLabel","defaultValue","defaultInfo","option","createElement","label","getOptionBySingleValue","_this$getOptionInfoBy","getOptionsBySingleValue","values","map","getValueByLabel","keys","forEach","oldLable","join","getVLBySingleValue","getLabelBySingleValue","vlsS","vls","v","vl","_this$getOptionInfoBy2","getDropdownContainer","document","body","appendChild","getPlaceholderElement","hidden","placeholder","onMouseDown","style","display","onClick","className","prefixCls","getInputElement","defaultInput","id","autoComplete","inputElement","inputCls","cloneElement","ref","saveInputRef","onChange","saveInputMirrorRef","querySelector","getInputMirrorDOMNode","getPopupDOMNode","getPopupMenuComponent","config","nextState","onSearch","prevState","str","_this$props2","multiple","hasNewValue","_open","markMouseDown","markMouseLeave","backfill","filterOption","input","child","defaultFilter","filterFn","bind","onFocus","clearFocusTime","clearTimeout","clearComboboxTime","add","remove","_document","activeElement","selectedKey","isChildDisabled","oldValue","filter","singleValue","canMultiple","onDeselect","Children","count","children","onSelect","some","childValue","triggerRef","renderFilterOptions","_this$props3","tags","notFoundContent","menuItems","childrenKeys","empty","renderFilterOptionsFromChildren","indexOf","String","sort","val1","val2","menuItem","role","attribute","push","every","unshift","sel","isSelectOptGroup","innerItems","subChild","childValueSub","title","_innerItems","isSelectOption","name","displayName","renderTopControlNode","_this$state","choiceTransitionName","maxTagTextLength","maxTagCount","removeIcon","maxTagPlaceholder","innerNode","showSelectedValue","opacity","_this$getOptionInfoBy3","selectedValueNodes","limitedCountValue","maxTagPlaceholderEl","slice","omittedValues","content","choiceClassName","onLeave","component","transitionName","saveTopCtrlRef","getOptionsInfoFromProps","isDisabledExist","getValueFromProps","getInputValueForCombobox","defaultOpen","skipBuildOptionsInfo","ariaId","saveSelectTriggerRef","saveRootRef","saveSelectionRef","componentDidMount","autoFocus","componentDidUpdate","mirrorNode","width","clientWidth","componentWillUnmount","unmountComponentAtNode","removeChild","blur","renderArrow","_this$props4","_this$props4$showArro","showArrow","loading","inputIcon","defaultIcon","renderClear","_this$props5","allowClear","clearIcon","clear","render","_rootCls","_props$showArrow","ctrlNode","_this$state2","filterOptions","realOpen","dataOrAriaAttributeProps","substr","extraSelectionProps","tabIndex","rootCls","onMouseEnter","onMouseLeave","dropdownAlign","dropdownClassName","dropdownMatchSelectWidth","dropdownMenuStyle","animation","dropdownStyle","visible","firstActiveValue","getPopupContainer","onPopupScroll","showAction","menuItemSelectedIcon","dropdownRender","onMouseUp","onMouseOut","Component","propTypes","defaultProps","optionFilterProp","getDerivedStateFromProps","nextProps","newState","getOptionsFromChildren","useDefaultValue","getLabelFromOption","preState","oldOptionsInfo"],"mappings":"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","sourcesContent":["function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport classnames from 'classnames';\nimport classes from 'component-classes';\nimport Animate from 'rc-animate';\nimport { Item as MenuItem, ItemGroup as MenuItemGroup } from 'rc-menu';\nimport childrenToArray from \"rc-util/es/Children/toArray\";\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { polyfill } from 'react-lifecycles-compat';\nimport warning from 'warning';\nimport Option from './Option';\nimport SelectPropTypes from './PropTypes';\nimport SelectTrigger from './SelectTrigger';\nimport { defaultFilterFn, findFirstMenuItem, findIndexInValueBySingleValue, generateUUID, getLabelFromPropsValue, getMapKey, getPropValue, getValuePropValue, includesSeparators, isCombobox, isMultipleOrTags, isMultipleOrTagsOrCombobox, isSingleMode, preventDefaultEvent, saveRef, splitBySeparators, toArray, toTitle, UNSELECTABLE_ATTRIBUTE, UNSELECTABLE_STYLE, validateOptionValue } from './util';\nvar SELECT_EMPTY_VALUE_KEY = 'RC_SELECT_EMPTY_VALUE_KEY';\n\nvar noop = function noop() {\n  return null;\n};\n\nfunction chaining() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    // tslint:disable-next-line:prefer-for-of\n    for (var i = 0; i < fns.length; i++) {\n      if (fns[i] && typeof fns[i] === 'function') {\n        fns[i].apply(chaining, args);\n      }\n    }\n  };\n}\n\nvar Select =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Select, _React$Component);\n\n  function Select(props) {\n    var _this;\n\n    _classCallCheck(this, Select);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Select).call(this, props));\n    _this.inputRef = null;\n    _this.inputMirrorRef = null;\n    _this.topCtrlRef = null;\n    _this.selectTriggerRef = null;\n    _this.rootRef = null;\n    _this.selectionRef = null;\n    _this.dropdownContainer = null;\n    _this.blurTimer = null;\n    _this.focusTimer = null;\n    _this.comboboxTimer = null; // tslint:disable-next-line:variable-name\n\n    _this._focused = false; // tslint:disable-next-line:variable-name\n\n    _this._mouseDown = false; // tslint:disable-next-line:variable-name\n\n    _this._options = []; // tslint:disable-next-line:variable-name\n\n    _this._empty = false;\n\n    _this.onInputChange = function (event) {\n      var tokenSeparators = _this.props.tokenSeparators;\n      var val = event.target.value;\n\n      if (isMultipleOrTags(_this.props) && tokenSeparators.length && includesSeparators(val, tokenSeparators)) {\n        var nextValue = _this.getValueByInput(val);\n\n        if (nextValue !== undefined) {\n          _this.fireChange(nextValue);\n        }\n\n        _this.setOpenState(false, {\n          needFocus: true\n        });\n\n        _this.setInputValue('', false);\n\n        return;\n      }\n\n      _this.setInputValue(val);\n\n      _this.setState({\n        open: true\n      });\n\n      if (isCombobox(_this.props)) {\n        _this.fireChange([val]);\n      }\n    };\n\n    _this.onDropdownVisibleChange = function (open) {\n      if (open && !_this._focused) {\n        _this.clearBlurTime();\n\n        _this.timeoutFocus();\n\n        _this._focused = true;\n\n        _this.updateFocusClassName();\n      }\n\n      _this.setOpenState(open);\n    }; // combobox ignore\n\n\n    _this.onKeyDown = function (event) {\n      var open = _this.state.open;\n      var disabled = _this.props.disabled;\n\n      if (disabled) {\n        return;\n      }\n\n      var keyCode = event.keyCode;\n\n      if (open && !_this.getInputDOMNode()) {\n        _this.onInputKeyDown(event);\n      } else if (keyCode === KeyCode.ENTER || keyCode === KeyCode.DOWN) {\n        if (!open) {\n          _this.setOpenState(true);\n        }\n\n        event.preventDefault();\n      } else if (keyCode === KeyCode.SPACE) {\n        // Not block space if popup is shown\n        if (!open) {\n          _this.setOpenState(true);\n\n          event.preventDefault();\n        }\n      }\n    };\n\n    _this.onInputKeyDown = function (event) {\n      var _this$props = _this.props,\n          disabled = _this$props.disabled,\n          combobox = _this$props.combobox,\n          defaultActiveFirstOption = _this$props.defaultActiveFirstOption;\n\n      if (disabled) {\n        return;\n      }\n\n      var state = _this.state;\n\n      var isRealOpen = _this.getRealOpenState(state); // magic code\n\n\n      var keyCode = event.keyCode;\n\n      if (isMultipleOrTags(_this.props) && !event.target.value && keyCode === KeyCode.BACKSPACE) {\n        event.preventDefault();\n        var value = state.value;\n\n        if (value.length) {\n          _this.removeSelected(value[value.length - 1]);\n        }\n\n        return;\n      }\n\n      if (keyCode === KeyCode.DOWN) {\n        if (!state.open) {\n          _this.openIfHasChildren();\n\n          event.preventDefault();\n          event.stopPropagation();\n          return;\n        }\n      } else if (keyCode === KeyCode.ENTER && state.open) {\n        // Aviod trigger form submit when select item\n        // https://github.com/ant-design/ant-design/issues/10861\n        // https://github.com/ant-design/ant-design/issues/14544\n        if (isRealOpen || !combobox) {\n          event.preventDefault();\n        } // Hard close popup to avoid lock of non option in combobox mode\n\n\n        if (isRealOpen && combobox && defaultActiveFirstOption === false) {\n          _this.comboboxTimer = setTimeout(function () {\n            _this.setOpenState(false);\n          });\n        }\n      } else if (keyCode === KeyCode.ESC) {\n        if (state.open) {\n          _this.setOpenState(false);\n\n          event.preventDefault();\n          event.stopPropagation();\n        }\n\n        return;\n      }\n\n      if (isRealOpen && _this.selectTriggerRef) {\n        var menu = _this.selectTriggerRef.getInnerMenu();\n\n        if (menu && menu.onKeyDown(event, _this.handleBackfill)) {\n          event.preventDefault();\n          event.stopPropagation();\n        }\n      }\n    };\n\n    _this.onMenuSelect = function (_ref) {\n      var item = _ref.item;\n\n      if (!item) {\n        return;\n      }\n\n      var value = _this.state.value;\n      var props = _this.props;\n      var selectedValue = getValuePropValue(item);\n      var lastValue = value[value.length - 1];\n      var skipTrigger = false;\n\n      if (isMultipleOrTags(props)) {\n        if (findIndexInValueBySingleValue(value, selectedValue) !== -1) {\n          skipTrigger = true;\n        } else {\n          value = value.concat([selectedValue]);\n        }\n      } else {\n        if (!isCombobox(props) && lastValue !== undefined && lastValue === selectedValue && selectedValue !== _this.state.backfillValue) {\n          _this.setOpenState(false, {\n            needFocus: true,\n            fireSearch: false\n          });\n\n          skipTrigger = true;\n        } else {\n          value = [selectedValue];\n\n          _this.setOpenState(false, {\n            needFocus: true,\n            fireSearch: false\n          });\n        }\n      }\n\n      if (!skipTrigger) {\n        _this.fireChange(value);\n      }\n\n      _this.fireSelect(selectedValue);\n\n      if (!skipTrigger) {\n        var inputValue = isCombobox(props) ? getPropValue(item, props.optionLabelProp) : '';\n\n        if (props.autoClearSearchValue) {\n          _this.setInputValue(inputValue, false);\n        }\n      }\n    };\n\n    _this.onMenuDeselect = function (_ref2) {\n      var item = _ref2.item,\n          domEvent = _ref2.domEvent;\n\n      if (domEvent.type === 'keydown' && domEvent.keyCode === KeyCode.ENTER) {\n        _this.removeSelected(getValuePropValue(item));\n\n        return;\n      }\n\n      if (domEvent.type === 'click') {\n        _this.removeSelected(getValuePropValue(item));\n      }\n\n      var props = _this.props;\n\n      if (props.autoClearSearchValue) {\n        _this.setInputValue('');\n      }\n    };\n\n    _this.onArrowClick = function (e) {\n      e.stopPropagation();\n      e.preventDefault();\n\n      if (!_this.props.disabled) {\n        _this.setOpenState(!_this.state.open, {\n          needFocus: !_this.state.open\n        });\n      }\n    };\n\n    _this.onPlaceholderClick = function () {\n      if (_this.getInputDOMNode && _this.getInputDOMNode()) {\n        _this.getInputDOMNode().focus();\n      }\n    };\n\n    _this.onOuterFocus = function (e) {\n      if (_this.props.disabled) {\n        e.preventDefault();\n        return;\n      }\n\n      _this.clearBlurTime(); // In IE11, onOuterFocus will be trigger twice when focus input\n      // First one: e.target is div\n      // Second one: e.target is input\n      // other browser only trigger second one\n      // https://github.com/ant-design/ant-design/issues/15942\n      // Here we ignore the first one when e.target is div\n\n\n      var inputNode = _this.getInputDOMNode();\n\n      if (inputNode && e.target === _this.rootRef) {\n        return;\n      }\n\n      if (!isMultipleOrTagsOrCombobox(_this.props) && e.target === inputNode) {\n        return;\n      }\n\n      if (_this._focused) {\n        return;\n      }\n\n      _this._focused = true;\n\n      _this.updateFocusClassName(); // only effect multiple or tag mode\n\n\n      if (!isMultipleOrTags(_this.props) || !_this._mouseDown) {\n        _this.timeoutFocus();\n      }\n    };\n\n    _this.onPopupFocus = function () {\n      // fix ie scrollbar, focus element again\n      _this.maybeFocus(true, true);\n    };\n\n    _this.onOuterBlur = function (e) {\n      if (_this.props.disabled) {\n        e.preventDefault();\n        return;\n      }\n\n      _this.blurTimer = window.setTimeout(function () {\n        _this._focused = false;\n\n        _this.updateFocusClassName();\n\n        var props = _this.props;\n        var value = _this.state.value;\n        var inputValue = _this.state.inputValue;\n\n        if (isSingleMode(props) && props.showSearch && inputValue && props.defaultActiveFirstOption) {\n          var options = _this._options || [];\n\n          if (options.length) {\n            var firstOption = findFirstMenuItem(options);\n\n            if (firstOption) {\n              value = [getValuePropValue(firstOption)];\n\n              _this.fireChange(value);\n            }\n          }\n        } else if (isMultipleOrTags(props) && inputValue) {\n          if (_this._mouseDown) {\n            // need update dropmenu when not blur\n            _this.setInputValue('');\n          } else {\n            // why not use setState?\n            // https://github.com/ant-design/ant-design/issues/14262\n            _this.state.inputValue = '';\n\n            if (_this.getInputDOMNode && _this.getInputDOMNode()) {\n              _this.getInputDOMNode().value = '';\n            }\n          }\n\n          var tmpValue = _this.getValueByInput(inputValue);\n\n          if (tmpValue !== undefined) {\n            value = tmpValue;\n\n            _this.fireChange(value);\n          }\n        } // if click the rest space of Select in multiple mode\n\n\n        if (isMultipleOrTags(props) && _this._mouseDown) {\n          _this.maybeFocus(true, true);\n\n          _this._mouseDown = false;\n          return;\n        }\n\n        _this.setOpenState(false);\n\n        if (props.onBlur) {\n          props.onBlur(_this.getVLForOnChange(value));\n        }\n      }, 10);\n    };\n\n    _this.onClearSelection = function (event) {\n      var props = _this.props;\n      var state = _this.state;\n\n      if (props.disabled) {\n        return;\n      }\n\n      var inputValue = state.inputValue;\n      var value = state.value;\n      event.stopPropagation();\n\n      if (inputValue || value.length) {\n        if (value.length) {\n          _this.fireChange([]);\n        }\n\n        _this.setOpenState(false, {\n          needFocus: true\n        });\n\n        if (inputValue) {\n          _this.setInputValue('');\n        }\n      }\n    };\n\n    _this.onChoiceAnimationLeave = function () {\n      _this.forcePopupAlign();\n    };\n\n    _this.getOptionInfoBySingleValue = function (value, optionsInfo) {\n      var info;\n      optionsInfo = optionsInfo || _this.state.optionsInfo;\n\n      if (optionsInfo[getMapKey(value)]) {\n        info = optionsInfo[getMapKey(value)];\n      }\n\n      if (info) {\n        return info;\n      }\n\n      var defaultLabel = value;\n\n      if (_this.props.labelInValue) {\n        var valueLabel = getLabelFromPropsValue(_this.props.value, value);\n        var defaultValueLabel = getLabelFromPropsValue(_this.props.defaultValue, value);\n\n        if (valueLabel !== undefined) {\n          defaultLabel = valueLabel;\n        } else if (defaultValueLabel !== undefined) {\n          defaultLabel = defaultValueLabel;\n        }\n      }\n\n      var defaultInfo = {\n        option: React.createElement(Option, {\n          value: value,\n          key: value\n        }, value),\n        value: value,\n        label: defaultLabel\n      };\n      return defaultInfo;\n    };\n\n    _this.getOptionBySingleValue = function (value) {\n      var _this$getOptionInfoBy = _this.getOptionInfoBySingleValue(value),\n          option = _this$getOptionInfoBy.option;\n\n      return option;\n    };\n\n    _this.getOptionsBySingleValue = function (values) {\n      return values.map(function (value) {\n        return _this.getOptionBySingleValue(value);\n      });\n    };\n\n    _this.getValueByLabel = function (label) {\n      if (label === undefined) {\n        return null;\n      }\n\n      var value = null;\n      Object.keys(_this.state.optionsInfo).forEach(function (key) {\n        var info = _this.state.optionsInfo[key];\n        var disabled = info.disabled;\n\n        if (disabled) {\n          return;\n        }\n\n        var oldLable = toArray(info.label);\n\n        if (oldLable && oldLable.join('') === label) {\n          value = info.value;\n        }\n      });\n      return value;\n    };\n\n    _this.getVLBySingleValue = function (value) {\n      if (_this.props.labelInValue) {\n        return {\n          key: value,\n          label: _this.getLabelBySingleValue(value)\n        };\n      }\n\n      return value;\n    };\n\n    _this.getVLForOnChange = function (vlsS) {\n      var vls = vlsS;\n\n      if (vls !== undefined) {\n        if (!_this.props.labelInValue) {\n          vls = vls.map(function (v) {\n            return v;\n          });\n        } else {\n          vls = vls.map(function (vl) {\n            return {\n              key: vl,\n              label: _this.getLabelBySingleValue(vl)\n            };\n          });\n        }\n\n        return isMultipleOrTags(_this.props) ? vls : vls[0];\n      }\n\n      return vls;\n    };\n\n    _this.getLabelBySingleValue = function (value, optionsInfo) {\n      var _this$getOptionInfoBy2 = _this.getOptionInfoBySingleValue(value, optionsInfo),\n          label = _this$getOptionInfoBy2.label;\n\n      return label;\n    };\n\n    _this.getDropdownContainer = function () {\n      if (!_this.dropdownContainer) {\n        _this.dropdownContainer = document.createElement('div');\n        document.body.appendChild(_this.dropdownContainer);\n      }\n\n      return _this.dropdownContainer;\n    };\n\n    _this.getPlaceholderElement = function () {\n      var props = _this.props;\n      var state = _this.state;\n      var hidden = false;\n\n      if (state.inputValue) {\n        hidden = true;\n      }\n\n      var value = state.value;\n\n      if (value.length) {\n        hidden = true;\n      }\n\n      if (isCombobox(props) && value.length === 1 && state.value && !state.value[0]) {\n        hidden = false;\n      }\n\n      var placeholder = props.placeholder;\n\n      if (placeholder) {\n        return React.createElement(\"div\", _extends({\n          onMouseDown: preventDefaultEvent,\n          style: _extends({\n            display: hidden ? 'none' : 'block'\n          }, UNSELECTABLE_STYLE)\n        }, UNSELECTABLE_ATTRIBUTE, {\n          onClick: _this.onPlaceholderClick,\n          className: \"\".concat(props.prefixCls, \"-selection__placeholder\")\n        }), placeholder);\n      }\n\n      return null;\n    };\n\n    _this.getInputElement = function () {\n      var props = _this.props;\n      var defaultInput = React.createElement(\"input\", {\n        id: props.id,\n        autoComplete: \"off\"\n      }); // tslint:disable-next-line:typedef-whitespace\n\n      var inputElement = props.getInputElement ? props.getInputElement() : defaultInput;\n      var inputCls = classnames(inputElement.props.className, _defineProperty({}, \"\".concat(props.prefixCls, \"-search__field\"), true)); // https://github.com/ant-design/ant-design/issues/4992#issuecomment-281542159\n      // Add space to the end of the inputValue as the width measurement tolerance\n\n      return React.createElement(\"div\", {\n        className: \"\".concat(props.prefixCls, \"-search__field__wrap\")\n      }, React.cloneElement(inputElement, {\n        ref: _this.saveInputRef,\n        onChange: _this.onInputChange,\n        onKeyDown: chaining(_this.onInputKeyDown, inputElement.props.onKeyDown, _this.props.onInputKeyDown),\n        value: _this.state.inputValue,\n        disabled: props.disabled,\n        className: inputCls\n      }), React.createElement(\"span\", {\n        ref: _this.saveInputMirrorRef,\n        className: \"\".concat(props.prefixCls, \"-search__field__mirror\")\n      }, _this.state.inputValue, \"\\xA0\"));\n    };\n\n    _this.getInputDOMNode = function () {\n      return _this.topCtrlRef ? _this.topCtrlRef.querySelector('input,textarea,div[contentEditable]') : _this.inputRef;\n    };\n\n    _this.getInputMirrorDOMNode = function () {\n      return _this.inputMirrorRef;\n    };\n\n    _this.getPopupDOMNode = function () {\n      if (_this.selectTriggerRef) {\n        return _this.selectTriggerRef.getPopupDOMNode();\n      }\n    };\n\n    _this.getPopupMenuComponent = function () {\n      if (_this.selectTriggerRef) {\n        return _this.selectTriggerRef.getInnerMenu();\n      }\n    };\n\n    _this.setOpenState = function (open) {\n      var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var needFocus = config.needFocus,\n          fireSearch = config.fireSearch;\n      var props = _this.props;\n      var state = _this.state;\n\n      if (state.open === open) {\n        _this.maybeFocus(open, !!needFocus);\n\n        return;\n      }\n\n      if (_this.props.onDropdownVisibleChange) {\n        _this.props.onDropdownVisibleChange(open);\n      }\n\n      var nextState = {\n        open: open,\n        backfillValue: ''\n      }; // clear search input value when open is false in singleMode.\n      // https://github.com/ant-design/ant-design/issues/16572\n\n      if (!open && isSingleMode(props) && props.showSearch) {\n        _this.setInputValue('', fireSearch);\n      }\n\n      if (!open) {\n        _this.maybeFocus(open, !!needFocus);\n      }\n\n      _this.setState(_extends({\n        open: open\n      }, nextState), function () {\n        if (open) {\n          _this.maybeFocus(open, !!needFocus);\n        }\n      });\n    };\n\n    _this.setInputValue = function (inputValue) {\n      var fireSearch = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var onSearch = _this.props.onSearch;\n\n      if (inputValue !== _this.state.inputValue) {\n        _this.setState(function (prevState) {\n          // Additional check if `inputValue` changed in latest state.\n          if (fireSearch && inputValue !== prevState.inputValue && onSearch) {\n            onSearch(inputValue);\n          }\n\n          return {\n            inputValue: inputValue\n          };\n        }, _this.forcePopupAlign);\n      }\n    };\n\n    _this.getValueByInput = function (str) {\n      var _this$props2 = _this.props,\n          multiple = _this$props2.multiple,\n          tokenSeparators = _this$props2.tokenSeparators;\n      var nextValue = _this.state.value;\n      var hasNewValue = false;\n      splitBySeparators(str, tokenSeparators).forEach(function (label) {\n        var selectedValue = [label];\n\n        if (multiple) {\n          var value = _this.getValueByLabel(label);\n\n          if (value && findIndexInValueBySingleValue(nextValue, value) === -1) {\n            nextValue = nextValue.concat(value);\n            hasNewValue = true;\n\n            _this.fireSelect(value);\n          }\n        } else if (findIndexInValueBySingleValue(nextValue, label) === -1) {\n          nextValue = nextValue.concat(selectedValue);\n          hasNewValue = true;\n\n          _this.fireSelect(label);\n        }\n      });\n      return hasNewValue ? nextValue : undefined;\n    };\n\n    _this.getRealOpenState = function (state) {\n      // tslint:disable-next-line:variable-name\n      var _open = _this.props.open;\n\n      if (typeof _open === 'boolean') {\n        return _open;\n      }\n\n      var open = (state || _this.state).open;\n      var options = _this._options || [];\n\n      if (isMultipleOrTagsOrCombobox(_this.props) || !_this.props.showSearch) {\n        if (open && !options.length) {\n          open = false;\n        }\n      }\n\n      return open;\n    };\n\n    _this.markMouseDown = function () {\n      _this._mouseDown = true;\n    };\n\n    _this.markMouseLeave = function () {\n      _this._mouseDown = false;\n    };\n\n    _this.handleBackfill = function (item) {\n      if (!_this.props.backfill || !(isSingleMode(_this.props) || isCombobox(_this.props))) {\n        return;\n      }\n\n      var key = getValuePropValue(item);\n\n      if (isCombobox(_this.props)) {\n        _this.setInputValue(key, false);\n      }\n\n      _this.setState({\n        value: [key],\n        backfillValue: key\n      });\n    };\n\n    _this.filterOption = function (input, child) {\n      var defaultFilter = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultFilterFn;\n      var value = _this.state.value;\n      var lastValue = value[value.length - 1];\n\n      if (!input || lastValue && lastValue === _this.state.backfillValue) {\n        return true;\n      }\n\n      var filterFn = _this.props.filterOption;\n\n      if ('filterOption' in _this.props) {\n        if (filterFn === true) {\n          filterFn = defaultFilter.bind(_assertThisInitialized(_this));\n        }\n      } else {\n        filterFn = defaultFilter.bind(_assertThisInitialized(_this));\n      }\n\n      if (!filterFn) {\n        return true;\n      } else if (typeof filterFn === 'function') {\n        return filterFn.call(_assertThisInitialized(_this), input, child);\n      } else if (child.props.disabled) {\n        return false;\n      }\n\n      return true;\n    };\n\n    _this.timeoutFocus = function () {\n      var onFocus = _this.props.onFocus;\n\n      if (_this.focusTimer) {\n        _this.clearFocusTime();\n      }\n\n      _this.focusTimer = window.setTimeout(function () {\n        if (onFocus) {\n          onFocus();\n        }\n      }, 10);\n    };\n\n    _this.clearFocusTime = function () {\n      if (_this.focusTimer) {\n        clearTimeout(_this.focusTimer);\n        _this.focusTimer = null;\n      }\n    };\n\n    _this.clearBlurTime = function () {\n      if (_this.blurTimer) {\n        clearTimeout(_this.blurTimer);\n        _this.blurTimer = null;\n      }\n    };\n\n    _this.clearComboboxTime = function () {\n      if (_this.comboboxTimer) {\n        clearTimeout(_this.comboboxTimer);\n        _this.comboboxTimer = null;\n      }\n    };\n\n    _this.updateFocusClassName = function () {\n      var rootRef = _this.rootRef;\n      var props = _this.props; // avoid setState and its side effect\n\n      if (_this._focused) {\n        classes(rootRef).add(\"\".concat(props.prefixCls, \"-focused\"));\n      } else {\n        classes(rootRef).remove(\"\".concat(props.prefixCls, \"-focused\"));\n      }\n    };\n\n    _this.maybeFocus = function (open, needFocus) {\n      if (needFocus || open) {\n        var input = _this.getInputDOMNode();\n\n        var _document = document,\n            activeElement = _document.activeElement;\n\n        if (input && (open || isMultipleOrTagsOrCombobox(_this.props))) {\n          if (activeElement !== input) {\n            input.focus();\n            _this._focused = true;\n          }\n        } else if (activeElement !== _this.selectionRef && _this.selectionRef) {\n          _this.selectionRef.focus();\n\n          _this._focused = true;\n        }\n      }\n    };\n\n    _this.removeSelected = function (selectedKey, e) {\n      var props = _this.props;\n\n      if (props.disabled || _this.isChildDisabled(selectedKey)) {\n        return;\n      } // Do not trigger Trigger popup\n\n\n      if (e && e.stopPropagation) {\n        e.stopPropagation();\n      }\n\n      var oldValue = _this.state.value;\n      var value = oldValue.filter(function (singleValue) {\n        return singleValue !== selectedKey;\n      });\n      var canMultiple = isMultipleOrTags(props);\n\n      if (canMultiple) {\n        var event = selectedKey;\n\n        if (props.labelInValue) {\n          event = {\n            key: selectedKey,\n            label: _this.getLabelBySingleValue(selectedKey)\n          };\n        }\n\n        if (props.onDeselect) {\n          props.onDeselect(event, _this.getOptionBySingleValue(selectedKey));\n        }\n      }\n\n      _this.fireChange(value);\n    };\n\n    _this.openIfHasChildren = function () {\n      var props = _this.props;\n\n      if (React.Children.count(props.children) || isSingleMode(props)) {\n        _this.setOpenState(true);\n      }\n    };\n\n    _this.fireSelect = function (value) {\n      if (_this.props.onSelect) {\n        _this.props.onSelect(_this.getVLBySingleValue(value), _this.getOptionBySingleValue(value));\n      }\n    };\n\n    _this.fireChange = function (value) {\n      var props = _this.props;\n\n      if (!('value' in props)) {\n        _this.setState({\n          value: value\n        }, _this.forcePopupAlign);\n      }\n\n      var vls = _this.getVLForOnChange(value);\n\n      var options = _this.getOptionsBySingleValue(value);\n\n      if (props.onChange) {\n        props.onChange(vls, isMultipleOrTags(_this.props) ? options : options[0]);\n      }\n    };\n\n    _this.isChildDisabled = function (key) {\n      return childrenToArray(_this.props.children).some(function (child) {\n        var childValue = getValuePropValue(child);\n        return childValue === key && child.props && child.props.disabled;\n      });\n    };\n\n    _this.forcePopupAlign = function () {\n      if (!_this.state.open) {\n        return;\n      }\n\n      if (_this.selectTriggerRef && _this.selectTriggerRef.triggerRef) {\n        _this.selectTriggerRef.triggerRef.forcePopupAlign();\n      }\n    };\n\n    _this.renderFilterOptions = function () {\n      var inputValue = _this.state.inputValue;\n      var _this$props3 = _this.props,\n          children = _this$props3.children,\n          tags = _this$props3.tags,\n          notFoundContent = _this$props3.notFoundContent;\n      var menuItems = [];\n      var childrenKeys = [];\n      var empty = false;\n\n      var options = _this.renderFilterOptionsFromChildren(children, childrenKeys, menuItems);\n\n      if (tags) {\n        // tags value must be string\n        var value = _this.state.value;\n        value = value.filter(function (singleValue) {\n          return childrenKeys.indexOf(singleValue) === -1 && (!inputValue || String(singleValue).indexOf(String(inputValue)) > -1);\n        }); // sort by length\n\n        value.sort(function (val1, val2) {\n          return val1.length - val2.length;\n        });\n        value.forEach(function (singleValue) {\n          var key = singleValue;\n          var menuItem = React.createElement(MenuItem, {\n            style: UNSELECTABLE_STYLE,\n            role: \"option\",\n            attribute: UNSELECTABLE_ATTRIBUTE,\n            value: key,\n            key: key\n          }, key);\n          options.push(menuItem);\n          menuItems.push(menuItem);\n        }); // ref: https://github.com/ant-design/ant-design/issues/14090\n\n        if (inputValue && menuItems.every(function (option) {\n          return getValuePropValue(option) !== inputValue;\n        })) {\n          options.unshift(React.createElement(MenuItem, {\n            style: UNSELECTABLE_STYLE,\n            role: \"option\",\n            attribute: UNSELECTABLE_ATTRIBUTE,\n            value: inputValue,\n            key: inputValue\n          }, inputValue));\n        }\n      }\n\n      if (!options.length && notFoundContent) {\n        empty = true;\n        options = [React.createElement(MenuItem, {\n          style: UNSELECTABLE_STYLE,\n          attribute: UNSELECTABLE_ATTRIBUTE,\n          disabled: true,\n          role: \"option\",\n          value: \"NOT_FOUND\",\n          key: \"NOT_FOUND\"\n        }, notFoundContent)];\n      }\n\n      return {\n        empty: empty,\n        options: options\n      };\n    };\n\n    _this.renderFilterOptionsFromChildren = function (children, childrenKeys, menuItems) {\n      var sel = [];\n      var props = _this.props;\n      var inputValue = _this.state.inputValue;\n      var tags = props.tags;\n      React.Children.forEach(children, function (child) {\n        if (!child) {\n          return;\n        }\n\n        var type = child.type;\n\n        if (type.isSelectOptGroup) {\n          var label = child.props.label;\n          var key = child.key;\n\n          if (!key && typeof label === 'string') {\n            key = label;\n          } else if (!label && key) {\n            label = key;\n          } // Match option group label\n\n\n          if (inputValue && _this.filterOption(inputValue, child)) {\n            var innerItems = childrenToArray(child.props.children).map(function (subChild) {\n              var childValueSub = getValuePropValue(subChild) || subChild.key;\n              return React.createElement(MenuItem, _extends({\n                key: childValueSub,\n                value: childValueSub\n              }, subChild.props));\n            });\n            sel.push(React.createElement(MenuItemGroup, {\n              key: key,\n              title: label\n            }, innerItems)); // Not match\n          } else {\n            var _innerItems = _this.renderFilterOptionsFromChildren(child.props.children, childrenKeys, menuItems);\n\n            if (_innerItems.length) {\n              sel.push(React.createElement(MenuItemGroup, {\n                key: key,\n                title: label\n              }, _innerItems));\n            }\n          }\n\n          return;\n        }\n\n        warning(type.isSelectOption, 'the children of `Select` should be `Select.Option` or `Select.OptGroup`, ' + \"instead of `\".concat(type.name || type.displayName || child.type, \"`.\"));\n        var childValue = getValuePropValue(child);\n        validateOptionValue(childValue, _this.props);\n\n        if (_this.filterOption(inputValue, child)) {\n          var menuItem = React.createElement(MenuItem, _extends({\n            style: UNSELECTABLE_STYLE,\n            attribute: UNSELECTABLE_ATTRIBUTE,\n            value: childValue,\n            key: childValue,\n            role: \"option\"\n          }, child.props));\n          sel.push(menuItem);\n          menuItems.push(menuItem);\n        }\n\n        if (tags) {\n          childrenKeys.push(childValue);\n        }\n      });\n      return sel;\n    };\n\n    _this.renderTopControlNode = function () {\n      var _this$state = _this.state,\n          open = _this$state.open,\n          inputValue = _this$state.inputValue;\n      var value = _this.state.value;\n      var props = _this.props;\n      var choiceTransitionName = props.choiceTransitionName,\n          prefixCls = props.prefixCls,\n          maxTagTextLength = props.maxTagTextLength,\n          maxTagCount = props.maxTagCount,\n          showSearch = props.showSearch,\n          removeIcon = props.removeIcon;\n      var maxTagPlaceholder = props.maxTagPlaceholder;\n      var className = \"\".concat(prefixCls, \"-selection__rendered\"); // search input is inside topControlNode in single, multiple & combobox. 2016/04/13\n\n      var innerNode = null;\n\n      if (isSingleMode(props)) {\n        var selectedValue = null;\n\n        if (value.length) {\n          var showSelectedValue = false;\n          var opacity = 1;\n\n          if (!showSearch) {\n            showSelectedValue = true;\n          } else if (open) {\n            showSelectedValue = !inputValue;\n\n            if (showSelectedValue) {\n              opacity = 0.4;\n            }\n          } else {\n            showSelectedValue = true;\n          }\n\n          var singleValue = value[0];\n\n          var _this$getOptionInfoBy3 = _this.getOptionInfoBySingleValue(singleValue),\n              label = _this$getOptionInfoBy3.label,\n              title = _this$getOptionInfoBy3.title;\n\n          selectedValue = React.createElement(\"div\", {\n            key: \"value\",\n            className: \"\".concat(prefixCls, \"-selection-selected-value\"),\n            title: toTitle(title || label),\n            style: {\n              display: showSelectedValue ? 'block' : 'none',\n              opacity: opacity\n            }\n          }, label);\n        }\n\n        if (!showSearch) {\n          innerNode = [selectedValue];\n        } else {\n          innerNode = [selectedValue, React.createElement(\"div\", {\n            className: \"\".concat(prefixCls, \"-search \").concat(prefixCls, \"-search--inline\"),\n            key: \"input\",\n            style: {\n              display: open ? 'block' : 'none'\n            }\n          }, _this.getInputElement())];\n        }\n      } else {\n        var selectedValueNodes = [];\n        var limitedCountValue = value;\n        var maxTagPlaceholderEl;\n\n        if (maxTagCount !== undefined && value.length > maxTagCount) {\n          limitedCountValue = limitedCountValue.slice(0, maxTagCount);\n\n          var omittedValues = _this.getVLForOnChange(value.slice(maxTagCount, value.length));\n\n          var content = \"+ \".concat(value.length - maxTagCount, \" ...\");\n\n          if (maxTagPlaceholder) {\n            content = typeof maxTagPlaceholder === 'function' ? maxTagPlaceholder(omittedValues) : maxTagPlaceholder;\n          }\n\n          maxTagPlaceholderEl = React.createElement(\"li\", _extends({\n            style: UNSELECTABLE_STYLE\n          }, UNSELECTABLE_ATTRIBUTE, {\n            role: \"presentation\",\n            onMouseDown: preventDefaultEvent,\n            className: \"\".concat(prefixCls, \"-selection__choice \").concat(prefixCls, \"-selection__choice__disabled\"),\n            key: \"maxTagPlaceholder\",\n            title: toTitle(content)\n          }), React.createElement(\"div\", {\n            className: \"\".concat(prefixCls, \"-selection__choice__content\")\n          }, content));\n        }\n\n        if (isMultipleOrTags(props)) {\n          selectedValueNodes = limitedCountValue.map(function (singleValue) {\n            var info = _this.getOptionInfoBySingleValue(singleValue);\n\n            var content = info.label;\n            var title = info.title || content;\n\n            if (maxTagTextLength && typeof content === 'string' && content.length > maxTagTextLength) {\n              content = \"\".concat(content.slice(0, maxTagTextLength), \"...\");\n            }\n\n            var disabled = _this.isChildDisabled(singleValue);\n\n            var choiceClassName = disabled ? \"\".concat(prefixCls, \"-selection__choice \").concat(prefixCls, \"-selection__choice__disabled\") : \"\".concat(prefixCls, \"-selection__choice\");\n            return React.createElement(\"li\", _extends({\n              style: UNSELECTABLE_STYLE\n            }, UNSELECTABLE_ATTRIBUTE, {\n              onMouseDown: preventDefaultEvent,\n              className: choiceClassName,\n              role: \"presentation\",\n              key: singleValue || SELECT_EMPTY_VALUE_KEY,\n              title: toTitle(title)\n            }), React.createElement(\"div\", {\n              className: \"\".concat(prefixCls, \"-selection__choice__content\")\n            }, content), disabled ? null : React.createElement(\"span\", {\n              onClick: function onClick(event) {\n                _this.removeSelected(singleValue, event);\n              },\n              className: \"\".concat(prefixCls, \"-selection__choice__remove\")\n            }, removeIcon || React.createElement(\"i\", {\n              className: \"\".concat(prefixCls, \"-selection__choice__remove-icon\")\n            }, \"\\xD7\")));\n          });\n        }\n\n        if (maxTagPlaceholderEl) {\n          selectedValueNodes.push(maxTagPlaceholderEl);\n        }\n\n        selectedValueNodes.push(React.createElement(\"li\", {\n          className: \"\".concat(prefixCls, \"-search \").concat(prefixCls, \"-search--inline\"),\n          key: \"__input\"\n        }, _this.getInputElement()));\n\n        if (isMultipleOrTags(props) && choiceTransitionName) {\n          innerNode = React.createElement(Animate, {\n            onLeave: _this.onChoiceAnimationLeave,\n            component: \"ul\",\n            transitionName: choiceTransitionName\n          }, selectedValueNodes);\n        } else {\n          innerNode = React.createElement(\"ul\", null, selectedValueNodes);\n        }\n      }\n\n      return React.createElement(\"div\", {\n        className: className,\n        ref: _this.saveTopCtrlRef\n      }, _this.getPlaceholderElement(), innerNode);\n    };\n\n    var optionsInfo = Select.getOptionsInfoFromProps(props);\n\n    if (props.tags && typeof props.filterOption !== 'function') {\n      var isDisabledExist = Object.keys(optionsInfo).some(function (key) {\n        return optionsInfo[key].disabled;\n      });\n      warning(!isDisabledExist, 'Please avoid setting option to disabled in tags mode since user can always type text as tag.');\n    }\n\n    _this.state = {\n      value: Select.getValueFromProps(props, true),\n      inputValue: props.combobox ? Select.getInputValueForCombobox(props, optionsInfo, true) : '',\n      open: props.defaultOpen,\n      optionsInfo: optionsInfo,\n      backfillValue: '',\n      // a flag for aviod redundant getOptionsInfoFromProps call\n      skipBuildOptionsInfo: true,\n      ariaId: ''\n    };\n    _this.saveInputRef = saveRef(_assertThisInitialized(_this), 'inputRef');\n    _this.saveInputMirrorRef = saveRef(_assertThisInitialized(_this), 'inputMirrorRef');\n    _this.saveTopCtrlRef = saveRef(_assertThisInitialized(_this), 'topCtrlRef');\n    _this.saveSelectTriggerRef = saveRef(_assertThisInitialized(_this), 'selectTriggerRef');\n    _this.saveRootRef = saveRef(_assertThisInitialized(_this), 'rootRef');\n    _this.saveSelectionRef = saveRef(_assertThisInitialized(_this), 'selectionRef');\n    return _this;\n  }\n\n  _createClass(Select, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // when defaultOpen is true, we should auto focus search input\n      // https://github.com/ant-design/ant-design/issues/14254\n      if (this.props.autoFocus || this.state.open) {\n        this.focus();\n      }\n\n      this.setState({\n        ariaId: generateUUID()\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (isMultipleOrTags(this.props)) {\n        var inputNode = this.getInputDOMNode();\n        var mirrorNode = this.getInputMirrorDOMNode();\n\n        if (inputNode && inputNode.value && mirrorNode) {\n          inputNode.style.width = '';\n          inputNode.style.width = \"\".concat(mirrorNode.clientWidth, \"px\");\n        } else if (inputNode) {\n          inputNode.style.width = '';\n        }\n      }\n\n      this.forcePopupAlign();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.clearFocusTime();\n      this.clearBlurTime();\n      this.clearComboboxTime();\n\n      if (this.dropdownContainer) {\n        ReactDOM.unmountComponentAtNode(this.dropdownContainer);\n        document.body.removeChild(this.dropdownContainer);\n        this.dropdownContainer = null;\n      }\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      if (isSingleMode(this.props) && this.selectionRef) {\n        this.selectionRef.focus();\n      } else if (this.getInputDOMNode()) {\n        this.getInputDOMNode().focus();\n      }\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      if (isSingleMode(this.props) && this.selectionRef) {\n        this.selectionRef.blur();\n      } else if (this.getInputDOMNode()) {\n        this.getInputDOMNode().blur();\n      }\n    }\n  }, {\n    key: \"renderArrow\",\n    value: function renderArrow(multiple) {\n      // showArrow : Set to true if not multiple by default but keep set value.\n      var _this$props4 = this.props,\n          _this$props4$showArro = _this$props4.showArrow,\n          showArrow = _this$props4$showArro === void 0 ? !multiple : _this$props4$showArro,\n          loading = _this$props4.loading,\n          inputIcon = _this$props4.inputIcon,\n          prefixCls = _this$props4.prefixCls;\n\n      if (!showArrow && !loading) {\n        return null;\n      } // if loading  have loading icon\n\n\n      var defaultIcon = loading ? React.createElement(\"i\", {\n        className: \"\".concat(prefixCls, \"-arrow-loading\")\n      }) : React.createElement(\"i\", {\n        className: \"\".concat(prefixCls, \"-arrow-icon\")\n      });\n      return React.createElement(\"span\", _extends({\n        key: \"arrow\",\n        className: \"\".concat(prefixCls, \"-arrow\"),\n        style: UNSELECTABLE_STYLE\n      }, UNSELECTABLE_ATTRIBUTE, {\n        onClick: this.onArrowClick\n      }), inputIcon || defaultIcon);\n    }\n  }, {\n    key: \"renderClear\",\n    value: function renderClear() {\n      var _this$props5 = this.props,\n          prefixCls = _this$props5.prefixCls,\n          allowClear = _this$props5.allowClear,\n          clearIcon = _this$props5.clearIcon;\n      var inputValue = this.state.inputValue;\n      var value = this.state.value;\n      var clear = React.createElement(\"span\", _extends({\n        key: \"clear\",\n        className: \"\".concat(prefixCls, \"-selection__clear\"),\n        onMouseDown: preventDefaultEvent,\n        style: UNSELECTABLE_STYLE\n      }, UNSELECTABLE_ATTRIBUTE, {\n        onClick: this.onClearSelection\n      }), clearIcon || React.createElement(\"i\", {\n        className: \"\".concat(prefixCls, \"-selection__clear-icon\")\n      }, \"\\xD7\"));\n\n      if (!allowClear) {\n        return null;\n      }\n\n      if (isCombobox(this.props)) {\n        if (inputValue) {\n          return clear;\n        }\n\n        return null;\n      }\n\n      if (inputValue || value.length) {\n        return clear;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _rootCls;\n\n      var props = this.props;\n      var multiple = isMultipleOrTags(props); // Default set showArrow to true if not set (not set directly in defaultProps to handle multiple case)\n\n      var _props$showArrow = props.showArrow,\n          showArrow = _props$showArrow === void 0 ? true : _props$showArrow;\n      var state = this.state;\n      var className = props.className,\n          disabled = props.disabled,\n          prefixCls = props.prefixCls,\n          loading = props.loading;\n      var ctrlNode = this.renderTopControlNode();\n      var _this$state2 = this.state,\n          open = _this$state2.open,\n          ariaId = _this$state2.ariaId;\n\n      if (open) {\n        var filterOptions = this.renderFilterOptions();\n        this._empty = filterOptions.empty;\n        this._options = filterOptions.options;\n      }\n\n      var realOpen = this.getRealOpenState();\n      var empty = this._empty;\n      var options = this._options || [];\n      var dataOrAriaAttributeProps = {};\n      Object.keys(props).forEach(function (key) {\n        if (Object.prototype.hasOwnProperty.call(props, key) && (key.substr(0, 5) === 'data-' || key.substr(0, 5) === 'aria-' || key === 'role')) {\n          dataOrAriaAttributeProps[key] = props[key];\n        }\n      }); // for (const key in props) {\n      //   if (\n      //     Object.prototype.hasOwnProperty.call(props, key) &&\n      //     (key.substr(0, 5) === 'data-' || key.substr(0, 5) === 'aria-' || key === 'role')\n      //   ) {\n      //     dataOrAriaAttributeProps[key] = props[key];\n      //   }\n      // }\n\n      var extraSelectionProps = _extends({}, dataOrAriaAttributeProps);\n\n      if (!isMultipleOrTagsOrCombobox(props)) {\n        extraSelectionProps = _extends({}, extraSelectionProps, {\n          onKeyDown: this.onKeyDown,\n          tabIndex: props.disabled ? -1 : props.tabIndex\n        });\n      }\n\n      var rootCls = (_rootCls = {}, _defineProperty(_rootCls, className, !!className), _defineProperty(_rootCls, prefixCls, 1), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-open\"), open), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-focused\"), open || !!this._focused), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-combobox\"), isCombobox(props)), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-disabled\"), disabled), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-enabled\"), !disabled), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-allow-clear\"), !!props.allowClear), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-no-arrow\"), !showArrow), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-loading\"), !!loading), _rootCls);\n      return React.createElement(SelectTrigger, {\n        onPopupFocus: this.onPopupFocus,\n        onMouseEnter: this.props.onMouseEnter,\n        onMouseLeave: this.props.onMouseLeave,\n        dropdownAlign: props.dropdownAlign,\n        dropdownClassName: props.dropdownClassName,\n        dropdownMatchSelectWidth: props.dropdownMatchSelectWidth,\n        defaultActiveFirstOption: props.defaultActiveFirstOption,\n        dropdownMenuStyle: props.dropdownMenuStyle,\n        transitionName: props.transitionName,\n        animation: props.animation,\n        prefixCls: props.prefixCls,\n        dropdownStyle: props.dropdownStyle,\n        combobox: props.combobox,\n        showSearch: props.showSearch,\n        options: options,\n        empty: empty,\n        multiple: multiple,\n        disabled: disabled,\n        visible: realOpen,\n        inputValue: state.inputValue,\n        value: state.value,\n        backfillValue: state.backfillValue,\n        firstActiveValue: props.firstActiveValue,\n        onDropdownVisibleChange: this.onDropdownVisibleChange,\n        getPopupContainer: props.getPopupContainer,\n        onMenuSelect: this.onMenuSelect,\n        onMenuDeselect: this.onMenuDeselect,\n        onPopupScroll: props.onPopupScroll,\n        showAction: props.showAction,\n        ref: this.saveSelectTriggerRef,\n        menuItemSelectedIcon: props.menuItemSelectedIcon,\n        dropdownRender: props.dropdownRender,\n        ariaId: ariaId\n      }, React.createElement(\"div\", {\n        id: props.id,\n        style: props.style,\n        ref: this.saveRootRef,\n        onBlur: this.onOuterBlur,\n        onFocus: this.onOuterFocus,\n        className: classnames(rootCls),\n        onMouseDown: this.markMouseDown,\n        onMouseUp: this.markMouseLeave,\n        onMouseOut: this.markMouseLeave\n      }, React.createElement(\"div\", _extends({\n        ref: this.saveSelectionRef,\n        key: \"selection\",\n        className: \"\".concat(prefixCls, \"-selection\\n            \").concat(prefixCls, \"-selection--\").concat(multiple ? 'multiple' : 'single'),\n        role: \"combobox\",\n        \"aria-autocomplete\": \"list\",\n        \"aria-haspopup\": \"true\",\n        \"aria-controls\": ariaId,\n        \"aria-expanded\": realOpen\n      }, extraSelectionProps), ctrlNode, this.renderClear(), this.renderArrow(!!multiple))));\n    }\n  }]);\n\n  return Select;\n}(React.Component);\n\nSelect.propTypes = SelectPropTypes;\nSelect.defaultProps = {\n  prefixCls: 'rc-select',\n  defaultOpen: false,\n  labelInValue: false,\n  defaultActiveFirstOption: true,\n  showSearch: true,\n  allowClear: false,\n  placeholder: '',\n  onChange: noop,\n  onFocus: noop,\n  onBlur: noop,\n  onSelect: noop,\n  onSearch: noop,\n  onDeselect: noop,\n  onInputKeyDown: noop,\n  dropdownMatchSelectWidth: true,\n  dropdownStyle: {},\n  dropdownMenuStyle: {},\n  optionFilterProp: 'value',\n  optionLabelProp: 'value',\n  notFoundContent: 'Not Found',\n  backfill: false,\n  showAction: ['click'],\n  tokenSeparators: [],\n  autoClearSearchValue: true,\n  tabIndex: 0,\n  dropdownRender: function dropdownRender(menu) {\n    return menu;\n  }\n};\n\nSelect.getDerivedStateFromProps = function (nextProps, prevState) {\n  var optionsInfo = prevState.skipBuildOptionsInfo ? prevState.optionsInfo : Select.getOptionsInfoFromProps(nextProps, prevState);\n  var newState = {\n    optionsInfo: optionsInfo,\n    skipBuildOptionsInfo: false\n  };\n\n  if ('open' in nextProps) {\n    newState.open = nextProps.open;\n  }\n\n  if ('value' in nextProps) {\n    var value = Select.getValueFromProps(nextProps);\n    newState.value = value;\n\n    if (nextProps.combobox) {\n      newState.inputValue = Select.getInputValueForCombobox(nextProps, optionsInfo);\n    }\n  }\n\n  return newState;\n};\n\nSelect.getOptionsFromChildren = function (children) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  React.Children.forEach(children, function (child) {\n    if (!child) {\n      return;\n    }\n\n    var type = child.type;\n\n    if (type.isSelectOptGroup) {\n      Select.getOptionsFromChildren(child.props.children, options);\n    } else {\n      options.push(child);\n    }\n  });\n  return options;\n};\n\nSelect.getInputValueForCombobox = function (props, optionsInfo, useDefaultValue) {\n  var value = [];\n\n  if ('value' in props && !useDefaultValue) {\n    value = toArray(props.value);\n  }\n\n  if ('defaultValue' in props && useDefaultValue) {\n    value = toArray(props.defaultValue);\n  }\n\n  if (value.length) {\n    value = value[0];\n  } else {\n    return '';\n  }\n\n  var label = value;\n\n  if (props.labelInValue) {\n    label = value.label;\n  } else if (optionsInfo[getMapKey(value)]) {\n    label = optionsInfo[getMapKey(value)].label;\n  }\n\n  if (label === undefined) {\n    label = '';\n  }\n\n  return label;\n};\n\nSelect.getLabelFromOption = function (props, option) {\n  return getPropValue(option, props.optionLabelProp);\n};\n\nSelect.getOptionsInfoFromProps = function (props, preState) {\n  var options = Select.getOptionsFromChildren(props.children);\n  var optionsInfo = {};\n  options.forEach(function (option) {\n    var singleValue = getValuePropValue(option);\n    optionsInfo[getMapKey(singleValue)] = {\n      option: option,\n      value: singleValue,\n      label: Select.getLabelFromOption(props, option),\n      title: option.props.title,\n      disabled: option.props.disabled\n    };\n  });\n\n  if (preState) {\n    // keep option info in pre state value.\n    var oldOptionsInfo = preState.optionsInfo;\n    var value = preState.value;\n\n    if (value) {\n      value.forEach(function (v) {\n        var key = getMapKey(v);\n\n        if (!optionsInfo[key] && oldOptionsInfo[key] !== undefined) {\n          optionsInfo[key] = oldOptionsInfo[key];\n        }\n      });\n    }\n  }\n\n  return optionsInfo;\n};\n\nSelect.getValueFromProps = function (props, useDefaultValue) {\n  var value = [];\n\n  if ('value' in props && !useDefaultValue) {\n    value = toArray(props.value);\n  }\n\n  if ('defaultValue' in props && useDefaultValue) {\n    value = toArray(props.defaultValue);\n  }\n\n  if (props.labelInValue) {\n    value = value.map(function (v) {\n      return v.key;\n    });\n  }\n\n  return value;\n};\n\nSelect.displayName = 'Select';\npolyfill(Select);\nexport default Select;"]},"metadata":{},"sourceType":"module"}