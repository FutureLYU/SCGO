{"ast":null,"code":"var _jsxFileName = \"/Users/haroldxu/Desktop/sale_demo/client/src/components/views/CartPage/CartPage.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { getCartItems } from '../../../_actions/user_actions';\nimport UserCardBlock from './Sections/UserCardBlock';\nimport { Result, Empty } from 'antd';\n\nfunction CartPage(props) {\n  const dispatch = useDispatch();\n  const [Total, setTotal] = useState(0); // const [ShowTotal, setShowTotal] = useState(false)\n  // const [ShowSuccess, setShowSuccess] = useState(false)\n\n  useEffect(() => {\n    let cartItems = [];\n\n    if (props.user.userData && props.user.userData.cart) {\n      if (props.user.userData.cart.length > 0) {\n        props.user.userData.cart.forEach(item => {\n          cartItems.push(item.id);\n        });\n        dispatch(getCartItems(cartItems, props.user.userData.cart)).then(response => {\n          if (response.payload.length > 0) {\n            calculateTotal(response.payload);\n          }\n        });\n      }\n    }\n  }, [props.user.userData]);\n\n  const calculateTotal = cartDetail => {\n    let total = 0;\n    cartDetail.map(item => {\n      total += parseInt(item.price, 10) * item.quantity;\n    });\n    setTotal(total); //setShowTotal(true)\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '85%',\n      margin: '3rem auto'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, \"My Cart\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(UserCardBlock, {\n    products: props.user.cartDetail,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  })));\n}\n\nexport default CartPage;","map":{"version":3,"sources":["/Users/haroldxu/Desktop/sale_demo/client/src/components/views/CartPage/CartPage.js"],"names":["React","useEffect","useState","useDispatch","getCartItems","UserCardBlock","Result","Empty","CartPage","props","dispatch","Total","setTotal","cartItems","user","userData","cart","length","forEach","item","push","id","then","response","payload","calculateTotal","cartDetail","total","map","parseInt","price","quantity","width","margin"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SACIC,YADJ,QAEO,gCAFP;AAGA,OAAOC,aAAP,MAA0B,0BAA1B;AACA,SAASC,MAAT,EAAiBC,KAAjB,QAA6B,MAA7B;;AAGA,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AACrB,QAAMC,QAAQ,GAAGP,WAAW,EAA5B;AACA,QAAM,CAACQ,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,CAAC,CAAD,CAAlC,CAFqB,CAGrB;AACA;;AAIAD,EAAAA,SAAS,CAAC,MAAM;AAEZ,QAAIY,SAAS,GAAG,EAAhB;;AACA,QAAIJ,KAAK,CAACK,IAAN,CAAWC,QAAX,IAAuBN,KAAK,CAACK,IAAN,CAAWC,QAAX,CAAoBC,IAA/C,EAAqD;AACjD,UAAIP,KAAK,CAACK,IAAN,CAAWC,QAAX,CAAoBC,IAApB,CAAyBC,MAAzB,GAAkC,CAAtC,EAAyC;AACrCR,QAAAA,KAAK,CAACK,IAAN,CAAWC,QAAX,CAAoBC,IAApB,CAAyBE,OAAzB,CAAiCC,IAAI,IAAI;AACrCN,UAAAA,SAAS,CAACO,IAAV,CAAeD,IAAI,CAACE,EAApB;AACH,SAFD;AAGAX,QAAAA,QAAQ,CAACN,YAAY,CAACS,SAAD,EAAYJ,KAAK,CAACK,IAAN,CAAWC,QAAX,CAAoBC,IAAhC,CAAb,CAAR,CACKM,IADL,CACWC,QAAD,IAAc;AAChB,cAAIA,QAAQ,CAACC,OAAT,CAAiBP,MAAjB,GAA0B,CAA9B,EAAiC;AAC7BQ,YAAAA,cAAc,CAACF,QAAQ,CAACC,OAAV,CAAd;AACH;AACJ,SALL;AAMH;AACJ;AAEJ,GAjBQ,EAiBN,CAACf,KAAK,CAACK,IAAN,CAAWC,QAAZ,CAjBM,CAAT;;AAoBA,QAAMU,cAAc,GAAIC,UAAD,IAAgB;AACnC,QAAIC,KAAK,GAAG,CAAZ;AAEAD,IAAAA,UAAU,CAACE,GAAX,CAAeT,IAAI,IAAI;AACnBQ,MAAAA,KAAK,IAAIE,QAAQ,CAACV,IAAI,CAACW,KAAN,EAAa,EAAb,CAAR,GAA2BX,IAAI,CAACY,QAAzC;AACH,KAFD;AAIAnB,IAAAA,QAAQ,CAACe,KAAD,CAAR,CAPmC,CAQnC;AACH,GATD;;AAWA,sBACI;AAAK,IAAA,KAAK,EAAE;AAAEK,MAAAA,KAAK,EAAE,KAAT;AAAgBC,MAAAA,MAAM,EAAE;AAAxB,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,aAAD;AACI,IAAA,QAAQ,EAAExB,KAAK,CAACK,IAAN,CAAWY,UADzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAFJ,CADJ;AAUH;;AAED,eAAelB,QAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useDispatch } from 'react-redux';\nimport {\n    getCartItems\n} from '../../../_actions/user_actions';\nimport UserCardBlock from './Sections/UserCardBlock';\nimport { Result, Empty} from 'antd';\n\n\nfunction CartPage(props) {\n    const dispatch = useDispatch();\n    const [Total, setTotal] = useState(0)\n    // const [ShowTotal, setShowTotal] = useState(false)\n    // const [ShowSuccess, setShowSuccess] = useState(false)\n\n\n\n    useEffect(() => {\n\n        let cartItems = [];\n        if (props.user.userData && props.user.userData.cart) {\n            if (props.user.userData.cart.length > 0) {\n                props.user.userData.cart.forEach(item => {\n                    cartItems.push(item.id)\n                });\n                dispatch(getCartItems(cartItems, props.user.userData.cart))\n                    .then((response) => {\n                        if (response.payload.length > 0) {\n                            calculateTotal(response.payload)\n                        }\n                    })\n            }\n        }\n\n    }, [props.user.userData])\n\n\n    const calculateTotal = (cartDetail) => {\n        let total = 0;\n\n        cartDetail.map(item => {\n            total += parseInt(item.price, 10) * item.quantity\n        });\n\n        setTotal(total)\n        //setShowTotal(true)\n    }\n\n    return (\n        <div style={{ width: '85%', margin: '3rem auto' }}>\n            <h1>My Cart</h1>\n            <div>\n                <UserCardBlock\n                    products={props.user.cartDetail}\n                />\n            </div>\n        </div>\n    )\n}\n\nexport default CartPage\n"]},"metadata":{},"sourceType":"module"}