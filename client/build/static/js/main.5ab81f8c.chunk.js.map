{"version":3,"sources":["_actions/user_actions.js","_actions/types.js","components/Config.js","hoc/auth.js","components/views/LandingPage/Sections/CheckBox.js","components/views/LandingPage/Sections/Datas.js","components/views/LandingPage/Sections/SearchFeature.js","components/views/LandingPage/LandingPage.js","components/views/LoginPage/LoginPage.js","components/utils/CodeBox/utils.js","components/utils/CodeBox/CodeBox.js","components/views/RegisterPage/RegisterPage.js","components/views/NavBar/Sections/LeftMenu.js","components/views/NavBar/Sections/RightMenu.js","components/views/NavBar/NavBar.js","components/views/Footer/Footer.js","components/utils/CreatLongPicture/CreateLongPicture.js","components/utils/FileUpload.js","components/utils/Data.js","components/utils/ProductEditForm.js","components/utils/ContactAddForm.js","components/views/UploadProductPage/UploadProductPage.js","components/views/DetailProductPage/Sections/ProductImage.js","components/views/DetailProductPage/Sections/ProductInfo.js","components/views/DetailProductPage/DetailProductPage.js","components/views/HistoryPage/HistoryPage.js","components/views/ChangePasswordPage/ChangePasswordPage.js","components/utils/ProductDeleteForm.js","components/views/UserPage/UserPage.js","components/views/VisitorPage/VisitorPage.js","components/views/AdminPage/AdminPage.js","components/views/ExceptionPage/Exception403.js","components/views/ExceptionPage/Exception404.js","components/views/ContactUsPage/ContactUsPage.js","components/views/AdminPage/AdminProductPage/AdminProductPage.js","components/views/AdminPage/AdminUserPage/AdminUserPage.js","components/App.js","serviceWorker.js","_reducers/index.js","_reducers/user_reducer.js","index.js"],"names":["auth","type","payload","axios","get","then","response","data","ComposedClass","reload","adminRoute","AuthenticationCheck","props","user","useSelector","state","dispatch","useDispatch","useEffect","a","isAuth","history","push","isAdmin","googleAuth","Panel","Collapse","CheckBox","useState","Checked","setChecked","defaultActiveKey","header","filtername","key","keyvalue","gutter","list","map","value","index","lg","xs","Fragment","onChange","currentIndex","indexOf","newChecked","splice","handleFilters","handleToggle","_id","checked","style","fontSize","name","category","tags","Search","Input","SearchFeature","SearchTerms","setSearchTerms","event","currentTarget","onSearch","refreshFunction","enterButton","placeholder","Meta","Card","LandingPage","Products","setProducts","Skip","setSkip","HasMore","setHasMore","width","CardSize","setCardSize","tag","Filters","setFilters","isPC","userAgentInfo","navigator","userAgent","Agents","flag","v","length","getTagByKey","tagname","onResize","useCallback","boxwidth","document","documentElement","clientWidth","cardnum","parseInt","cardwidth","window","addEventListener","removeEventListener","Axios","post","skip","limit","success","postSize","products","alert","getProducts","variables","loadMore","filters","newFilters","showFilteredResults","height","margin","overflow","textAlign","display","justifyContent","newSearchTerm","searchTerm","alignItems","href","overflowX","overflowY","dataLength","next","console","log","onLoadMore","hasMore","loader","endMessage","className","options","transitionDuration","disableImagesLoaded","updateOnEachImageLoad","product","marginRight","marginBottom","hoverable","cover","src","images","alt","title","description","price","float","Title","Typography","withRouter","rememberMeChecked","localStorage","getItem","formErrorMessage","setFormErrorMessage","rememberMe","setRememberMe","handleRememberMe","initialEmail","initialValues","email","password","validationSchema","Yup","shape","required","min","onSubmit","values","setSubmitting","setTimeout","dataToSubmit","loginUser","loginSuccess","setItem","userId","id","removeItem","catch","err","touched","errors","isSubmitting","dirty","handleChange","handleBlur","handleSubmit","handleReset","level","Item","prefix","color","onBlur","border","padding","borderRadius","htmlType","minWidth","disabled","textSelect","element","end","createTextRange","range","moveStart","moveEnd","select","setSelectionRange","focus","removeDefaultBehavior","preventDefault","returnValue","stopPropagation","isFunction","any","code","Array","fill","dom","e","i","target","trim","this","validator","focusOn","newCode","setState","every","blur","inputElement","keyCode","getPrevBox","getNextBox","error","info","codeBox","inputType","maxLength","autoComplete","autoCorrect","autoCapitalize","spellCheck","ref","onFocus","onClick","onKeyDown","Component","formItemLayout","labelCol","span","sm","wrapperCol","tailFormItemLayout","offset","RegisterPage","VerifyCode","setVerifyCode","VerifyId","setVerifyId","ifLoading","setifLoading","codeboxContent","setcodeboxContent","username","verification","confirmPassword","oneOf","verifyId","verifyCode","image","moment","unix","registerUser","errmsg","location","label","hasFeedback","validateStatus","input","test","codeArray","join","variable","block","loading","LeftMenu","mode","menu","status","userData","overlay","placement","NavBar","visible","setVisible","position","zIndex","closable","onClose","Footer","flexDirection","QRCode","require","CreateLongPicture","canvasRef","useRef","count","items","mycv","current","myctx","getContext","drawCanvas","text","drawImage","font","fillStyle","fillText","drawQRCode","productheight","showPreivew","canvasImg","getElementById","picpreview","Image","toDataURL","imglink","download","Date","now","objectFit","fillRect","forEach","item","heights","newImage","setAttribute","complete","onload","onerror","qrImage","qrsrc","maxWidth","forceRender","onOk","canvas","createElement","click","downLoadImage","onCancel","handleCancel","okText","cancelText","size","fgColor","FileUpload","Images","setImages","Heights","setHeights","Preview","setPreview","newImages","newHeights","onDelete","onDrop","files","formData","FormData","append","multiple","maxSize","getRootProps","getInputProps","placesData","categoryData","meansData","tagsData","reasonsData","TextArea","Option","Select","ProductEditForm","TitleValue","setTitleValue","DescriptionValue","setDescriptionValue","PriceValue","setPriceValue","Means","setMeans","PlaceValue","setPlaceValue","Category","setCategory","edit","currentItem","means","places","setDefault","writer","handleOk","destroyOnClose","Group","mean","optionFilterProp","filterOption","option","children","toLowerCase","place","ContactAddForm","WeChat","setWeChat","Email","setEmail","ContactChoice","setContactChoice","contact","wechat","contactchoice","onWeChatChange","onEmailChange","UploadProductPage","Items","setItems","FormValue","setFormValue","Edit","setEdit","EditIndex","setEditIndex","showPicture","setshowPicture","CurrentItem","setCurrentItem","ContactForm","setContactForm","role","uploadProduct","onAdd","renderItemCards","sytle","maxHeight","categoryname","getCategoryByKey","onEdit","newItems","newItem","reduce","total","cur","ProductImage","detail","original","thumbnail","ProductInfo","Product","setProduct","DetailProductPage","productId","match","params","showContact","HistoryPage","dateOfDelete","reason","tableLayout","ChangePasswordPage","message","ProductDeleteForm","ReasonValue","setReasonValue","onReasonChange","admin","UserPage","DeleteFormValue","setDeleteFormValue","DeleteItem","setDeleteItem","userid","content","handleDelete","handleEdit","renderCards","updateItem","deleteItem","AdminPage","Content","Layout","Sider","left","defaultSelectedKeys","defaultOpenKeys","borderRight","minHeight","Exception403","subTitle","extra","Exception404","ContactUsPage","background","marginTop","bordered","avatar","AdminProductPage","paddingLeft","Column","Table","UserControl","UserData","setUserData","SearchTerm","setSearchTerm","getUserInfo","rule","userinfo","users","userstate","marginLeft","dataSource","dataIndex","render","record","App","fallback","paddingTop","exact","path","component","Auth","AdminUserPage","LoginPage","VisitorPage","Boolean","hostname","rootReducer","combineReducers","action","register","loginSucces","cart","cartDetail","createStoreWithMiddleware","applyMiddleware","promiseMiddleware","ReduxThunk","createStore","ReactDOM","store","Reducer","__REDUX_DEVTOOLS_EXTENSION__","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5ab81f8c.chunk.js","sourcesContent":["import axios from 'axios';\nimport {\n    LOGIN_USER,\n    REGISTER_USER,\n    AUTH_USER,\n    LOGOUT_USER,\n    ADD_TO_CART_USER,\n    GET_CART_ITEMS_USER,\n    REMOVE_CART_ITEM_USER,\n    ON_SUCCESS_BUY_USER,\n    ON_DELETE_ITEM\n} from './types';\nimport { USER_SERVER } from '../components/Config.js';\n\nexport function registerUser(dataToSubmit) {\n    const request = axios.post(`${USER_SERVER}/register`, dataToSubmit)\n        .then(response => response.data);\n\n    return {\n        type: REGISTER_USER,\n        payload: request\n    }\n}\n\nexport function loginUser(dataToSubmit) {\n    const request = axios.post(`${USER_SERVER}/login`, dataToSubmit)\n        .then(response => response.data);\n\n    return {\n        type: LOGIN_USER,\n        payload: request\n    }\n}\n\nexport function auth() {\n    const request = axios.get(`${USER_SERVER}/auth`)\n        .then(response => response.data);\n\n    return {\n        type: AUTH_USER,\n        payload: request\n    }\n}\n\nexport function logoutUser() {\n    const request = axios.get(`${USER_SERVER}/logout`)\n        .then(response => response.data);\n\n    return {\n        type: LOGOUT_USER,\n        payload: request\n    }\n}\n\n\nexport function addToCart(_id) {\n    const request = axios.get(`${USER_SERVER}/addToCart?productId=${_id}`)\n        .then(response => response.data);\n\n    return {\n        type: ADD_TO_CART_USER,\n        payload: request\n    }\n}\n\n\n\nexport function getCartItems(cartItems, userCart) {\n    const request = axios.get(`/api/product/products_by_id?id=${cartItems}&type=array`)\n        .then(response => {\n\n\n            //Make CartDetail inside Redux Store \n            // We need to add quantity data to Product Information that come from Product Collection. \n\n            userCart.forEach(cartItem => {\n                response.data.forEach((productDetail, i) => {\n                    if (cartItem.id === productDetail._id) {\n                        response.data[i].quantity = cartItem.quantity;\n                    }\n                })\n            })\n\n            return response.data;\n        });\n\n    return {\n        type: GET_CART_ITEMS_USER,\n        payload: request\n    }\n}\n\n\n\n\nexport function removeCartItem(id) {\n    const request = axios.get(`/api/users/removeFromCart?_id=${id}`)\n        .then(response => {\n\n            response.data.cart.forEach(item => {\n                response.data.cartDetail.forEach((k, i) => {\n                    if (item.id === k._id) {\n                        response.data.cartDetail[i].quantity = item.quantity\n                    }\n                })\n            })\n            return response.data;\n        });\n\n    return {\n        type: REMOVE_CART_ITEM_USER,\n        payload: request\n    }\n}\n\n\nexport function onSuccessBuy(data) {\n\n    const request = axios.post(`${USER_SERVER}/successBuy`, data)\n        .then(response => response.data);\n\n    return {\n        type: ON_SUCCESS_BUY_USER,\n        payload: request\n    }\n}\n\nexport function onDeleteItem(data) {\n\n    const request = axios.post(`${USER_SERVER}/deleteProduct`, data)\n        .then(response => response.data);\n    return {\n        type: ON_DELETE_ITEM,\n        payload: request\n    }\n}\n\n\n\n","export const LOGIN_USER = 'login_user';\nexport const REGISTER_USER = 'register_user';\nexport const AUTH_USER = 'auth_user';\nexport const LOGOUT_USER = 'logout_user';\nexport const ADD_TO_CART_USER = 'add_to_cart_user';\nexport const GET_CART_ITEMS_USER = 'get_cart_items_user';\nexport const REMOVE_CART_ITEM_USER = 'remove_cart_item_user';\nexport const ON_SUCCESS_BUY_USER = 'on_success_buy_user';\nexport const ON_DELETE_ITEM = 'on_delete_item';","//SERVER ROUTES\nexport const USER_SERVER = '/api/users';\n","import React, { useEffect } from 'react';\nimport { auth } from '../_actions/user_actions';\nimport { useSelector, useDispatch } from \"react-redux\";\n\nexport default function (ComposedClass, reload, adminRoute = null) {\n    function AuthenticationCheck(props) {\n\n        let user = useSelector(state => state.user);\n        const dispatch = useDispatch();\n\n        useEffect(() => {\n\n            dispatch(auth()).then(async response => {\n                if (await !response.payload.isAuth) {\n                    if (reload) {\n                        props.history.push('/login')\n                    }\n                } else {\n                    if (adminRoute && !response.payload.isAdmin) {\n                        props.history.push('/')\n                    }\n                    else {\n                        if (reload === false) {\n                            props.history.push('/')\n                        }\n                    }\n                }\n            })\n            \n        }, [dispatch, props.history, user.googleAuth])\n\n        return (\n            <ComposedClass {...props} user={user} />\n        )\n    }\n    return AuthenticationCheck\n}\n\n\n","import React, { useState } from 'react'\nimport { Checkbox, Collapse, Row, Col } from 'antd';\n\nconst { Panel } = Collapse\n\n\nfunction CheckBox(props) {\n\n    const [Checked, setChecked] = useState([])\n\n    const handleToggle = (value) => {\n\n        const currentIndex = Checked.indexOf(value);\n        const newChecked = [...Checked];\n\n        if (currentIndex === -1) {\n            newChecked.push(value)\n        } else {\n            newChecked.splice(currentIndex, 1)\n        }\n\n        setChecked(newChecked)\n        props.handleFilters(newChecked)\n        //update this checked information into Parent Component \n\n    }\n\n    const renderCheckboxLists = () => props.list && props.list.map((value, index) => (\n        <Col lg={6} xs={24} key={index}>\n            <React.Fragment key={index}> \n                <Checkbox\n                    key={index}\n                    onChange={() => handleToggle(value._id)}\n                    type=\"checkbox\"\n                    checked={Checked.indexOf(value._id) === -1 ? false : true}\n                />&nbsp;&nbsp;\n                <span style={{fontSize:\"10px\"}}>{value.name}</span>\n            </React.Fragment>\n        </Col>\n    ))\n\n    return (\n        <div>\n            <Collapse defaultActiveKey={props.defaultActiveKey} >\n                <Panel header={props.filtername} key={props.keyvalue}>\n                    <Row gutter={[4, 4]}>\n                        {renderCheckboxLists()}\n                    </Row>\n                </Panel>\n            </Collapse>\n        </div>\n    )\n}\n\nexport default CheckBox\n","const category = [\n    { \n        \"_id\": 0, \n        \"name\": \"Commodity\" \n    }, \n    { \n        \"_id\": 1, \n        \"name\": \"Electronics\"\n    }, \n    { \n        \"_id\": 2, \n        \"name\": \"Furniture\"\n    }, \n    { \n        \"_id\": 3, \n        \"name\": \"Food & Drinks\"\n    }, \n    { \n        \"_id\": 4, \n        \"name\": \"Clothes/Bags\"\n    },\n    { \n        \"_id\": 5, \n        \"name\": \"Makeup\"\n    },\n    { \n        \"_id\": 6, \n        \"name\": \"Others\"\n    }\n]\n\nconst place = [\n    {\n        \"_id\": 0,\n        \"name\": \"Lorenzo\",\n    },\n    {\n        \"_id\": 1,\n        \"name\": \"Gateway\",\n    },\n    {\n        \"_id\": 2,\n        \"name\": \"K-town\", \n    },\n    {\n        \"_id\": 3,\n        \"name\": \"Downtown\", \n    },\n    {\n        \"_id\": 4,\n        \"name\": \"USC周边\", \n    },\n    {\n        \"_id\": 5,\n        \"name\": \"LA其他地区\",\n    },\n]\n\nconst mean = [\n    { \n        \"_id\": 0, \n        \"name\": \"自取\" \n    },\n    { \n        \"_id\": 1, \n        \"name\": \"USC附近可送\" \n    },\n    { \n        \"_id\": 2, \n        \"name\": \"地点可商议\" \n    }\n]\n\nconst tags = [\n    {\n        \"_id\": 0,\n        \"name\": \"Lorenzo自取\",\n    },\n    {\n        \"_id\": 1,\n        \"name\": \"Gateway自取\",\n    },\n    {\n        \"_id\": 2,\n        \"name\": \"K-town自取\", \n    },\n    {\n        \"_id\": 3,\n        \"name\": \"Downtown自取\", \n    },\n    {\n        \"_id\": 4,\n        \"name\": \"USC周边自取\", \n    },\n    {\n        \"_id\": 5,\n        \"name\": \"LA其他地区自取\",\n    },\n    { \n        \"_id\": 6, \n        \"name\": \"USC附近可送\" \n    },\n    { \n        \"_id\": 7, \n        \"name\": \"地点可商议\" \n    }\n]\n\nexport {\n    category,\n    place,\n    mean,\n    tags\n}","import React, { useState } from 'react'\nimport { Input } from 'antd';\n\nconst { Search } = Input;\n\nfunction SearchFeature(props) {\n\n    const [SearchTerms, setSearchTerms] = useState(\"\")\n\n    const onChangeSearch = (event) => {\n        setSearchTerms(event.currentTarget.value)\n    }\n\n    const onSubmit = () => {\n        props.refreshFunction(SearchTerms)\n        setSearchTerms(\"\")\n    }\n\n    return (\n        <div>\n            <Search\n                value={SearchTerms}\n                onChange={onChangeSearch}\n                onSearch={onSubmit}\n                enterButton=\"Search\"\n                placeholder=\"Search By Typing...\"\n            />\n        </div>\n    )\n}\n\nexport default SearchFeature\n","import React, { useEffect, useState, useCallback } from \"react\";\nimport Axios from \"axios\";\nimport { Icon, Col, Card, Row, Tag } from \"antd\";\nimport CheckBox from \"./Sections/CheckBox\";\nimport { category, tags } from \"./Sections/Datas\";\nimport SearchFeature from \"./Sections/SearchFeature\";\nimport Masonry from \"react-masonry-component\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\n\nconst { Meta } = Card;\n\nfunction LandingPage(props) {\n  const Limit = 8; // setLimit\n  const [Products, setProducts] = useState([]);\n  const [Skip, setSkip] = useState(0);\n  const [SearchTerms, setSearchTerms] = useState(\"\");\n  const [HasMore, setHasMore] = useState(true);\n  const [CardSize, setCardSize] = useState({ width: 0 })\n  const [Filters, setFilters] = useState({\n    category: [],\n    tag: [],\n  });\n  const isPC = function(){\n    var userAgentInfo = navigator.userAgent;\n    var Agents = [\"Android\", \"iPhone\", \"SymbianOS\", \"Windows Phone\", \"iPad\", \"iPod\"];  \n    var flag = true;  \n    for (var v = 0; v < Agents.length; v++) {  \n        if (userAgentInfo.indexOf(Agents[v]) > 0) { flag = false; break; }  \n    }  \n    return flag;\n  }();\n\n\n\n  const getTagByKey = (key) => {\n    let tagname = \"None\";\n    tags.map((tag) => {\n      if (tag._id === key) {\n        tagname = tag.name;\n      }\n      return null;\n    });\n    return tagname;\n  };\n\n  const onResize = useCallback(()=>{\n    let boxwidth = document.documentElement.clientWidth * (isPC? 0.75:0.95);\n    let cardnum = isPC? parseInt(boxwidth / 300)+1: 2;\n    let cardwidth = parseInt((boxwidth-15*(cardnum-1))/cardnum);\n    setCardSize({\n      width: cardwidth,\n    })\n  },[isPC])\n\n  useEffect(() => {\n    let boxwidth = document.documentElement.clientWidth * (isPC? 0.75:0.95);\n    let cardnum = isPC? parseInt(boxwidth / 300)+1: 2;\n    let cardwidth = parseInt((boxwidth-15*(cardnum-1))/cardnum);\n    setCardSize({\n      width: cardwidth,\n    })\n  }, [isPC])\n\n  useEffect(()=>{\n    window.addEventListener('resize', onResize);\n    return (()=>{\n      window.removeEventListener('resize', onResize) \n    })\n  },[onResize])\n\n  useEffect(() => {\n    Axios.post(\"/api/product/getProducts\", { skip: 0, limit: Limit }).then((response) => {\n      if (response.data.success) {\n        setHasMore(response.data.postSize < Limit ? false : true);\n        setProducts(response.data.products);\n      } else {\n        alert(\"Failed to fectch product datas\");\n      }\n    });\n  }, []);\n\n  const getProducts = (variables) => {\n    Axios.post(\"/api/product/getProducts\", variables).then((response) => {\n      if (response.data.success) {\n        setHasMore(response.data.postSize < Limit ? false : true);\n        if (variables.loadMore) {\n          setProducts([...Products, ...response.data.products]);\n        } else {\n          setProducts(response.data.products);\n        }\n      } else {\n        alert(\"Failed to fectch product datas\");\n      }\n    });\n  };\n\n  function onLoadMore() {\n    console.log(\"loadmore\");\n    let skip = Skip + Limit;\n    const variables = {\n      skip: skip,\n      limit: Limit,\n      loadMore: true,\n      filters: Filters,\n      searchTerm: SearchTerms,\n    };\n    getProducts(variables);\n    setSkip(skip);\n  }\n\n  const showFilteredResults = (filters) => {\n    const variables = {\n      skip: 0,\n      limit: Limit,\n      filters: filters,\n    };\n    getProducts(variables);\n    setSkip(0);\n  };\n\n  const handleFilters = (filters, category) => {\n    const newFilters = { ...Filters };\n    newFilters[category] = filters;\n    showFilteredResults(newFilters);\n    setFilters(newFilters);\n  };\n\n  const updateSearchTerms = (newSearchTerm) => {\n    const variables = {\n      skip: 0,\n      limit: Limit,\n      filters: Filters,\n      searchTerm: newSearchTerm,\n    };\n\n    setSkip(0);\n    setSearchTerms(newSearchTerm);\n\n    getProducts(variables);\n  };\n\n  return (\n    <div\n      style={{\n        height: \"100%\",\n        width: isPC? \"75%\": \"95%\",\n        margin: \"3rem auto\",\n        overflow: \"hidden\",\n      }}\n    >\n      <div style={{ textAlign: \"center\" }}>\n        <h2>\n          {\" \"}\n          Let's Sell &amp; Buy <Icon type=\"rocket\" />{\" \"}\n        </h2>\n      </div>\n\n      {/* Filter  */}\n\n      <Row gutter={[16, 16]}>\n        <Col lg={12} xs={24}>\n          <CheckBox\n            key={1}\n            keyvalue={1}\n            defaultActiveKey={[\"0\"]}\n            list={tags}\n            handleFilters={(filters) => handleFilters(filters, \"tag\")}\n            filtername=\"交易方式\"\n            category=\"tag\"\n          />\n        </Col>\n        <Col lg={12} xs={24}>\n          <CheckBox\n            key={2}\n            keyvalue={2}\n            defaultActiveKey={[\"0\"]}\n            list={category}\n            handleFilters={(filters) => handleFilters(filters, \"category\")}\n            filtername=\"物品种类\"\n            category=\"category\"\n          />\n        </Col>\n      </Row>\n\n      {/* Search  */}\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"flex-end\",\n          margin: \"1rem auto\",\n        }}\n      >\n        <SearchFeature refreshFunction={updateSearchTerms} />\n      </div>\n\n      {Products.length === 0 ? (\n        <div\n          style={{\n            display: \"flex\",\n            height: \"300px\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n        >\n          <h2>\n            暂未相关物品，您可以重新选择筛选/搜索内容或点击\n            <a href='/'>Home</a>返回\n          </h2>\n        </div>\n      ) : (\n        <div style={{ width: 'calc(100% + 15px)', overflowX: \"hidden\", overflowY: \"auto\" }}>\n          <InfiniteScroll\n            dataLength={Products.length} //This is important field to render the next data\n            next={() => onLoadMore()}\n            hasMore={HasMore}\n            loader={<h4>Loading...</h4>}\n            endMessage={\n              <p style={{ textAlign: \"center\" }}>\n                <b>Yay! You have seen it all</b>\n              </p>\n            }\n          >\n            <Masonry\n              className={\"my-gallery-class\"} // default ''\n              options={{ transitionDuration: 2 }} // default {}\n              disableImagesLoaded={false} // default false\n              updateOnEachImageLoad={false} // default false and works only if disableImagesLoaded is false\n            >\n              {Products.map((product, index) => (\n                <div\n                  key={index}\n                  style={{\n                    marginRight: \"15px\",\n                    marginBottom: \"10px\",\n                    display: \"inline-block\",\n                    width: CardSize.width+'px'\n                  }}\n                >\n                  <a href={`/product/${product._id}`}>\n                    <Card\n                      hoverable={true}\n                      cover={\n                        \n                          <img\n                            style={{ width: CardSize.width-2+'px' }}\n                            src={`http://3.15.2.141/${product.images[0]}`}\n                            alt=\"\"\n                          />\n                      }\n                    >\n                      <Meta\n                        title={product.title}\n                        description={\n                          <div>\n                            {`$${product.price}`}\n                            <Tag style={{ float: \"right\" }}>\n                              {getTagByKey(product.tag)}\n                            </Tag>\n                          </div>\n                        }\n                      />\n                    </Card>\n                  </a>\n                </div>\n              ))}\n            </Masonry>\n          </InfiniteScroll>\n        </div>\n      )}\n      <br />\n      <br />\n    </div>\n  );\n}\n\nexport default LandingPage;\n","import React, { useState } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { loginUser } from \"../../../_actions/user_actions\";\nimport { Formik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { Form, Icon, Input, Button, Checkbox, Typography } from \"antd\";\nimport { useDispatch } from \"react-redux\";\n\nconst { Title } = Typography;\n\nfunction LoginPage(props) {\n  const dispatch = useDispatch();\n  const rememberMeChecked = localStorage.getItem(\"rememberMe\") ? true : false;\n\n  const [formErrorMessage, setFormErrorMessage] = useState(\"\");\n  const [rememberMe, setRememberMe] = useState(rememberMeChecked);\n\n  const handleRememberMe = () => {\n    setRememberMe(!rememberMe);\n  };\n\n  const initialEmail = localStorage.getItem(\"rememberMe\")\n    ? localStorage.getItem(\"rememberMe\")\n    : \"\";\n\n  return (\n    <Formik\n      initialValues={{\n        email: initialEmail,\n        password: \"\",\n      }}\n      validationSchema={Yup.object().shape({\n        email: Yup.string()\n          .email(\"Email is invalid\")\n          .required(\"Email is required\"),\n        password: Yup.string()\n          .min(6, \"Password must be at least 6 characters\")\n          .required(\"Password is required\"),\n      })}\n      onSubmit={(values, { setSubmitting }) => {\n        setTimeout(() => {\n          let dataToSubmit = {\n            email: values.email,\n            password: values.password,\n          };\n\n          dispatch(loginUser(dataToSubmit))\n            .then((response) => {\n              if (response.payload.loginSuccess) {\n                window.localStorage.setItem(\"userId\", response.payload.userId);\n                if (rememberMe === true) {\n                  window.localStorage.setItem(\"rememberMe\", values.id);\n                } else {\n                  localStorage.removeItem(\"rememberMe\");\n                }\n                props.history.push(\"/\");\n              } else {\n                setFormErrorMessage(\"Check out your Account or Password again\");\n              }\n            })\n            .catch((err) => {\n              setFormErrorMessage(\"Check out your Account or Password again\");\n              setTimeout(() => {\n                setFormErrorMessage(\"\");\n              }, 3000);\n            });\n          setSubmitting(false);\n        }, 500);\n      }}\n    >\n      {(props) => {\n        const {\n          values,\n          touched,\n          errors,\n          dirty,\n          isSubmitting,\n          handleChange,\n          handleBlur,\n          handleSubmit,\n          handleReset,\n        } = props;\n        return (\n          <div className=\"app\">\n            <Title level={2}>Log In</Title>\n            <form onSubmit={handleSubmit} style={{ width: \"350px\" }}>\n              <Form.Item required>\n                <Input\n                  id=\"email\"\n                  prefix={\n                    <Icon type=\"user\" style={{ color: \"rgba(0,0,0,.25)\" }} />\n                  }\n                  placeholder=\"Enter your email\"\n                  type=\"email\"\n                  value={values.email}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.email && touched.email\n                      ? \"text-input error\"\n                      : \"text-input\"\n                  }\n                />\n                {errors.email && touched.email && (\n                  <div className=\"input-feedback\">{errors.email}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item required>\n                <Input\n                  id=\"password\"\n                  prefix={\n                    <Icon type=\"lock\" style={{ color: \"rgba(0,0,0,.25)\" }} />\n                  }\n                  placeholder=\"Enter your password\"\n                  type=\"password\"\n                  value={values.password}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.password && touched.password\n                      ? \"text-input error\"\n                      : \"text-input\"\n                  }\n                />\n                {errors.password && touched.password && (\n                  <div className=\"input-feedback\">{errors.password}</div>\n                )}\n              </Form.Item>\n\n              {formErrorMessage && (\n                <label>\n                  <p\n                    style={{\n                      color: \"#ff0000bf\",\n                      fontSize: \"0.7rem\",\n                      border: \"1px solid\",\n                      padding: \"1rem\",\n                      borderRadius: \"10px\",\n                    }}\n                  >\n                    {formErrorMessage}\n                  </p>\n                </label>\n              )}\n\n              <Form.Item>\n                <Checkbox\n                  id=\"rememberMe\"\n                  keyvalue=\"rememberMe\"\n                  onChange={handleRememberMe}\n                  checked={rememberMe}\n                >\n                  Remember me\n                </Checkbox>\n                <a\n                  className=\"login-form-forgot\"\n                  href=\"/change\"\n                  style={{ float: \"right\" }}\n                >\n                  forgot password\n                </a>\n                <div>\n                  <Button\n                    type=\"primary\"\n                    htmlType=\"submit\"\n                    className=\"login-form-button\"\n                    style={{ minWidth: \"100%\" }}\n                    disabled={isSubmitting}\n                    onSubmit={handleSubmit}\n                  >\n                    Log in\n                  </Button>\n                </div>\n                Or <a href=\"/register\">register now!</a>\n              </Form.Item>\n            </form>\n          </div>\n        );\n      }}\n    </Formik>\n  );\n}\nexport default withRouter(LoginPage);\n","export function textSelect(element) {\n  const start = 0;\n  const end = element.value.length;\n  if (element.createTextRange) {\n    //IE浏览器\n    var range = element.createTextRange();\n    range.moveStart(\"character\", -end);\n    range.moveEnd(\"character\", -end);\n    range.moveStart(\"character\", start);\n    range.moveEnd(\"character\", end);\n    range.select();\n  } else {\n    element.setSelectionRange(start, end);\n    element.focus();\n  }\n}\n\nexport function removeDefaultBehavior(event) {\n  event = event || window.event; //用于IE\n  if (event.preventDefault) event.preventDefault(); //标准技术\n  if (event.returnValue) event.returnValue = false; //IE\n\n  // 阻止事件冒泡\n  if (event.stopPropagation) {\n    event.stopPropagation();\n  }\n  return false; //用于处理使用对象属性注册的处理程序\n}\n\nexport function isFunction(any) {\n  return typeof any === \"function\";\n}\n","import React, { Component } from \"react\";\nimport { textSelect, removeDefaultBehavior, isFunction } from \"./utils\";\nimport \"./index.css\";\n\nexport default class extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      code: new Array(props.length).fill(\"\"),\n      dom: new Array(props.length),\n    };\n  }\n  onChange(e, i) {\n    const value = e.target.value.trim();\n\n    if (isFunction(this.props.validator)) {\n      if (value !== \"\" && !this.props.validator(value, i)) {\n        textSelect(e.target);\n        return;\n      }\n    }\n\n    if (this.state.code[i] !== value && value) {\n      this.focusOn(i + 1);\n    }\n\n    const newCode = this.state.code.map((v) => v);\n    newCode[i] = value;\n    this.setState({ code: newCode });\n    textSelect(e.target);\n    if (value !== \"\") {\n      this.focusOn(i + 1);\n    }\n    if (isFunction(this.props.onChange)) {\n      if (newCode.every((v) => v !== \"\")) {\n        e.target.blur();\n      }\n      this.props.onChange(newCode);\n    }\n  }\n  getPrevBox(i) {\n    return this.state.dom[i - 1];\n  }\n  getNextBox(i) {\n    return this.state.dom[i + 1];\n  }\n  focusOn(i) {\n    const element = this.state.dom[i];\n    if (element) {\n      element.focus();\n    }\n  }\n  onKeyDown(e, i) {\n    const inputElement = e.target;\n    switch (e.keyCode) {\n      case 8: // 删除完之后，退回到上一个输入框\n        if (e.target.value === \"\") {\n          // 如果空的话，那么就退回到上一个输入框\n          removeDefaultBehavior(e);\n          this.focusOn(i - 1);\n        }\n        break;\n      case 37: // 左\n      case 38: // 上\n        removeDefaultBehavior(e);\n        if (this.getPrevBox(i)) {\n          this.focusOn(i - 1);\n        } else {\n          this.focusOn(i);\n        }\n        break;\n      case 39: // 右\n      case 40: // 下\n        removeDefaultBehavior(e);\n        if (this.getNextBox(i)) {\n          this.focusOn(i + 1);\n        } else {\n          this.focusOn(i);\n        }\n        break;\n      default:\n        // 不管你输入什么\n        // 都会聚焦文本\n        textSelect(inputElement);\n    }\n  }\n  componentDidCatch(error, info) {\n    console.error(error);\n  }\n  render() {\n    const codeBox = [];\n    // this.setState({ ...this.state, dom: [] });\n    this.state.dom = [];\n    const inputType = this.props.type || \"input\";\n    for (let i = 0; i < this.props.length; i++) {\n      codeBox.push(\n        <div key={i} className=\"codebox-field-wrap\">\n          <input\n            type={inputType}\n            maxLength=\"1\"\n            autoComplete=\"false\"\n            autoCorrect=\"off\"\n            autoCapitalize=\"off\"\n            spellCheck=\"false\"\n            value={this.state.code[i]}\n            // ref={(dom) => {\n            //   let newDom = this.state.dom;\n            //   newDom[i] = dom;\n            //   this.setState({...this.state, dom: newDom});\n            // }}\n            ref={(dom) => (this.state.dom[i] = dom)}\n            onFocus={(e) => textSelect(e.target)}\n            onClick={(e) => textSelect(e.target)}\n            onChange={(e) => this.onChange(e, i)}\n            onKeyDown={(e) => this.onKeyDown(e, i)}\n          />\n        </div>\n      );\n    }\n    return (\n      <div className=\"codebox-container\">\n        <div>{codeBox}</div>\n      </div>\n    );\n  }\n}\n","import React, { useState } from \"react\";\nimport moment from \"moment\";\nimport { Formik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { registerUser } from \"../../../_actions/user_actions\";\nimport { useDispatch } from \"react-redux\";\nimport Codebox from \"../../utils/CodeBox/CodeBox\"; //\"@axetroy/react-codebox\";\nimport Axios from \"axios\";\n\nimport { Form, Input, Button } from \"antd\";\n\nconst formItemLayout = {\n  labelCol: {\n    xs: { span: 24 },\n    sm: { span: 8 },\n  },\n  wrapperCol: {\n    xs: { span: 24 },\n    sm: { span: 16 },\n  },\n};\nconst tailFormItemLayout = {\n  wrapperCol: {\n    xs: {\n      span: 24,\n      offset: 0,\n    },\n    sm: {\n      span: 16,\n      offset: 8,\n    },\n  },\n};\n\nfunction RegisterPage(props) {\n  const dispatch = useDispatch();\n  const [VerifyCode, setVerifyCode] = useState(\"0000\");\n  const [VerifyId, setVerifyId] = useState(\"initialId\");\n  const [ifLoading, setifLoading] = useState(false);\n  const [codeboxContent, setcodeboxContent] = useState(\n    \"Get Verification Code From Email\"\n  );\n  return (\n    <Formik\n      initialValues={{\n        email: \"\",\n        username: \"\",\n        verification: \"\",\n        password: \"\",\n        confirmPassword: \"\",\n      }}\n      validationSchema={Yup.object().shape({\n        username: Yup.string().required(\"Username is required\"),\n\n        email: Yup.string()\n          .email(\"Email is invalid\")\n          .required(\"Email is required\"),\n        password: Yup.string()\n          .min(6, \"Password must be at least 6 characters\")\n          .required(\"Password is required\"),\n        confirmPassword: Yup.string()\n          .oneOf([Yup.ref(\"password\"), null], \"Passwords must match\")\n          .required(\"Confirm Password is required\"),\n      })}\n      onSubmit={(values, { setSubmitting }) => {\n        setTimeout(() => {\n          let dataToSubmit = {\n            email: values.email,\n            password: values.password,\n            username: values.username,\n            verifyId: VerifyId,\n            verifyCode: VerifyCode,\n            image: `http://gravatar.com/avatar/${moment().unix()}?d=identicon`,\n          };\n\n          dispatch(registerUser(dataToSubmit)).then((response) => {\n            if (response.payload.success) {\n              props.history.push(\"/login\");\n            } else {\n              if (response.payload.err.code === 11000) {\n                alert(\"User already exists\");\n              } else {\n                alert(response.payload.err.errmsg);\n              }\n              window.location.reload();\n            }\n          });\n\n          setSubmitting(false);\n        }, 500);\n      }}\n    >\n      {(props) => {\n        const {\n          values,\n          touched,\n          errors,\n          dirty,\n          isSubmitting,\n          handleChange,\n          handleBlur,\n          handleSubmit,\n          handleReset,\n        } = props;\n\n        const codeGet = () => {\n          setifLoading(true);\n          setcodeboxContent(\"wait about 15 s\");\n          let variable = { email: values.email };\n          Axios.post(\"/api/users/sendEmail\", variable).then((response) => {\n            if (response.data.success) {\n              //console.log(response.data);\n              setVerifyId(response.data.id);\n              // button state\n              setTimeout(() => {\n                setifLoading(false);\n                setcodeboxContent(\"send again\");\n              }, 15000);\n            } else {\n              //console.log(response.data.err);\n              alert(\"Failed to send email\");\n              setifLoading(false);\n              setcodeboxContent(\"Get Verification Code From Email\");\n            }\n          });\n        };\n\n        return (\n          <div className=\"app\">\n            <h2>Sign up</h2>\n            <Form\n              style={{ minWidth: \"375px\" }}\n              {...formItemLayout}\n              onSubmit={handleSubmit}\n            >\n              <Form.Item required label=\"Username\">\n                <Input\n                  id=\"username\"\n                  placeholder=\"Enter your username\"\n                  type=\"text\"\n                  value={values.username}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.username && touched.username\n                      ? \"text-input error\"\n                      : \"text-input\"\n                  }\n                />\n                {errors.username && touched.username && (\n                  <div className=\"input-feedback\">{errors.username}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item\n                required\n                label=\"Email\"\n                hasFeedback\n                validateStatus={\n                  errors.email && touched.email ? \"error\" : \"success\"\n                }\n              >\n                <Input\n                  id=\"email\"\n                  placeholder=\"Enter your Email\"\n                  type=\"email\"\n                  value={values.email}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.email && touched.email\n                      ? \"text-input error\"\n                      : \"text-input\"\n                  }\n                />\n                {errors.email && touched.email && (\n                  <div className=\"input-feedback\">{errors.email}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item\n                required\n                label=\"Verification\"\n                style={{ marginBottom: \"0 px\" }}\n              >\n                <Form.Item>\n                  <Codebox\n                    id=\"verification\"\n                    type=\"text\"\n                    length={4}\n                    validator={(input, index) => {\n                      return /\\d/.test(input);\n                    }}\n                    onChange={(codeArray) => {\n                      setVerifyCode(codeArray.join(\"\"));\n                    }}\n                  />\n                  <Button\n                    onClick={codeGet}\n                    type=\"primary\"\n                    block={true}\n                    loading={ifLoading}\n                  >\n                    {codeboxContent}\n                  </Button>\n                </Form.Item>\n              </Form.Item>\n\n              <Form.Item\n                required\n                label=\"Password\"\n                hasFeedback\n                validateStatus={\n                  errors.password && touched.password ? \"error\" : \"success\"\n                }\n              >\n                <Input\n                  id=\"password\"\n                  placeholder=\"Enter your password\"\n                  type=\"password\"\n                  value={values.password}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.password && touched.password\n                      ? \"text-input error\"\n                      : \"text-input\"\n                  }\n                />\n                {errors.password && touched.password && (\n                  <div className=\"input-feedback\">{errors.password}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item required label=\"Confirm\" hasFeedback>\n                <Input\n                  id=\"confirmPassword\"\n                  placeholder=\"Enter your confirmPassword\"\n                  type=\"password\"\n                  value={values.confirmPassword}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.confirmPassword && touched.confirmPassword\n                      ? \"text-input error\"\n                      : \"text-input\"\n                  }\n                />\n                {errors.confirmPassword && touched.confirmPassword && (\n                  <div className=\"input-feedback\">{errors.confirmPassword}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item {...tailFormItemLayout}>\n                <Button\n                  onClick={handleSubmit}\n                  type=\"primary\"\n                  disabled={isSubmitting}\n                >\n                  Submit\n                </Button>\n              </Form.Item>\n            </Form>\n          </div>\n        );\n      }}\n    </Formik>\n  );\n}\n\nexport default RegisterPage;\n","import React from 'react';\nimport { Menu } from 'antd';\n\nfunction LeftMenu(props) {\n  return (\n    <Menu mode={props.mode}>\n      <Menu.Item key=\"mail\">\n        <a href=\"/\">Home</a>\n      </Menu.Item>\n      <Menu.Item key=\"contact\">\n        <a href=\"/contactus\">Contact Us</a>\n      </Menu.Item>\n    \n    </Menu>\n  )\n}\n\nexport default LeftMenu","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React from \"react\";\nimport { Menu, Icon, Dropdown } from \"antd\";\nimport axios from \"axios\";\nimport { USER_SERVER } from \"../../../Config\";\nimport { withRouter } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\n\nfunction RightMenu(props) {\n  const user = useSelector((state) => state.user);\n\n  const logoutHandler = () => {\n    axios.get(`${USER_SERVER}/logout`).then((response) => {\n      if (response.status === 200) {\n        props.history.push(\"/login\");\n      } else {\n        alert(\"Log Out Failed\");\n      }\n    });\n  };\n  const menu = (\n    <Menu>\n      <Menu.Item>\n        <a href=\"/user/item\">My Items</a>\n      </Menu.Item>\n      <Menu.Item>\n        <a href=\"/history\">History</a>\n      </Menu.Item>\n      <Menu.Item>\n        <a href=\"/change\">Change Password</a>\n      </Menu.Item>\n      <Menu.Item>\n        <a onClick={logoutHandler}>Logout</a>\n      </Menu.Item>\n    </Menu>\n  );\n  if (user.userData && !user.userData.isAuth) {\n    return (\n      <Menu mode={props.mode}>\n        <Menu.Item key=\"mail\">\n          <a href=\"/login\">Signin</a>\n        </Menu.Item>\n        <Menu.Item key=\"app\">\n          <a href=\"/register\">Signup</a>\n        </Menu.Item>\n      </Menu>\n    );\n  } else {\n    return (\n      <Menu mode={props.mode}>\n        <Menu.Item key=\"user\">\n          <Dropdown overlay={menu} placement=\"bottomCenter\">\n            <Icon type=\"user\" style={{ fontSize: 25, marginBottom: 20 }} />\n          </Dropdown>\n        </Menu.Item>\n\n        <Menu.Item key=\"upload\">\n          <a href=\"/product/upload\">Upload</a>\n        </Menu.Item>\n\n        {/* <Menu.Item key=\"cart\" style={{ paddingBottom: 3 }}>\n          <Badge count={user.userData && user.userData.cart.length}>\n            <a href=\"/user/cart\" style={{ marginRight: -22, color: \"#667777\" }}>\n              <Icon\n                type=\"shopping-cart\"\n                style={{ fontSize: 30, marginBottom: 3 }}\n              />\n            </a>\n          </Badge>\n        </Menu.Item>\n\n        <Menu.Item key=\"logout\">\n          <a onClick={logoutHandler}>Logout</a>\n        </Menu.Item> */}\n      </Menu>\n    );\n  }\n}\n\nexport default withRouter(RightMenu);\n","import React, { useState } from 'react';\nimport LeftMenu from './Sections/LeftMenu';\nimport RightMenu from './Sections/RightMenu';\nimport { Drawer, Button, Icon } from 'antd';\nimport './Sections/Navbar.css';\n\nfunction NavBar() {\n  const [visible, setVisible] = useState(false)\n\n  const showDrawer = () => {\n    setVisible(true)\n  };\n\n  const onClose = () => {\n    setVisible(false)\n  };\n\n  return (\n    <nav className=\"menu\" style={{ position: 'fixed', zIndex: 5, width: '100%' }}>\n      <div className=\"menu__logo\">\n        <a href=\"/\">SCGO</a>\n      </div>\n      <div className=\"menu__container\">\n        <div className=\"menu_left\">\n          <LeftMenu mode=\"horizontal\" />\n        </div>\n        <div className=\"menu_rigth\">\n          <RightMenu mode=\"horizontal\" />\n        </div>\n        <Button\n          className=\"menu__mobile-button\"\n          type=\"primary\"\n          onClick={showDrawer}\n        >\n          <Icon type=\"align-right\" />\n        </Button>\n        <Drawer\n          title=\"Guide\"\n          placement=\"right\"\n          className=\"menu_drawer\"\n          closable={false}\n          onClose={onClose}\n          visible={visible}\n        >\n          <LeftMenu mode=\"inline\" />\n          <RightMenu mode=\"inline\" />\n        </Drawer>\n      </div>\n    </nav>\n  )\n}\n\nexport default NavBar","import React from 'react'\nimport {Icon} from 'antd';\n\nfunction Footer() {\n    return (\n        <div style={{\n            height: '80px', display: 'flex',\n            flexDirection: 'column', alignItems: 'center',\n            justifyContent: 'center', fontSize:'1rem'\n        }}>\n           <p> SCGO  <Icon type=\"smile\" /></p>\n        </div>\n    )\n}\n\nexport default Footer\n","import React, { useEffect, useRef } from \"react\";\nimport { Modal } from \"antd\";\n\nconst QRCode = require('qrcode.react');\n\nfunction CreateLongPicture(props) {\n  const canvasRef = useRef();\n  const isPC = function(){\n    var userAgentInfo = navigator.userAgent;\n    var Agents = [\"Android\", \"iPhone\", \"SymbianOS\", \"Windows Phone\", \"iPad\", \"iPod\"];  \n    var flag = true;  \n    for (var v = 0; v < Agents.length; v++) {  \n        if (userAgentInfo.indexOf(Agents[v]) > 0) { flag = false; break; }  \n    }  \n    return flag;\n  }();\n\n  useEffect(() => {\n    if (props.visible) {\n      var position = 0;\n      var count = props.items.length+1;\n      var mycv = canvasRef.current;\n      var myctx = mycv.getContext(\"2d\");\n      myctx.fillStyle = '#FFFFFF';\n      myctx.fillRect(0, 0, mycv.width, mycv.height);\n\n      function drawCanvas(image, text, height) {\n        var mycv = canvasRef.current;\n        var myctx = mycv.getContext(\"2d\");\n        myctx.drawImage(image, 0, position);\n        myctx.font = \"40px Arial\";\n        myctx.fillStyle = \"red\";\n        myctx.textAlign = \"center\";\n        myctx.fillText(text, 351, position + 40, 700);\n        position = position + height;\n      }\n\n      function drawQRCode(image, productheight) {\n        var mycv = canvasRef.current;\n        var myctx = mycv.getContext(\"2d\");\n        myctx.drawImage(image, 126, productheight + 80);\n        myctx.font = \"30px Arial\";\n        myctx.fillStyle = \"black\";\n        myctx.textAlign = \"center\";\n        myctx.fillText(\"扫码查看更多信息\", 370, productheight + 620, 700);\n      }\n      \n      function showPreivew(count) {\n        if (count === 0) {\n          let canvasImg = document.getElementById('TemplateLongPicture');\n          let picpreview = new Image();\n          picpreview.src = canvasImg.toDataURL(\"image/png\");\n\n          let imglink = document.getElementById('previewimg');\n          imglink.src = picpreview.src;\n          imglink.download = `SCGO_LongPicture_${Date.now()}`;\n          imglink.style.objectFit = \"contain\";\n          imglink.style.width = \"100%\";\n        }\n      }\n\n      props.items.forEach((item) => {\n        const text = item.title + ` $${item.price}`;\n        let height = item.heights[0];\n        let newImage = new Image();\n        newImage.setAttribute(\"crossOrigin\", \"Anonymous\");\n        newImage.src = `http://3.15.2.141/${item.images[0]}`;\n        if (newImage.complete) {\n          drawCanvas(newImage, text, height);\n          count--;\n          showPreivew(count);\n        } else {\n          newImage.onload = function () {\n            drawCanvas(newImage, text, height);\n            count--;\n            showPreivew(count);\n          };\n          newImage.onerror = function () {\n            alert(\"failed to load picture\");\n          };\n        }\n      });\n\n      let qrImage = new Image();\n      let qrsrc = document.getElementById('qrcode');\n      qrImage.src = qrsrc.toDataURL(\"image/png\");\n      if (qrImage.complete) {\n        drawQRCode(qrImage, props.height);\n        count--;\n        showPreivew(count);\n      } else {\n        qrImage.onload = function () {\n          drawQRCode(qrImage, props.height);\n          count--;\n          showPreivew(count);\n        };\n        qrImage.onerror = function () {\n          alert(\"failed to load QR code\");\n        };\n      }\n    }\n  }, [props]);\n\n  const handleCancel = () => {\n    props.handleCancel();\n  };\n\n  function downLoadImage(canvas, name) {\n    var a = document.createElement(\"a\");\n    a.href = canvas.toDataURL(\"image/jpeg\", 1.0);\n    a.download = name;\n    a.click();\n  }\n\n  const handleSave = () => {\n    let currentCanvas = canvasRef.current;\n    downLoadImage(currentCanvas, `SCGO_LongPicture_${Date.now()}`);\n  };\n\n  return (\n    <div style={{ width: 600, maxWidth: document.documentElement.clientWidth*0.95 }}>\n      <Modal\n        forceRender={true}\n        title=\"Successfully uploaded ! Click save to download your picture\"\n        visible={props.visible}\n        onOk={handleSave}\n        onCancel={handleCancel}\n        okText=\"save\"\n        cancelText=\"skip\"\n      >\n        <template>\n          <QRCode\n            id=\"qrcode\"\n            value={props.user.userData? `http://3.15.2.141/user/${props.user.userData._id}`:\"http://3.15.2.141/\"}\n            size={ isPC? 250:160 }\n            fgColor=\"#000000\"\n          />\n          <canvas\n            id=\"TemplateLongPicture\"\n            ref={canvasRef}\n            width={props.width}\n            height={props.height+752}\n          />\n        </template>\n        <div id=\"picpreview\" style={{ width: \"95%\", margin: \"auto\" }}>\n          <img id=\"previewimg\" alt=\"Product Images\" />\n        </div>\n        \n      </Modal>\n    </div>\n  );\n}\n\nexport default CreateLongPicture;\n","import React, { useState, useEffect } from 'react'\nimport Dropzone from 'react-dropzone';\nimport { Icon } from 'antd';\nimport Axios from 'axios';\nfunction FileUpload(props) {\n\n    const [Images, setImages] = useState([])\n    const [Heights, setHeights] = useState([])\n    const [Preview, setPreview] = useState(false)\n\n    useEffect(() => {\n        setImages(props.images);\n        setHeights(props.heights);\n        if (props.images && props.images.length > 0) { setPreview(true) }\n    }, [props])\n\n    const onDrop = (files) => {\n        let formData = new FormData();\n        const config = {\n            header: { 'content-type': 'multipart/form-data' }\n        }\n        formData.append(\"file\", files[0])\n        //save the Image we chose inside the Node Server \n        Axios.post('/api/product/uploadImage', formData, config)\n            .then(response => {\n                if (response.data.success) {\n                    setImages([response.data.image]);\n                    setHeights([response.data.height]);\n                    setPreview(true);\n                    props.refreshFunction([response.data.image], [response.data.height]);\n                } else {\n                    alert('Failed to save the Image in Server')\n                }\n            })\n    }\n\n\n    const onDelete = (image) => {\n        const currentIndex = Images.indexOf(image);\n\n        let newImages = [...Images]\n        let newHeights = [...Heights]\n        newImages.splice(currentIndex, 1);\n        newHeights.splice(currentIndex, 1);\n\n        setImages(newImages);\n        setHeights(newHeights);\n        setPreview(false);\n        props.refreshFunction(newImages, newHeights);\n    }\n\n    return (\n        <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n            { !Preview ?\n                <Dropzone\n                    onDrop={onDrop}\n                    multiple={false}\n                    maxSize={800000000}\n                >\n                    {({ getRootProps, getInputProps }) => (\n                        <div style={{\n                            width: '200px', height: '160px', border: '1px solid lightgray',\n                            display: 'flex', alignItems: 'center', justifyContent: 'center'\n                        }}\n                            {...getRootProps()}\n                        >\n                            <input {...getInputProps()} />\n                            <Icon type=\"plus\" style={{ fontSize: '2rem' }} />\n\n                        </div>\n                    )}\n                </Dropzone> :\n                <div style={{ display: 'flex', width: '200px', height: '160px'}}>\n                    {Images.map((image, index) => (\n                        <div onClick={() => onDelete(image)}>\n                            <img \n                                style={{ minWidth: '200px', width: '200px', height: '160px', objectFit: 'contain' }} \n                                src={`http://3.15.2.141/${image}`} alt={`productImg-${index}`} \n                            />\n                        </div>\n                    ))}\n                </div>\n            }\n            \n\n            \n        </div>\n    )\n}\n\nexport default FileUpload\n","const placesData = [\n    { key: 0, value: \"Lorenzo\" }, \n    { key: 1, value: \"Gateway\" },\n    { key: 2, value: \"K-town\" }, \n    { key: 3, value: \"Downtown\" }, \n    { key: 4, value: \"USC周边\" },\n    { key: 5, value: \"LA其他地区\" },\n];\n\nconst categoryData = [\n    { key: 0, value: \"Commodity\" }, \n    { key: 1, value: \"Electronics\"}, \n    { key: 2, value: \"Furniture\"}, \n    { key: 3, value: \"Food & Drinks\"}, \n    { key: 4, value: \"Clothes/Bags\"},\n    { key: 5, value: \"Makeup\"},\n    { key: 6, value: \"Others\"}\n];\n\nconst meansData = [\n    { key: 0, value: \"自取\" },\n    { key: 1, value: \"USC附近可送\" },\n    { key: 2, value: \"地点可商议\" }\n]\n\nconst tagsData = [\n    { key: 0, value: \"Lorenzo自取\" }, \n    { key: 1, value: \"Gateway自取\" },\n    { key: 2, value: \"K-town自取\" }, \n    { key: 3, value: \"Downtown自取\" }, \n    { key: 4, value: \"USC周边自取\" },\n    { key: 5, value: \"LA其他地区自取\" },\n    { key: 6, value: \"USC附近可送\" },\n    { key: 7, value: \"地点可商议\" }\n];\n\nconst reasonsData = [\n    { key: 0, value: \"已出售\" },\n    { key: 1, value: \"物品信息错误\" },\n    { key: 2, value: \"其他原因\" }\n]\n\nexport {\n    placesData,\n    categoryData,\n    meansData,\n    tagsData,\n    reasonsData\n}","import React, { useEffect, useState } from 'react'\nimport { Form, Input, Modal, Select, Radio } from \"antd\";\nimport FileUpload from './FileUpload';\nimport { placesData, categoryData, meansData } from \"./Data\";\n\nconst { TextArea } = Input;\nconst { Option } = Select;\n\nfunction ProductEditForm(props) {\n    const [TitleValue, setTitleValue] = useState(\"\");\n    const [DescriptionValue, setDescriptionValue] = useState(\"\");\n    const [PriceValue, setPriceValue] = useState(0);\n    const [Means, setMeans] = useState(0)\n    const [PlaceValue, setPlaceValue] = useState(-1);\n    const [Category, setCategory] = useState(0)\n    const [Images, setImages] = useState([]);\n    const [Heights, setHeights] = useState([]);\n\n    useEffect(() => {\n        if (props.edit) {\n            setTitleValue(props.currentItem.title);\n            setDescriptionValue(props.currentItem.description);\n            setPriceValue(props.currentItem.price);\n            setMeans(props.currentItem.means)\n            setPlaceValue(props.currentItem.places);\n            setCategory(props.currentItem.category)\n            setImages(props.currentItem.images);\n            setHeights(props.currentItem.heights);\n        }\n        \n    }, [props])\n\n    // Product Form Update\n    const onTitleChange = (event) => {\n        if (event.currentTarget.value.length < 16) {\n            setTitleValue(event.currentTarget.value) \n        }\n    };\n    const onDescriptionChange = (event) => { setDescriptionValue(event.currentTarget.value) };\n    const onPriceChange = (event) => { setPriceValue(event.currentTarget.value) };\n    const onMeansChange = (event) => { setMeans(event.target.value) };\n    const onPlaceChange = (value) => { setPlaceValue(value) };\n    const onCategoryChange = (value) => { setCategory(value) };\n    const updateImages = (newImages, newHeights) => {\n        setImages(newImages);\n        setHeights(newHeights);\n    };\n\n    const setDefault = () => {\n        setTitleValue(\"\");\n        setDescriptionValue(\"\");\n        setPriceValue(0);\n        setMeans(0);\n        setPlaceValue(-1);\n        setCategory(0);\n        setImages([]);\n        setHeights([]);\n    }\n\n    const getTagValue = (means, places) => {\n        return means === 0 ? places : means + 5\n    }\n\n    const handleOk = () => {\n        if (!TitleValue || !DescriptionValue || !PriceValue || !Images.length) {\n            return alert(\"fill all the fields first!\");\n        }\n\n        if (Means === 0 && PlaceValue === -1) {\n            return alert(\"至少选择一个自取地点！\")\n        }\n\n        const currentItem = {\n            writer: props.user.userData._id,\n            title: TitleValue,\n            description: DescriptionValue,\n            price: PriceValue,\n            images: Images,\n            heights: Heights,\n            means: Means,\n            places: PlaceValue,\n            tag: getTagValue(Means, PlaceValue),\n            category: Category\n        }\n\n        props.handleOk(currentItem);\n        setDefault();\n    }\n\n    const handleCancel = () => {\n        props.handleCancel();\n        setDefault();\n    }\n\n    return (\n        <div style={{ maxWidth: document.documentElement.clientWidth*0.95 }}>\n            <Modal\n                title=\"Product\"\n                visible={props.visible}\n                onOk={handleOk}\n                onCancel={handleCancel}\n                destroyOnClose={true}\n            >\n                <Form>\n                    <FileUpload\n                        refreshFunction={updateImages}\n                        images={Images}\n                        heights={Heights}\n                    />\n                    <br /><br />\n            \n                    <label>Title:</label>\n                    <Input onChange={onTitleChange} value={TitleValue} />\n                    <br /><br />\n            \n                    <label>Description:</label>\n                    <TextArea onChange={onDescriptionChange} value={DescriptionValue} />\n                    <br /><br />\n            \n                    <label>Price($):</label>\n                    <Input onChange={onPriceChange} value={PriceValue} type=\"number\" />\n                    <br /><br />\n\n                    <label>交易方式:</label>&nbsp;\n                    <Radio.Group onChange={onMeansChange} value={Means}>\n                        {meansData.map((mean) => <Radio key={mean.key} value={mean.key}>{mean.value}</Radio>)}\n                    </Radio.Group>\n                    <br /><br />\n\n                    <label>自取地点:</label>&nbsp;\n                    <Select\n                        style={{ width: 200 }}\n                        placeholder\n                        optionFilterProp=\"children\"\n                        onChange={onPlaceChange}\n                        filterOption={(input, option) =>\n                        option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n                        }\n                        value={PlaceValue !== -1? PlaceValue:null}\n                        disabled={Means? true:false}\n                    >\n                        {placesData.map((place) => <Option key={place.key} value={place.key}>{place.value}</Option>)}\n                    </Select>\n                    <br /><br />\n\n                    <label>物品种类:</label>&nbsp;\n                    <Select style={{ width: 200 }} onChange={onCategoryChange} value={Category}>\n                        {categoryData.map(item => (\n                            <Option key={item.key} value={item.key}>{item.value} </Option>\n                        ))}\n                    </Select>\n                    <br /><br />\n                </Form>\n            </Modal>\n        </div>\n    )\n}\n\nexport default ProductEditForm\n","import React, { useEffect, useState } from 'react'\nimport { Input, Modal, Radio} from \"antd\";\n\nfunction ContactAddForm(props) {\n    const [WeChat, setWeChat] = useState(\"\");\n    const [Email, setEmail] = useState(\"\");\n    const [ContactChoice, setContactChoice] = useState(0);\n\n    useEffect(() => {\n        if (props.user.userData) {\n            setEmail(props.user.userData.email);\n        }\n        if (props.contact) {\n            setWeChat(props.contact.wechat);\n            setEmail(props.contact.email);\n            setContactChoice(props.contact.contactchoice);\n        }    \n    }, [props])\n\n    // Product Form Update\n    const onWeChatChange = (event) => { setWeChat(event.currentTarget.value) };\n    const onEmailChange = (event) => { setEmail(event.currentTarget.value) };\n    const onContactChange = (event) => { \n        setContactChoice(event.target.value) \n    };\n    const setDefault = () => {\n        setWeChat(\"\");\n        setEmail(props.user.userData.email);\n        setContactChoice(0);\n    }\n\n    const handleOk = () => {\n        if ((ContactChoice === 0 && !WeChat) || (ContactChoice===1 && !Email)) {\n            return alert(\"fill one of the contact way\");\n        }\n\n        const contact = {\n            wechat: WeChat,\n            email: Email,\n            contactchoice: ContactChoice\n        }\n        \n        props.handleOk(contact);\n        setDefault();\n    }\n\n    const handleCancel = () => {\n        props.handleCancel();\n        setDefault();\n    }\n\n    return (\n        <div style={{ maxWidth: document.documentElement.clientWidth*0.95 }}>\n            <Modal\n                title=\"Add Contact\"\n                visible={props.visible}\n                onOk={handleOk}\n                onCancel={handleCancel}\n                destroyOnClose={true}\n            >\n                <Radio.Group onChange={onContactChange} value={ContactChoice}>\n                    <Radio value={0}>\n                        希望买家直接通过微信联系我<br />\n                        微信: { \n                        ContactChoice === 0 ? \n                        <Input onChange={onWeChatChange} value={WeChat} /> : \n                        <Input onChange={onWeChatChange} value={WeChat} disabled /> \n                        }\n                    </Radio><br /><br />\n                    <Radio value={1}>\n                        希望买家通过其他方式联系我<br />\n                        其他: { \n                        ContactChoice === 1 ? \n                        <Input onChange={onEmailChange} value={Email} /> :\n                        <Input onChange={onEmailChange} value={Email} disabled />}\n                    </Radio>\n                </Radio.Group>\n            </Modal>\n        </div>\n    )\n}\n\nexport default ContactAddForm\n","import React, { useState, useEffect } from \"react\";\nimport { Button, Col, Row, Card, Tag } from \"antd\";\nimport Axios from \"axios\";\nimport CreateLongPicture from \"../../utils/CreatLongPicture/CreateLongPicture\";\nimport ProductEditForm from \"../../utils/ProductEditForm\";\nimport ContactAddForm from \"../../utils/ContactAddForm\";\nimport { categoryData, tagsData } from \"../../utils/Data\";\n\nfunction UploadProductPage(props) {\n  const [Items, setItems] = useState([]);\n  const [FormValue, setFormValue] = useState({ visible: false });\n  const [Edit, setEdit] = useState(false);\n  const [EditIndex, setEditIndex] = useState(-1);\n  const [showPicture, setshowPicture] = useState(false);\n  const [CurrentItem, setCurrentItem] = useState({});\n  const [ContactForm, setContactForm] = useState({ visible: false });\n  const isPC = function(){\n    var userAgentInfo = navigator.userAgent;\n    var Agents = [\"Android\", \"iPhone\", \"SymbianOS\", \"Windows Phone\", \"iPad\", \"iPod\"];  \n    var flag = true;  \n    for (var v = 0; v < Agents.length; v++) {  \n        if (userAgentInfo.indexOf(Agents[v]) > 0) { flag = false; break; }  \n    }  \n    return flag;\n  }();\n\n  useEffect(() => {\n    if (props.user.userData) {\n      if (props.user.userData.role === -1) {\n        props.history.push(\"/403\");\n      }\n    }\n    Axios.get(\"/api/users/getUploadProduct\").then((response) => {\n      setItems(response.data.uploadProduct);\n    });\n  }, [props]);\n\n  const onAdd = (event) => {\n    // set state of Form Value\n    setFormValue({ ...FormValue, visible: true });\n  };\n\n  const clearItems = () => {\n    setItems([]);\n  };\n\n  const onAddContact = () => {\n    setContactForm({ ...ContactForm, visible: true });\n  };\n\n  const onSubmit = (newItems) => {\n    // submit all items into database\n    Axios.post(\"/api/product/uploadProduct\", newItems).then((response) => {\n      if (response.data.success) {\n        // show success & long picture\n        setshowPicture(true);\n      } else {\n        // add product name\n        alert(\"Failed to upload Product!\");\n      }\n    });\n\n    // update upload product\n    Axios.post(\"/api/users/updateUploadProduct\", []).then((response) => {\n      console.log(\"Update successfully\");\n    });\n  };\n\n  const onEdit = (index) => {\n    // set edit\n    setEdit(true);\n    setEditIndex(index);\n    setCurrentItem(Items[index]);\n    setFormValue({ ...FormValue, visible: true });\n  };\n\n  const onDelete = (index) => {\n    // delete\n    let newItems = [...Items];\n    newItems.splice(index, 1);\n    setItems(newItems);\n\n    // update upload product\n    Axios.post(\"/api/users/updateUploadProduct\", newItems).then((response) => {\n      console.log(\"Update successfully\");\n    });\n  };\n\n  const handleOk = (newItem) => {\n    let newItems = [...Items];\n    if (Edit && EditIndex > -1) {\n      newItems[EditIndex] = newItem;\n      setItems(newItems);\n    } else {\n      newItems = [...newItems, newItem];\n      setItems(newItems);\n      setCurrentItem({});\n    }\n\n    // set all values to default\n    setFormValue({ ...FormValue, visible: false });\n    setEdit(false);\n    setEditIndex(-1);\n\n    // update upload product\n    Axios.post(\"/api/users/updateUploadProduct\", newItems).then((response) => {\n      console.log(\"Update successfully\");\n    });\n  };\n\n  const handleCancel = () => {\n    // close model\n    setFormValue({ ...FormValue, visible: false });\n\n    // set all values to default\n    setEdit(false);\n    setEditIndex(-1);\n    setCurrentItem({});\n  };\n\n  const addContactOk = (contact) => {\n    setContactForm({ ...ContactForm, visible: false });\n\n    // add contact to all items\n    let newItems = Items.map((item) => {\n      return {\n        ...item,\n        wechat: contact.wechat,\n        email: contact.email,\n        contactchoice: contact.contactchoice,\n      };\n    });\n    setItems(newItems);\n    // use on submit\n    onSubmit(newItems);\n  };\n\n  const addContactCancel = () => {\n    setContactForm({ ...ContactForm, visible: false });\n  };\n\n  const getCategoryByKey = (key) => {\n    let categoryname = \"None\";\n    categoryData.map((item) => {\n      if (item.key === parseInt(key)) {\n        categoryname = item.value;\n      }\n      return null;\n    });\n    return categoryname;\n  };\n\n  const getTagByKey = (key) => {\n    let tagname = \"None\";\n    tagsData.map((tag) => {\n      if (tag.key === parseInt(key)) {\n        tagname = tag.value;\n      }\n      return null;\n    });\n    return tagname;\n  };\n\n  const renderItemCards = Items.map((item, index) => {\n    return (\n      <Col>\n        <Card hoverable={false} sytle={{ width: isPC? \"80%\": \"90%\" }}>\n          <Row gutter={16}>\n            <Col lg={8} xs={24}>\n              <img style={{ width: '100%', maxHeight: '150px', objectFit: 'contain' }}\n                src={`http://3.15.2.141/${item.images[0]}`} alt=\"productImage\" />\n            </Col>\n            <Col lg={10} xs={24}>\n              <p>商品名称:&nbsp;{item.title}</p>\n              <p>商品描述:&nbsp;{item.description}</p>\n              <p>商品价格:&nbsp;{item.price}</p>\n              <p>\n                交易方式:&nbsp;\n                <Tag style={{ width: \"100px\", textAlign: \"center\" }}>\n                  {getTagByKey(item.tag)}\n                </Tag>\n              </p>\n              <p>\n                物品种类:&nbsp;\n                <Tag style={{ width: \"100px\", textAlign: \"center\" }}>\n                  {getCategoryByKey(item.category)}\n                </Tag>\n              </p>\n            </Col>\n            <Col lg={6} xs={24}>\n              <div style={{ margin: \"auto\" }}>\n                <Button\n                  style={{ width: \"100px\", margin: \"10px auto\" }}\n                  onClick={() => onEdit(index)}\n                >\n                  &nbsp;Edit&nbsp;\n                </Button>\n                {isPC ? null: ' '}\n                <Button\n                  style={{ width: \"100px\", margin: \"10px auto\" }}\n                  onClick={() => onDelete(index)}\n                >\n                  &nbsp;Delete&nbsp;\n                </Button>\n              </div>\n            </Col>\n          </Row>\n        </Card>\n      </Col>\n    );\n  });\n\n  return (\n    <div style={{ width: isPC? \"80%\": \"95%\", margin: \"3rem auto\" }}>\n      {Items.length === 0 ? (\n        <div\n          style={{\n            display: \"flex\",\n            height: \"300px\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n        >\n          <h2>No post yet...</h2>\n        </div>\n      ) : (\n        <div style={{ width: isPC ? \"70%\":\"95%\", margin: \"3rem auto\" }}>\n          <Row gutter={[16, 16]}>{renderItemCards}</Row>\n        </div>\n      )}\n      <br />\n      <br />\n\n      {Items.length > 0 ? (\n        <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n          <Button style={{ width: \"100px\", margin: \"25px\" }} onClick={onAdd}>\n            Add\n          </Button>\n\n          <Button\n            style={{ width: \"100px\", margin: \"25px\" }}\n            onClick={onAddContact}\n          >\n            Submit\n          </Button>\n        </div>\n      ) : (\n        <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n          <Button style={{ width: \"100px\", margin: \"auto\" }} onClick={onAdd}>\n            Add\n          </Button>\n        </div>\n      )}\n\n      <div>\n        <ProductEditForm\n          visible={FormValue.visible}\n          handleOk={handleOk}\n          handleCancel={handleCancel}\n          edit={Edit}\n          currentItem={Edit ? CurrentItem : {}}\n          user={props.user}\n        />\n      </div>\n      <div>\n        <ContactAddForm\n          visible={ContactForm.visible}\n          handleOk={addContactOk}\n          handleCancel={addContactCancel}\n          user={props.user}\n        />\n      </div>\n      <div>\n        <CreateLongPicture\n          handleCancel={() => {\n            setshowPicture(false);\n            clearItems();\n          }}\n          visible={showPicture}\n          items={Items}\n          width={752}\n          height={Items.reduce((total, cur) => {\n            return total + cur.heights[0];\n          }, 0)}\n          user={props.user}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default UploadProductPage;\n","import React, { useEffect, useState } from 'react'\nimport ImageGallery from 'react-image-gallery';\n\nfunction ProductImage(props) {\n    const [Images, setImages] = useState([])\n\n    useEffect(() => {\n        if (props.detail.images && props.detail.images.length > 0) {\n            let images = [];\n\n            props.detail.images && props.detail.images.map(item => {\n                images.push({\n                    original: `http://3.15.2.141/${item}`,\n                    thumbnail: `http://3.15.2.141/${item}`\n                })\n                return null;\n            })\n            setImages(images);\n        }\n    }, [props.detail])\n\n    return (\n        <div>\n            <ImageGallery items={Images} />\n        </div>\n    )\n}\n\nexport default ProductImage\n","import React, { useEffect, useState } from 'react'\nimport { Descriptions } from 'antd';\nimport { tagsData, categoryData } from '../../../utils/Data'\n\nfunction ProductInfo(props) {\n\n    const [Product, setProduct] = useState({})\n\n    useEffect(() => {\n        setProduct(props.detail)\n    }, [props.detail])\n\n    const getTagByKey = (key) => {\n        let tagname = \"None\";\n        tagsData.map((tag) => {\n            if (tag.key === key) {\n                tagname = tag.value;\n            }\n            return null;\n        })\n        return tagname;\n    }\n\n    const getCategoryByKey = (key) => {\n        let categoryname = \"None\";\n        categoryData.map((category) => {\n            if (category.key === key) {\n                categoryname = category.value;\n            }\n            return null;\n        })\n        return categoryname;\n    }\n\n    return (\n        <div>\n            <Descriptions title=\"商品详情\">\n                <Descriptions.Item label=\"价格\"> {Product.price}</Descriptions.Item>\n                <Descriptions.Item label=\"商品类别\"> {getCategoryByKey(Product.category)}</Descriptions.Item>\n                <Descriptions.Item label=\"交易方式\"> {getTagByKey(Product.tag)}</Descriptions.Item>\n                <Descriptions.Item label=\"商品描述\"> {Product.description}</Descriptions.Item>\n            </Descriptions>\n            <br /><br /><br />\n        </div>\n    )\n}\n\nexport default ProductInfo\n","import React, { useEffect, useState } from \"react\";\nimport Axios from \"axios\";\nimport { Row, Col, Button, Modal } from \"antd\";\nimport ProductImage from \"./Sections/ProductImage\";\nimport ProductInfo from \"./Sections/ProductInfo\";\n\nfunction DetailProductPage(props) {\n  const productId = props.match.params.productId;\n  const [Product, setProduct] = useState({});\n  const [ContactForm, setContactForm] = useState({ visible: false });\n\n  useEffect(() => {\n    Axios.get(`/api/product/products_by_id?id=${productId}&type=single`).then(\n      (response) => {\n        if (response.data.length === 0) {\n          props.history.push(\"/404\");\n        } else {\n          setProduct(response.data[0]);\n        }\n      }\n    );\n  }, [props, productId]);\n\n  const showContact = () => {\n    setContactForm({ ...ContactForm, visible: true });\n  };\n  const handleOk = () => {\n    setContactForm({ ...ContactForm, visible: false });\n  };\n  const handleCancel = () => {\n    setContactForm({ ...ContactForm, visible: false });\n  };\n\n  return (\n    <div className=\"postPage\" style={{ width: \"100%\", padding: \"3rem 4rem\" }}>\n      <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n        <h1>{Product.title}</h1>\n      </div>\n      <br />\n      <Row gutter={[16, 16]}>\n        <Col lg={12} xs={24}>\n          <ProductImage detail={Product} />\n        </Col>\n        <Col lg={12} xs={24}>\n          <ProductInfo detail={Product} />\n          <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n            <Button\n              size=\"large\"\n              shape=\"round\"\n              type=\"danger\"\n              style={{ margin: \"1em 1em\" }}\n              onClick={showContact}\n            >\n              点击联系卖家\n            </Button>\n            <a href={`/user/${Product.writer ? Product.writer._id : \"\"}`}>\n              <Button\n                size=\"large\"\n                shape=\"round\"\n                type=\"danger\"\n                style={{ margin: \"1em 1em\" }}\n                onClick={showContact}\n              >\n                查看卖家商品\n              </Button>\n            </a>\n          </div>\n        </Col>\n      </Row>\n\n      <Modal\n        title=\"Show Contact\"\n        visible={ContactForm.visible}\n        onOk={handleOk}\n        onCancel={handleCancel}\n        destroyOnClose={true}\n      >\n        {Product.contactchoice === 0 ? (\n          <div>\n            <p>卖家的微信号为{Product.wechat}，您可以添加微信联系卖家。</p>\n          </div>\n        ) : (\n          <div>\n            <p>\n              卖家的其他联系方式为{Product.email}\n              ，您可以通过该联系方式联系卖家。\n            </p>\n          </div>\n        )}\n      </Modal>\n    </div>\n  );\n}\n\nexport default DetailProductPage;\n","import React from 'react'\n\nfunction HistoryPage(props) {\n    const isPC = function(){\n        var userAgentInfo = navigator.userAgent;\n        var Agents = [\"Android\", \"iPhone\", \"SymbianOS\", \"Windows Phone\", \"iPad\", \"iPod\"];  \n        var flag = true;  \n        for (var v = 0; v < Agents.length; v++) {  \n            if (userAgentInfo.indexOf(Agents[v]) > 0) { flag = false; break; }  \n        }  \n        return flag;\n      }();\n\n    return (\n        <div style={{ width: isPC? '80%':'98%', margin: '3rem auto' }}>\n            <div style={{ textAlign: 'center' }}>\n                <h1>History</h1>\n            </div>\n            <br />\n            { isPC ? \n                <table>\n                    <thead>\n                        <tr>\n                            <th>商品名称</th>\n                            <th>商品价格</th>\n                            <th>下架时间</th>\n                            <th>下架原因</th>\n                        </tr>\n                    </thead>\n\n                    <tbody>\n                        {props.user.userData && props.user.userData.history &&\n                            props.user.userData.history.map(item => (\n                                <tr key={item.id}>\n                                    <td>{item.title}</td>\n                                    <td>{item.price}</td>\n                                    <td>{item.dateOfDelete}</td>\n                                    <td>{item.reason}</td>\n                                </tr>\n                            ))}\n                    </tbody>\n                    \n                </table> :\n                <table style={{ tableLayout: \"fixed\" }}>\n                    <thead>\n                        <tr>\n                            <th>商品</th>\n                            <th>时间</th>\n                            <th>下架原因</th>\n                        </tr>\n                    </thead>\n\n                    <tbody>\n                        {props.user.userData && props.user.userData.history &&\n                            props.user.userData.history.map(item => (\n                                <tr key={item.id}>\n                                    <td>{item.title}</td>\n                                    <td>{item.dateOfDelete}</td>\n                                    <td>{item.reason}</td>\n                                </tr>\n                            ))}\n                    </tbody>\n                    \n                </table>\n            }\n            \n        </div>\n    )\n}\n\nexport default HistoryPage\n","import React, { useState } from \"react\";\nimport { Formik } from \"formik\";\nimport * as Yup from \"yup\";\nimport Codebox from \"../../utils/CodeBox/CodeBox\";\nimport Axios from \"axios\";\nimport { Form, Input, Button } from \"antd\";\n\nconst formItemLayout = {\n  labelCol: {\n    xs: { span: 24 },\n    sm: { span: 8 },\n  },\n  wrapperCol: {\n    xs: { span: 24 },\n    sm: { span: 16 },\n  },\n};\nconst tailFormItemLayout = {\n  wrapperCol: {\n    xs: {\n      span: 24,\n      offset: 0,\n    },\n    sm: {\n      span: 16,\n      offset: 8,\n    },\n  },\n};\n\nfunction ChangePasswordPage(props) {\n  const [VerifyCode, setVerifyCode] = useState(\"0000\");\n  const [VerifyId, setVerifyId] = useState(\"initialId\");\n  const [ifLoading, setifLoading] = useState(false);\n  const [codeboxContent, setcodeboxContent] = useState(\n    \"Get Verification Code From Email\"\n  );\n  return (\n    <Formik\n      initialValues={{\n        email: \"\",\n        verification: \"\",\n        password: \"\",\n        confirmPassword: \"\",\n      }}\n      validationSchema={Yup.object().shape({\n        email: Yup.string()\n          .email(\"Email is invalid\")\n          .required(\"Email is required\"),\n        password: Yup.string()\n          .min(6, \"Password must be at least 6 characters\")\n          .required(\"Password is required\"),\n        confirmPassword: Yup.string()\n          .oneOf([Yup.ref(\"password\"), null], \"Passwords must match\")\n          .required(\"Confirm Password is required\"),\n      })}\n      onSubmit={(values, { setSubmitting }) => {\n        setTimeout(() => {\n          let dataToSubmit = {\n            email: values.email,\n            password: values.password,\n            verifyId: VerifyId,\n            verifyCode: VerifyCode,\n          };\n\n          Axios.post(\"api/users/changepassword\", dataToSubmit).then(\n            (response) => {\n              if (response.data.success) {\n                props.history.push(\"/login\");\n              } else {\n                alert(response.data.err.message);\n\n                window.location.reload();\n              }\n            }\n          );\n\n          setSubmitting(false);\n        }, 500);\n      }}\n    >\n      {(props) => {\n        const {\n          values,\n          touched,\n          errors,\n          dirty,\n          isSubmitting,\n          handleChange,\n          handleBlur,\n          handleSubmit,\n          handleReset,\n        } = props;\n\n        const codeGet = () => {\n          setifLoading(true);\n          setcodeboxContent(\"wait about 15 s\");\n          let variable = { email: values.email };\n          Axios.post(\"/api/users/sendEmail\", variable).then((response) => {\n            if (response.data.success) {\n              //console.log(response.data);\n              setVerifyId(response.data.id);\n              // button state\n              setTimeout(() => {\n                setifLoading(false);\n                setcodeboxContent(\"send again\");\n              }, 15000);\n            } else {\n              //console.log(response.data.err);\n              alert(\"Failed to send email\");\n              setifLoading(false);\n              setcodeboxContent(\"Get Verification Code From Email\");\n            }\n          });\n        };\n\n        return (\n          <div className=\"app\">\n            <h2>Change Password</h2>\n            <Form\n              style={{ minWidth: \"375px\" }}\n              {...formItemLayout}\n              onSubmit={handleSubmit}\n            >\n              <Form.Item\n                required\n                label=\"Email\"\n                hasFeedback\n                validateStatus={\n                  errors.email && touched.email ? \"error\" : \"success\"\n                }\n              >\n                <Input\n                  id=\"email\"\n                  placeholder=\"Enter your Email\"\n                  type=\"email\"\n                  value={values.email}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.email && touched.email\n                      ? \"text-input error\"\n                      : \"text-input\"\n                  }\n                />\n                {errors.email && touched.email && (\n                  <div className=\"input-feedback\">{errors.email}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item\n                required\n                label=\"Verification\"\n                style={{ marginBottom: \"0 px\" }}\n              >\n                <Form.Item>\n                  <Codebox\n                    id=\"verification\"\n                    type=\"text\"\n                    length={4}\n                    validator={(input, index) => {\n                      return /\\d/.test(input);\n                    }}\n                    onChange={(codeArray) => {\n                      setVerifyCode(codeArray.join(\"\"));\n                    }}\n                  />\n                  <Button\n                    onClick={codeGet}\n                    type=\"primary\"\n                    block={true}\n                    loading={ifLoading}\n                  >\n                    {codeboxContent}\n                  </Button>\n                </Form.Item>\n              </Form.Item>\n\n              <Form.Item\n                required\n                label=\"New Password\"\n                hasFeedback\n                validateStatus={\n                  errors.password && touched.password ? \"error\" : \"success\"\n                }\n              >\n                <Input\n                  id=\"password\"\n                  placeholder=\"Enter your password\"\n                  type=\"password\"\n                  value={values.password}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.password && touched.password\n                      ? \"text-input error\"\n                      : \"text-input\"\n                  }\n                />\n                {errors.password && touched.password && (\n                  <div className=\"input-feedback\">{errors.password}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item required label=\"Confirm\" hasFeedback>\n                <Input\n                  id=\"confirmPassword\"\n                  placeholder=\"Enter your confirmPassword\"\n                  type=\"password\"\n                  value={values.confirmPassword}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.confirmPassword && touched.confirmPassword\n                      ? \"text-input error\"\n                      : \"text-input\"\n                  }\n                />\n                {errors.confirmPassword && touched.confirmPassword && (\n                  <div className=\"input-feedback\">{errors.confirmPassword}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item {...tailFormItemLayout}>\n                <Button\n                  onClick={handleSubmit}\n                  type=\"primary\"\n                  disabled={isSubmitting}\n                >\n                  Submit\n                </Button>\n              </Form.Item>\n            </Form>\n          </div>\n        );\n      }}\n    </Formik>\n  );\n}\n\nexport default ChangePasswordPage;\n","import React, { useEffect, useState } from 'react'\nimport { Form, Modal, Select } from \"antd\";\nimport { reasonsData } from \"./Data\";\n\nconst { Option } = Select;\n\nfunction ProductDeleteForm(props) {\n    const [ReasonValue, setReasonValue] = useState(\"已出售\");\n    const onReasonChange = (value) => { setReasonValue(value) };\n\n    useEffect(() => {\n        if (props.admin) {\n            setReasonValue(\"商品涉嫌违规已下架\")\n        }\n    }, [props.admin])\n\n    const handleOk = () => {\n        const reason = {\n            reason: ReasonValue\n        }\n\n        props.handleOk(reason);\n        setReasonValue(\"\");\n    }\n\n    const handleCancel = () => {\n        props.handleCancel();\n        setReasonValue(\"\");\n    }\n\n    return (\n        <div>\n            <Modal\n                title=\"Product\"\n                visible={props.visible}\n                onOk={handleOk}\n                onCancel={handleCancel}\n                destroyOnClose={true}\n            >\n                <Form>\n                    <label>下架原因:</label>&nbsp;\n                    {props.admin ?\n                    <Select\n                        style={{ width: 200 }}\n                        placeholder\n                        onChange={onReasonChange}\n                        value={ReasonValue}\n                    >\n                        <Option value={\"商品涉嫌违规已下架\"}>商品涉嫌违规已下架</Option>\n                        <Option value={\"其他原因\"}>其他原因</Option>\n                    </Select> :\n                    <Select\n                        style={{ width: 200 }}\n                        placeholder\n                        onChange={onReasonChange}\n                        value={ReasonValue}\n                    >\n                        {reasonsData.map((reason) => <Option key={reason.key} value={reason.value}>{reason.value}</Option>)}\n                    </Select>\n                    }\n                    <br /><br />\n                </Form>\n            </Modal>\n        </div>\n    )\n}\n\nexport default ProductDeleteForm\n","import React, { useEffect, useState, useCallback } from \"react\";\nimport Axios from \"axios\";\nimport Masonry from \"react-masonry-component\";\nimport { Icon, Card, Popover, Button } from \"antd\";\nimport ProductEditForm from '../../utils/ProductEditForm';\nimport ProductDeleteForm from '../../utils/ProductDeleteForm';\n\nfunction UserPage(props) {\n  const [Products, setProducts] = useState([]);\n  const [FormValue, setFormValue] = useState({ visible: false });\n  const [CurrentItem, setCurrentItem] = useState({})\n  const [DeleteFormValue, setDeleteFormValue] = useState({ visible: false })\n  const [DeleteItem, setDeleteItem] = useState({});\n  const [CardSize, setCardSize] = useState({ width: 0 })\n  const isPC = function(){\n    var userAgentInfo = navigator.userAgent;\n    var Agents = [\"Android\", \"iPhone\", \"SymbianOS\", \"Windows Phone\", \"iPad\", \"iPod\"];  \n    var flag = true;  \n    for (var v = 0; v < Agents.length; v++) {  \n        if (userAgentInfo.indexOf(Agents[v]) > 0) { flag = false; break; }  \n    }  \n    return flag;\n  }();\n\n  const onResize = useCallback(()=>{\n    let boxwidth = document.documentElement.clientWidth * (isPC? 0.75:0.95);\n    let cardnum = isPC? parseInt(boxwidth / 300)+1: 2;\n    let cardwidth = parseInt((boxwidth-15*(cardnum-1))/cardnum);\n    setCardSize({\n      width: cardwidth,\n    })\n  },[isPC])\n\n  useEffect(() => {\n    let boxwidth = document.documentElement.clientWidth * (isPC? 0.75:0.95);\n    let cardnum = isPC? parseInt(boxwidth / 300)+1: 2;\n    let cardwidth = parseInt((boxwidth-15*(cardnum-1))/cardnum);\n    setCardSize({\n      width: cardwidth,\n    })\n  }, [isPC])\n\n  useEffect(()=>{\n    window.addEventListener('resize', onResize);\n    return (()=>{\n      window.removeEventListener('resize', onResize) \n    })\n  },[onResize])\n\n  useEffect(() => {\n    if (props.user.userData) {\n      const variables = { userid: props.user.userData._id };\n      getProducts(variables);\n    }\n  }, [props.user]);\n\n  const handleDelete = (product) => {\n    setDeleteItem(product);\n    setDeleteFormValue({ ...DeleteFormValue, visible: true });\n  };\n\n  const handleEdit = (product) => {\n    // Edit Form\n    setCurrentItem(product);\n    setFormValue({ ...FormValue, visible: true });\n  };\n\n  const handleEditOk = (newItem) => {\n    // save\n    let updateItem = {\n      ...CurrentItem,\n      ...newItem\n    }\n\n    Axios.post('/api/product/updateProduct', updateItem)\n      .then((response) => {\n        if (response.data.success) {\n          const variables = { userid: props.user.userData._id };\n          getProducts(variables);  \n        } else {\n          alert(\"Fail to update product!\")\n        }\n      })\n\n    setFormValue({ ...FormValue, visible: false });\n    setCurrentItem({});\n    \n  }\n\n  const handleEditCancel = () => {\n    setFormValue({ ...FormValue, visible: false });\n    setCurrentItem({});\n  }\n\n  const handleDeleteOk = (reason) => {\n    let deleteItem = { ...DeleteItem, ...reason };\n\n    Axios.post('/api/users/deleteProduct', deleteItem)\n      .then((response) => {\n        const variables = { userid: props.user.userData._id };\n        getProducts(variables);\n      })\n    \n    setDeleteItem({});\n    setDeleteFormValue({ ...DeleteFormValue, visible: false });\n  }\n\n  const handleDeleteCancel = () => {\n    setDeleteItem({});\n    setDeleteFormValue({ ...DeleteFormValue, visible: false });\n  }\n\n  const content = (product) => {\n    return (\n      <div>\n        <div>\n          <Button type=\"link\" onClick={()=>handleDelete(product)}>下架删除</Button>\n        </div>\n        <div>\n          <Button type=\"link\" onClick={()=>handleEdit(product)}>修改内容</Button>\n        </div>\n      </div>\n    )\n  }\n\n  const getProducts = (variables) => {\n    Axios.post(\"/api/product/getByUser\", variables).then((response) => {\n      if (response.data.success) {\n        setProducts([...response.data.products]);\n      } else {\n        alert(\"failed to get items\");\n      }\n    });\n  };\n\n  const renderCards = Products.map((product, index) => {\n    return (\n      <div\n        key={index}\n        style={{\n          marginRight: \"15px\",\n          marginBottom: \"10px\",\n          display: \"inline-block\",\n          width: CardSize.width+\"px\"\n        }}\n      >\n        <Popover content={content(product)} title=\"Edit\">\n          <a href={`/product/${product._id}`}>\n            <Card\n              hoverable={true}\n              cover={\n                <img\n                  style={{ width: CardSize.width-2+\"px\" }}\n                  src={`http://3.15.2.141/${product.images[0]}`}\n                  alt=\"\"\n                />\n              }\n            >\n              <Card.Meta\n                title={product.title}\n                description={`$${product.price}`}\n              />\n            </Card>\n          </a>\n        </Popover>\n      </div>\n    );\n  });\n\n  return (\n    <div style={{ width: isPC? \"75%\":\"95%\", margin: \"3rem auto\" }}>\n      <div style={{ textAlign: \"center\" }}>\n        <h1>\n          我的物品 <Icon type=\"account-book\" />\n        </h1>\n      </div>\n\n      {Products.length === 0 ? (\n        <div\n          style={{\n            display: \"flex\",\n            height: \"300px\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n        >\n          <h2>No post yet...</h2>\n        </div>\n      ) : (\n        <div style={{ width: 'calc(100% + 15px)' }} >\n          <Masonry\n            className={\"my-gallery-class\"} // default ''\n            options={{ transitionDuration: 2 }} // default {}\n            disableImagesLoaded={false} // default false\n            updateOnEachImageLoad={false} // default false and works only if disableImagesLoaded is false\n          >\n            {renderCards}\n          </Masonry>\n        </div>\n      )}\n      <div>\n        <ProductEditForm\n          visible={FormValue.visible}\n          handleOk={handleEditOk}\n          handleCancel={handleEditCancel}\n          edit={true}\n          currentItem={CurrentItem}\n          user={props.user}\n        />\n      </div>\n      <div>\n        <ProductDeleteForm\n          visible={DeleteFormValue.visible}\n          handleOk={handleDeleteOk}\n          handleCancel={handleDeleteCancel}\n          user={props.user}\n        />\n      </div>\n    </div>\n\n  );\n}\n\nexport default UserPage;\n","import React, { useEffect, useState, useCallback } from \"react\";\nimport Axios from \"axios\";\nimport Masonry from \"react-masonry-component\";\nimport { Icon, Card } from \"antd\";\n\nfunction UserPage(props) {\n  const [Products, setProducts] = useState([]);\n  const [CardSize, setCardSize] = useState({ width: 0 })\n  const userid = props.match.params.userid;\n  const isPC = function(){\n    var userAgentInfo = navigator.userAgent;\n    var Agents = [\"Android\", \"iPhone\", \"SymbianOS\", \"Windows Phone\", \"iPad\", \"iPod\"];  \n    var flag = true;  \n    for (var v = 0; v < Agents.length; v++) {  \n        if (userAgentInfo.indexOf(Agents[v]) > 0) { flag = false; break; }  \n    }  \n    return flag;\n  }();\n\n  const onResize = useCallback(()=>{\n    let boxwidth = document.documentElement.clientWidth * (isPC? 0.75:0.95);\n    let cardnum = isPC? parseInt(boxwidth / 300)+1: 2;\n    let cardwidth = parseInt((boxwidth-15*(cardnum-1))/cardnum);\n    setCardSize({\n      width: cardwidth,\n    })\n  },[isPC])\n\n  useEffect(() => {\n    let boxwidth = document.documentElement.clientWidth * (isPC? 0.75:0.95);\n    let cardnum = isPC? parseInt(boxwidth / 300)+1: 2;\n    let cardwidth = parseInt((boxwidth-15*(cardnum-1))/cardnum);\n    setCardSize({\n      width: cardwidth,\n    })\n  }, [isPC])\n\n  useEffect(()=>{\n    window.addEventListener('resize', onResize);\n    return (()=>{\n      window.removeEventListener('resize', onResize) \n    })\n  },[onResize])\n\n  useEffect(() => {\n    if (userid) {\n      const variables = { userid: userid };\n      Axios.post(\"/api/product/getByUser\", variables).then((response) => {\n        if (response.data.success) {\n          setProducts([...response.data.products]);\n        } else {\n          alert(\"failed to get items\");\n        }\n      });\n    }\n  }, [userid]);\n\n  const renderCards = Products.map((product, index) => {\n    return (\n      // <Col lg={6} md={8} xs={24}>\n      <div\n        style={{\n          marginRight: \"15px\",\n          marginBottom: \"10px\",\n          display: \"inline-block\",\n          width: CardSize.width + \"px\"\n        }}\n      >\n        <a href={`/product/${product._id}`}>\n          <Card\n            hoverable={true}\n            cover={\n              <img\n                style={{ width: CardSize.width-2+\"px\" }}\n                src={`http://3.15.2.141/${product.images[0]}`}\n                alt=\"\"\n              />       \n            }\n          >\n            <Card.Meta title={product.title} description={`$${product.price}`} />\n          </Card>\n        </a>\n      </div>\n    );\n  });\n\n  return (\n    <div style={{ width: isPC? \"75%\":\"95%\", margin: \"3rem auto\" }}>\n      <div style={{ textAlign: \"center\" }}>\n        <h1>\n          卖家的物品 <Icon type=\"account-book\" />\n        </h1>\n      </div>\n\n      {Products.length === 0 ? (\n        <div\n          style={{\n            display: \"flex\",\n            height: \"300px\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n        >\n          <h2>No post yet...</h2>\n        </div>\n      ) : (\n        <div style={{ width: 'calc(100% + 15px)' }} >\n          <Masonry\n            className={\"my-gallery-class\"} // default ''\n            options={{ transitionDuration: 2 }} // default {}\n            disableImagesLoaded={false} // default false\n            updateOnEachImageLoad={false} // default false and works only if disableImagesLoaded is false\n          >\n            {renderCards}\n          </Masonry>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default UserPage;\n","import React, { useEffect } from \"react\";\nimport { Layout, Menu } from \"antd\";\n\nfunction AdminPage(props) {\n  const { Content, Sider } = Layout;\n  useEffect(() => {\n    if (props.user.userData) {\n      if (!props.user.userData.isAdmin) {\n        props.history.push(\"/403\");\n      }\n      props.history.push(\"/admin/product\");\n    }\n  }, [props]);\n\n  const handleProductClick = () => {\n    props.history.push(\"/admin/product\");\n  };\n  const handleUserClick = () => {\n    props.history.push(\"/admin/user\");\n  };\n  return (\n    <Layout>\n      <Sider\n        width={200}\n        style={{\n          overflow: \"auto\",\n          height: \"100vh\",\n          position: \"fixed\",\n          left: 0,\n        }}\n        className=\"site-layout-background\"\n      >\n        <Menu\n          mode=\"inline\"\n          defaultSelectedKeys={[\"1\"]}\n          defaultOpenKeys={[\"sub1\"]}\n          style={{ height: \"100%\", borderRight: 0 }}\n        >\n          <Menu.Item onClick={handleProductClick} key=\"1\">\n            物品审核\n          </Menu.Item>\n          <Menu.Item onClick={handleUserClick} key=\"2\">\n            用户审核\n          </Menu.Item>\n        </Menu>\n      </Sider>\n      <Content\n        className=\"site-layout-background\"\n        style={{\n          padding: 24,\n          margin: 0,\n          minHeight: 1200,\n        }}\n      >\n        Content\n      </Content>\n    </Layout>\n  );\n}\n\nexport default AdminPage;\n","import React from \"react\";\nimport { Result, Button } from \"antd\";\nfunction Exception403(props) {\n  const handleClick = () => {\n    props.history.push(\"/\");\n  };\n  return (\n    <Result\n      status=\"403\"\n      title=\"403\"\n      subTitle=\"Sorry, you are not authorized to access this page.您的账户可能已被封禁\"\n      extra={\n        <Button onClick={handleClick} type=\"primary\">\n          Back Home\n        </Button>\n      }\n    />\n  );\n}\n\nexport default Exception403;\n","import React from \"react\";\nimport { Result, Button } from \"antd\";\nfunction Exception404(props) {\n  const handleClick = () => {\n    props.history.push(\"/\");\n  };\n  return (\n    <Result\n      status=\"404\"\n      title=\"404\"\n      subTitle=\"Sorry, the page you visited does not exist..您查找的商品可能已下架\"\n      extra={\n        <Button onClick={handleClick} type=\"primary\">\n          Back Home\n        </Button>\n      }\n    />\n  );\n}\n\nexport default Exception404;\n","import React from 'react'\nimport { Card, Avatar, Row, Col} from 'antd';\n\nconst { Meta } = Card;\n\nfunction ContactUsPage() {\n    return (\n        <div\n            style={{\n                height: \"100%\",\n                width: \"100%\",\n                margin: \"2rem auto\",\n                overflow: \"hidden\",\n                background: \"white\"\n            }}\n        >\n            <Row>\n                <Col xs={{ span: 20, offset: 2}} lg={{ span: 12, offset: 6 }}>\n                    <h1>Contact Us</h1>\n                    <Card style={{ width: \"100%\", height: \"160px\", marginTop: 16 }} bordered={false}>\n                        <Meta\n                            avatar={\n                                <Avatar size={100} src={process.env.PUBLIC_URL+\"/default-thumb.png\"} />\n                            }\n                            title=\"SCGO Group\"\n                            description=\"Email: haimeiyoujian@scgo.org\"\n                        />\n                    </Card>\n                    <hr />\n                    <h1>Contributor</h1>\n                    <Card style={{ width: \"100%\", height: \"160px\", marginTop: 16 }} bordered={false}>\n                        <Meta\n                            avatar={\n                                <Avatar size={100} src={process.env.PUBLIC_URL+\"/default-thumb.png\"} />\n                            }\n                            title=\"Hanxi\"\n                            description=\"Email: haimeiyoujian@scgo.org\"\n                        />\n                    </Card>\n                    <Card style={{ width: \"100%\", height: \"160px\", marginTop: 16 }} bordered={false}>\n                        <Meta\n                            avatar={\n                                <Avatar size={100} src={process.env.PUBLIC_URL+\"/default-thumb.png\"} />\n                            }\n                            title=\"Harold\"\n                            description=\"Email: haimeiyoujian@scgo.org\"\n                        />\n                    </Card>\n                </Col>\n            </Row>\n            \n            \n        </div>\n    )\n}\n\nexport default ContactUsPage\n","import React, { useEffect, useState } from \"react\";\nimport { Layout, Menu, Icon, Card, Popover, Button } from \"antd\";\nimport Axios from \"axios\";\nimport Masonry from \"react-masonry-component\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport ProductDeleteForm from '../../../utils/ProductDeleteForm';\n\nconst { Content, Sider } = Layout;\n\nfunction AdminProductPage(props) {\n  const Limit = 8; // setLimit\n  const [Products, setProducts] = useState([]);\n  const [Skip, setSkip] = useState(0);\n  const [HasMore, setHasMore] = useState(true);\n  const [DeleteFormValue, setDeleteFormValue] = useState({ visible: false })\n  const [DeleteItem, setDeleteItem] = useState({});\n\n  function onLoadMore() {\n    console.log(\"loadmore\");\n    let skip = Skip + Limit;\n    const variables = {\n      skip: skip,\n      limit: Limit,\n      loadMore: true,\n    };\n    getProducts(variables);\n    setSkip(skip);\n  }\n\n  useEffect(() => {\n    if (props.user.userData) {\n      if (!props.user.userData.isAdmin) {\n        props.history.push(\"/403\");\n      }\n    }\n  }, [props]);\n\n  useEffect(() => {\n    Axios.post(\"/api/product/getProducts\", { skip: 0, limit: Limit }).then((response) => {\n      if (response.data.success) {\n        setHasMore(response.data.postSize < Limit ? false : true);\n        setProducts(response.data.products);\n      } else {\n        alert(\"Failed to fectch product datas\");\n      }\n    });\n  }, []);\n\n  const getProducts = (variables) => {\n    Axios.post(\"/api/product/getProducts\", variables).then((response) => {\n      if (response.data.success) {\n        setHasMore(response.data.postSize < Limit ? false : true);\n        if (variables.loadMore) {\n          setProducts([...Products, ...response.data.products]);\n        } else {\n          setProducts(response.data.products);\n        }\n      } else {\n        alert(\"Failed to fectch product datas\");\n      }\n    });\n  };\n\n  const handleProductClick = () => {\n    props.history.push(\"/admin/product\");\n  };\n  const handleUserClick = () => {\n    props.history.push(\"/admin/user\");\n  };\n\n  const handleDelete = (product) => {\n    setDeleteItem(product);\n    setDeleteFormValue({ ...DeleteFormValue, visible: true });\n  };\n\n  const handleDeleteOk = (reason) => {\n    let deleteItem = { ...DeleteItem, ...reason };\n\n    Axios.post('/api/users/deleteProduct', deleteItem)\n      .then((response) => {\n        const variables = { userid: props.user.userData._id };\n        getProducts(variables);\n      })\n    \n    setDeleteItem({});\n    setDeleteFormValue({ ...DeleteFormValue, visible: false });\n  }\n\n  const handleDeleteCancel = () => {\n    setDeleteItem({});\n    setDeleteFormValue({ ...DeleteFormValue, visible: false });\n  }\n\n  const renderCards = Products.map((product, index) => {\n    return (\n      // <Col lg={6} md={8} xs={24}>\n      <div\n        style={{\n          marginRight: \"15px\",\n          marginBottom: \"10px\",\n          display: \"inline-block\",\n        }}\n      >\n        <Popover\n          content={\n            <div>\n              <Button type=\"link\" onClick={()=>handleDelete(product)}>下架删除</Button>\n            </div>\n          }\n        >\n          <Card\n            style={{ width: \"270px\" }}\n            hoverable={true}\n            cover={\n              <a href={`/product/${product._id}`}>\n                <img\n                  style={{ width: \"270px\", height: `${752 / 270}%` }}\n                  src={`http://3.15.2.141/${product.images[0]}`}\n                  alt=\"\"\n                />\n              </a>\n            }\n          >\n            <Card.Meta title={product.title} description={product.writer._id} />\n          </Card>\n        </Popover>\n      </div>\n      // </Col>\n    );\n  });\n  return (\n    <div>\n      <Layout>\n        <Sider\n          width={200}\n          style={{\n            overflow: \"auto\",\n            height: \"100vh\",\n            position: \"fixed\",\n            left: 0,\n          }}\n          className=\"site-layout-background\"\n        >\n          <Menu\n            mode=\"inline\"\n            defaultSelectedKeys={[\"1\"]}\n            defaultOpenKeys={[\"sub1\"]}\n            style={{ height: \"100%\", borderRight: 0 }}\n          >\n            <Menu.Item onClick={handleProductClick} key=\"1\">\n              物品审核\n            </Menu.Item>\n            <Menu.Item onClick={handleUserClick} key=\"2\">\n              用户审核\n            </Menu.Item>\n          </Menu>\n        </Sider>\n        <Content\n          className=\"site-layout-background\"\n          style={{\n            paddingLeft: 240,\n            margin: 0,\n            minHeight: 1200,\n          }}\n        >\n          <div style={{ width: \"90%\", margin: \"3rem auto\" }}>\n            <div style={{ textAlign: \"center\" }}>\n              <h1>\n                最新物品 <Icon type=\"account-book\" />\n              </h1>\n            </div>\n\n            {Products.length === 0 ? (\n              <div\n                style={{\n                  display: \"flex\",\n                  height: \"300px\",\n                  justifyContent: \"center\",\n                  alignItems: \"center\",\n                }}\n              >\n                <h2>No post yet...</h2>\n              </div>\n            ) : (\n              <div\n                style={{ width: \"108%\", overflowX: \"hidden\", overflowY: \"auto\" }}\n              >\n                <InfiniteScroll\n                  dataLength={Products.length} //This is important field to render the next data\n                  next={() => onLoadMore()}\n                  hasMore={HasMore}\n                  loader={<h4>Loading...</h4>}\n                  endMessage={\n                    <p style={{ textAlign: \"center\" }}>\n                      <b>Yay! You have seen it all</b>\n                    </p>\n                  }\n                >\n                  <Masonry\n                    className={\"my-gallery-class\"} // default ''\n                    options={{ transitionDuration: 2 }} // default {}\n                    disableImagesLoaded={false} // default false\n                    updateOnEachImageLoad={false} // default false and works only if disableImagesLoaded is false\n                  >\n                    {renderCards}\n                  </Masonry>\n                </InfiniteScroll>\n              </div>\n            )}\n          </div>\n        </Content>\n      </Layout>\n      <div>\n        <ProductDeleteForm\n          visible={DeleteFormValue.visible}\n          handleOk={handleDeleteOk}\n          handleCancel={handleDeleteCancel}\n          user={props.user}\n          admin={true}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default AdminProductPage;\n","import React, { useEffect, useState } from 'react';\nimport { Layout, Menu, Table, Tag, Button, Input, Row, Col } from 'antd';\nimport Axios from 'axios';\n\nconst { Content, Sider } = Layout;\nconst { Column }  = Table;\nconst { Search } = Input;\n\nfunction UserControl(props) {\n    \n    const [UserData, setUserData] = useState([]);\n    const [SearchTerm, setSearchTerm] = useState(\"\");\n\n    useEffect(() => {\n        if (props.user.userData) {\n            if (!props.user.userData.isAdmin) {\n                props.history.push(\"/403\");\n            }\n            getUserInfo({});\n        }\n    }, [props]);\n\n\n    const handleProductClick = () => {\n        props.history.push(\"/admin/product\");\n    };\n\n    const handleUserClick = () => {\n        props.history.push(\"/admin/user\");\n    };\n\n    const getUserInfo = (rule) => {\n        Axios.post('/api/users/getUserByRule', rule)\n            .then((response) => {\n                if (response.data.success) {\n                    const userinfo = response.data.users.map((user, index) => {\n                        return {\n                            key: index,\n                            userid: user._id,\n                            username: user.username,\n                            userstate: user.role\n                        }\n                    })\n                    console.log(userinfo)\n                    setUserData(userinfo);\n                } else {\n                    console.log('no results')\n                    setUserData([])\n                }\n            })\n    }\n\n    const onChangeSearch = (event) => {\n        setSearchTerm(event.currentTarget.value)\n    }\n\n    const onSubmit = () => {\n        const rule = {\n            searchTerm: SearchTerm\n        }\n        getUserInfo(rule);\n    }\n\n    const blockUser = (userid) => {\n        Axios.post('/api/users/updateUserState', {\n            userid: userid,\n            role: -1,\n        }).then((response) => {\n            if (response.data.success) {\n                alert(\"Block Succeed\");\n                onSubmit();\n            }\n        })\n    }\n\n    const unblockUser = (userid) => {\n        Axios.post('/api/users/updateUserState', {\n            userid: userid,\n            role: 0\n        }).then((response) => {\n            if (response.data.success) {\n                alert(\"Unblock Succeed\");\n                onSubmit();\n            }\n        })\n    }\n\n    return (\n        <Layout>\n            <Sider\n                width={200}\n                style={{\n                    overflow: \"auto\",\n                    height: \"100vh\",\n                    position: \"fixed\",\n                    left: 0,\n                }}\n                className=\"site-layout-background\"\n            >\n                <Menu\n                    mode=\"inline\"\n                    defaultSelectedKeys={[\"2\"]}\n                    defaultOpenKeys={[\"sub1\"]}\n                    style={{ height: \"100%\", borderRight: 0 }}\n                >\n                    <Menu.Item onClick={handleProductClick} key=\"1\">\n                        物品审核\n                    </Menu.Item>\n                    <Menu.Item onClick={handleUserClick} key=\"2\">\n                        用户审核\n                    </Menu.Item>\n                </Menu>\n            </Sider>\n            <Layout>\n                <Content\n                    className=\"site-layout-background\"\n                    style={{\n                        padding: 24,\n                        margin: 0,\n                        marginLeft: \"200px\",\n                        minHeight: 1200,\n                    }}\n                >\n                    {/* Search */}\n                    <div \n                        style={{ \n                            background: 'white', \n                            marginBottom: '20px',\n                            margin: \"1rem auto\",\n                            width: \"100%\"\n                        }}\n                    >\n                        <br />\n                        <Row gutter={4}>\n                            <Col lg={2} xs={12}>\n                                <h3 style={{ margin: \"auto\"}}>&nbsp;&nbsp;&nbsp;&nbsp;USER ID查询:</h3>\n                            </Col>\n                            <Col lg={6} xs={24}>\n                                <div style={{ maxWidth: \"400px\" }} >\n                                    <Search\n                                        value={SearchTerm}\n                                        onChange={onChangeSearch}\n                                        onSearch={onSubmit}\n                                        enterButton=\"Search\"\n                                        placeholder=\"24-character user id\"\n                                    />\n                                </div>\n                            </Col>\n                        </Row>\n                        <br />\n                    </div>\n\n                    {/* Table */}\n                    <div style={{ background: 'white', marginBottom: '20px'}}>\n                        <h3 style={{ padding: '1rem 1rem 1rem 1rem' }}>查询表格</h3>\n                        <Table \n                            style={{ background: 'white' }}\n                            dataSource={UserData.length > 0? UserData: null}\n                        >\n                            <Column bordered={false} title=\"User ID\" dataIndex=\"userid\" key=\"userid\" />\n                            <Column bordered={false} title=\"Username\" dataIndex=\"username\" key=\"username\" />\n                            <Column\n                                bordered={false}\n                                title=\"User State\"\n                                dataIndex=\"userstate\"\n                                key=\"userstate\"\n                                render={tag => ( \n                                    <Tag color={tag === -1 ? \"red\" : \"green\"} key={tag}> \n                                        {tag === -1 ? \"blocked\" : \"normal\" } \n                                    </Tag>\n                                )}\n                            />\n                            <Column\n                                bordered={false}\n                                title=\"Action\"\n                                key=\"action\"\n                                render={(text, record) => (\n                                    <div>\n                                        <Button \n                                            style={{width: '80px'}}\n                                            disabled={record.userstate !== 0 ? true : false} \n                                            onClick={()=>blockUser(record.userid)}\n                                        >\n                                            Block\n                                        </Button>&nbsp;\n                                        <Button \n                                            style={{width: '80px'}}\n                                            disabled={record.userstate !== -1 ? true : false} \n                                            onClick={()=>unblockUser(record.userid)}\n                                        >\n                                            Unblock\n                                        </Button>\n                                    </div>\n                                )}\n                            />\n                        </Table>\n                    </div>\n                    \n\n\n                </Content>\n            </Layout>\n          \n        </Layout>\n      )\n}\n\nexport default UserControl\n","import React, { Suspense } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport Auth from \"../hoc/auth\";\n// pages for this product\nimport LandingPage from \"./views/LandingPage/LandingPage.js\";\nimport LoginPage from \"./views/LoginPage/LoginPage.js\";\nimport RegisterPage from \"./views/RegisterPage/RegisterPage.js\";\nimport NavBar from \"./views/NavBar/NavBar\";\nimport Footer from \"./views/Footer/Footer\";\nimport UploadProductPage from \"./views/UploadProductPage/UploadProductPage\";\nimport DetailProductPage from \"./views/DetailProductPage/DetailProductPage\";\nimport HistoryPage from \"./views/HistoryPage/HistoryPage\";\nimport ChangePasswordPage from \"./views/ChangePasswordPage/ChangePasswordPage\";\nimport UserPage from \"./views/UserPage/UserPage\";\nimport VisitorPage from \"./views/VisitorPage/VisitorPage\";\nimport AdminPage from \"./views/AdminPage/AdminPage\";\nimport Exception403 from \"./views/ExceptionPage/Exception403\";\nimport Exception404 from \"./views/ExceptionPage/Exception404\";\nimport ContactUsPage from \"./views/ContactUsPage/ContactUsPage\";\nimport AdminProductPage from \"./views/AdminPage/AdminProductPage/AdminProductPage\";\nimport AdminUserPage from \"./views/AdminPage/AdminUserPage/AdminUserPage\";\n\nfunction App() {\n  return (\n    <Suspense fallback={<div>Loading...</div>}>\n      <NavBar />\n      <div style={{ paddingTop: \"75px\", minHeight: \"calc(100vh - 80px)\" }}>\n        <Switch>\n          <Route exact path=\"/403\" component={Auth(Exception403, null)} />\n          <Route exact path=\"/404\" component={Auth(Exception404, null)} />\n          <Route exact path=\"/admin\" component={Auth(AdminPage, true)} />\n          <Route exact path=\"/admin/product\" component={Auth(AdminProductPage, true)} />\n          <Route exact path=\"/admin/user\" component={Auth(AdminUserPage, true)} />\n          <Route exact path=\"/\" component={Auth(LandingPage, null)} />\n          <Route exact path=\"/contactus\" component={Auth(ContactUsPage, null)} />\n          <Route exact path=\"/login\" component={Auth(LoginPage, false)} />\n          <Route exact path=\"/register\" component={Auth(RegisterPage, false)} />\n          <Route\n            exact\n            path=\"/product/upload\"\n            component={Auth(UploadProductPage, true)}\n          />\n          <Route\n            exact\n            path=\"/product/:productId\"\n            component={Auth(DetailProductPage, null)}\n          />\n          <Route exact path=\"/user/item\" component={Auth(UserPage, true)} />\n          <Route\n            exact\n            path=\"/user/:userid\"\n            component={Auth(VisitorPage, null)}\n          />\n          <Route exact path=\"/history\" component={Auth(HistoryPage, true)} />\n          <Route\n            exact\n            path=\"/change\"\n            component={Auth(ChangePasswordPage, null)}\n          />\n        </Switch>\n      </div>\n      <Footer />\n    </Suspense>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { combineReducers } from 'redux';\nimport user from './user_reducer';\n\nconst rootReducer = combineReducers({\n    user,\n});\n\nexport default rootReducer;","import {\n    LOGIN_USER,\n    REGISTER_USER,\n    AUTH_USER,\n    LOGOUT_USER,\n    ADD_TO_CART_USER,\n    GET_CART_ITEMS_USER,\n    REMOVE_CART_ITEM_USER,\n    ON_SUCCESS_BUY_USER,\n    ON_DELETE_ITEM\n} from '../_actions/types';\n\n\nexport default function (state = {}, action) {\n    switch (action.type) {\n        case REGISTER_USER:\n            return { ...state, register: action.payload }\n        case LOGIN_USER:\n            return { ...state, loginSucces: action.payload }\n        case AUTH_USER:\n            return { ...state, userData: action.payload }\n        case LOGOUT_USER:\n            return { ...state }\n        case ADD_TO_CART_USER:\n            return {\n                ...state, userData: {\n                    ...state.userData,\n                    cart: action.payload\n                }\n            }\n        case GET_CART_ITEMS_USER:\n            return {\n                ...state, cartDetail: action.payload\n            }\n        case REMOVE_CART_ITEM_USER:\n            return {\n                ...state,\n                cartDetail: action.payload.cartDetail,\n                userData: {\n                    ...state.userData,\n                    cart: action.payload.cart\n                }\n\n            }\n        case ON_SUCCESS_BUY_USER:\n            return {\n                ...state,\n                userData: {\n                    ...state.userData,\n                    cart: action.payload.cart\n                },\n                cartDetail: action.payload.cartDetail\n            }\n        case ON_DELETE_ITEM:\n            return {\n                ...state,\n                history: action.payload.history\n            }\n\n        default:\n            return state;\n    }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport Reducer from './_reducers';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport promiseMiddleware from 'redux-promise';\nimport ReduxThunk from 'redux-thunk';\n\nconst createStoreWithMiddleware = applyMiddleware(promiseMiddleware, ReduxThunk)(createStore);\n\nReactDOM.render(\n    <Provider\n        store={createStoreWithMiddleware(\n            Reducer,\n            window.__REDUX_DEVTOOLS_EXTENSION__ &&\n            window.__REDUX_DEVTOOLS_EXTENSION__()\n        )}\n    >\n        <BrowserRouter>\n            <App />\n        </BrowserRouter>\n    </Provider>\n    , document.getElementById('root'));\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}