{"version":3,"sources":["_actions/user_actions.js","_actions/types.js","components/Config.js","hoc/auth.js","components/views/LandingPage/Sections/CheckBox.js","components/views/LandingPage/Sections/Datas.js","components/views/LandingPage/Sections/SearchFeature.js","components/views/LandingPage/LandingPage.js","components/views/LoginPage/LoginPage.js","components/utils/CodeBox/utils.js","components/utils/CodeBox/CodeBox.js","components/views/RegisterPage/RegisterPage.js","components/views/NavBar/Sections/LeftMenu.js","components/views/NavBar/Sections/RightMenu.js","components/views/NavBar/NavBar.js","components/views/Footer/Footer.js","components/utils/CreatLongPicture/CreateLongPicture.js","components/utils/FileUpload.js","components/utils/Data.js","components/utils/ProductEditForm.js","components/utils/ContactAddForm.js","components/views/UploadProductPage/UploadProductPage.js","components/views/DetailProductPage/Sections/ProductImage.js","components/views/DetailProductPage/Sections/ProductInfo.js","components/views/DetailProductPage/DetailProductPage.js","components/views/HistoryPage/HistoryPage.js","components/views/ChangePasswordPage/ChangePasswordPage.js","components/utils/ProductDeleteForm.js","components/views/UserPage/UserPage.js","components/views/VisitorPage/VisitorPage.js","components/views/AdminPage/AdminPage.js","components/views/ExceptionPage/Exception403.js","components/views/ExceptionPage/Exception404.js","components/views/ContactUsPage/ContactUsPage.js","components/views/AdminPage/AdminProductPage/AdminProductPage.js","components/views/AdminPage/AdminUserPage/AdminUserPage.js","components/App.js","serviceWorker.js","_reducers/index.js","_reducers/user_reducer.js","index.js"],"names":["auth","type","payload","axios","get","then","response","data","ComposedClass","reload","adminRoute","AuthenticationCheck","props","user","useSelector","state","dispatch","useDispatch","useEffect","a","isAuth","history","push","isAdmin","googleAuth","Panel","Collapse","CheckBox","useState","Checked","setChecked","defaultActiveKey","header","filtername","key","keyvalue","gutter","list","map","value","index","lg","xs","Fragment","onChange","currentIndex","indexOf","newChecked","splice","handleFilters","handleToggle","_id","checked","style","fontSize","name","category","tags","Search","Input","SearchFeature","SearchTerms","setSearchTerms","event","currentTarget","onSearch","refreshFunction","enterButton","placeholder","Meta","Card","LandingPage","Products","setProducts","Skip","setSkip","HasMore","setHasMore","width","CardSize","setCardSize","tag","Filters","setFilters","getTagByKey","tagname","onResize","useCallback","boxwidth","document","documentElement","clientWidth","cardnum","parseInt","cardwidth","window","addEventListener","removeEventListener","Axios","post","skip","limit","success","postSize","products","alert","getProducts","variables","loadMore","filters","newFilters","showFilteredResults","height","margin","overflow","textAlign","display","justifyContent","newSearchTerm","searchTerm","length","alignItems","href","overflowX","overflowY","dataLength","next","console","log","onLoadMore","hasMore","loader","endMessage","className","options","transitionDuration","disableImagesLoaded","updateOnEachImageLoad","product","marginRight","marginBottom","hoverable","cover","src","images","alt","title","description","price","float","Title","Typography","withRouter","rememberMeChecked","localStorage","getItem","formErrorMessage","setFormErrorMessage","rememberMe","setRememberMe","handleRememberMe","initialEmail","initialValues","email","password","validationSchema","Yup","shape","required","min","onSubmit","values","setSubmitting","setTimeout","dataToSubmit","loginUser","loginSuccess","setItem","userId","id","removeItem","catch","err","touched","errors","isSubmitting","dirty","handleChange","handleBlur","handleSubmit","handleReset","level","Item","prefix","color","onBlur","border","padding","borderRadius","htmlType","minWidth","disabled","textSelect","element","end","createTextRange","range","moveStart","moveEnd","select","setSelectionRange","focus","removeDefaultBehavior","preventDefault","returnValue","stopPropagation","isFunction","any","code","Array","fill","dom","e","i","target","trim","this","validator","focusOn","newCode","v","setState","every","blur","inputElement","keyCode","getPrevBox","getNextBox","error","info","codeBox","inputType","maxLength","autoComplete","autoCorrect","autoCapitalize","spellCheck","ref","onFocus","onClick","onKeyDown","Component","formItemLayout","labelCol","span","sm","wrapperCol","tailFormItemLayout","offset","RegisterPage","VerifyCode","setVerifyCode","VerifyId","setVerifyId","ifLoading","setifLoading","codeboxContent","setcodeboxContent","username","verification","confirmPassword","oneOf","verifyId","verifyCode","image","moment","unix","registerUser","errmsg","location","label","hasFeedback","validateStatus","input","test","codeArray","join","variable","block","loading","LeftMenu","mode","menu","status","userData","overlay","placement","NavBar","visible","setVisible","position","zIndex","closable","onClose","Footer","flexDirection","CreateLongPicture","canvasRef","useRef","drawCanvas","text","myctx","current","getContext","drawImage","font","fillStyle","fillText","items","item","heights","newImage","Image","setAttribute","complete","onload","onerror","forceRender","onOk","canvas","createElement","toDataURL","download","click","downLoadImage","Date","now","onCancel","handleCancel","okText","cancelText","FileUpload","Images","setImages","Heights","setHeights","Preview","setPreview","newImages","newHeights","onDelete","objectFit","onDrop","files","formData","FormData","append","multiple","maxSize","getRootProps","getInputProps","placesData","categoryData","meansData","tagsData","reasonsData","TextArea","Option","Select","ProductEditForm","TitleValue","setTitleValue","DescriptionValue","setDescriptionValue","PriceValue","setPriceValue","Means","setMeans","PlaceValue","setPlaceValue","Category","setCategory","edit","currentItem","means","places","setDefault","writer","handleOk","destroyOnClose","Group","mean","optionFilterProp","filterOption","option","children","toLowerCase","place","ContactAddForm","WeChat","setWeChat","Email","setEmail","ContactChoice","setContactChoice","contact","wechat","contactchoice","onWeChatChange","onEmailChange","UploadProductPage","Items","setItems","FormValue","setFormValue","Edit","setEdit","EditIndex","setEditIndex","showPicture","setshowPicture","CurrentItem","setCurrentItem","ContactForm","setContactForm","role","uploadProduct","onAdd","renderItemCards","sytle","maxHeight","categoryname","getCategoryByKey","onEdit","newItems","newItem","reduce","total","cur","ProductImage","detail","original","thumbnail","ProductInfo","Product","setProduct","DetailProductPage","productId","match","params","showContact","size","HistoryPage","dateOfDelete","reason","ChangePasswordPage","message","ProductDeleteForm","ReasonValue","setReasonValue","onReasonChange","admin","UserPage","DeleteFormValue","setDeleteFormValue","DeleteItem","setDeleteItem","userid","content","handleDelete","handleEdit","renderCards","updateItem","deleteItem","AdminPage","Content","Layout","Sider","left","defaultSelectedKeys","defaultOpenKeys","borderRight","minHeight","Exception403","subTitle","extra","Exception404","ContactUsPage","background","marginTop","bordered","avatar","AdminProductPage","paddingLeft","Column","Table","UserControl","UserData","setUserData","SearchTerm","setSearchTerm","getUserInfo","rule","userinfo","users","userstate","marginLeft","maxWidth","dataSource","dataIndex","render","record","App","fallback","paddingTop","exact","path","component","Auth","AdminUserPage","LoginPage","VisitorPage","Boolean","hostname","rootReducer","combineReducers","action","register","loginSucces","cart","cartDetail","createStoreWithMiddleware","applyMiddleware","promiseMiddleware","ReduxThunk","createStore","ReactDOM","store","Reducer","__REDUX_DEVTOOLS_EXTENSION__","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.8488b962.chunk.js","sourcesContent":["import axios from 'axios';\nimport {\n    LOGIN_USER,\n    REGISTER_USER,\n    AUTH_USER,\n    LOGOUT_USER,\n    ADD_TO_CART_USER,\n    GET_CART_ITEMS_USER,\n    REMOVE_CART_ITEM_USER,\n    ON_SUCCESS_BUY_USER,\n    ON_DELETE_ITEM\n} from './types';\nimport { USER_SERVER } from '../components/Config.js';\n\nexport function registerUser(dataToSubmit) {\n    const request = axios.post(`${USER_SERVER}/register`, dataToSubmit)\n        .then(response => response.data);\n\n    return {\n        type: REGISTER_USER,\n        payload: request\n    }\n}\n\nexport function loginUser(dataToSubmit) {\n    const request = axios.post(`${USER_SERVER}/login`, dataToSubmit)\n        .then(response => response.data);\n\n    return {\n        type: LOGIN_USER,\n        payload: request\n    }\n}\n\nexport function auth() {\n    const request = axios.get(`${USER_SERVER}/auth`)\n        .then(response => response.data);\n\n    return {\n        type: AUTH_USER,\n        payload: request\n    }\n}\n\nexport function logoutUser() {\n    const request = axios.get(`${USER_SERVER}/logout`)\n        .then(response => response.data);\n\n    return {\n        type: LOGOUT_USER,\n        payload: request\n    }\n}\n\n\nexport function addToCart(_id) {\n    const request = axios.get(`${USER_SERVER}/addToCart?productId=${_id}`)\n        .then(response => response.data);\n\n    return {\n        type: ADD_TO_CART_USER,\n        payload: request\n    }\n}\n\n\n\nexport function getCartItems(cartItems, userCart) {\n    const request = axios.get(`/api/product/products_by_id?id=${cartItems}&type=array`)\n        .then(response => {\n\n\n            //Make CartDetail inside Redux Store \n            // We need to add quantity data to Product Information that come from Product Collection. \n\n            userCart.forEach(cartItem => {\n                response.data.forEach((productDetail, i) => {\n                    if (cartItem.id === productDetail._id) {\n                        response.data[i].quantity = cartItem.quantity;\n                    }\n                })\n            })\n\n            return response.data;\n        });\n\n    return {\n        type: GET_CART_ITEMS_USER,\n        payload: request\n    }\n}\n\n\n\n\nexport function removeCartItem(id) {\n    const request = axios.get(`/api/users/removeFromCart?_id=${id}`)\n        .then(response => {\n\n            response.data.cart.forEach(item => {\n                response.data.cartDetail.forEach((k, i) => {\n                    if (item.id === k._id) {\n                        response.data.cartDetail[i].quantity = item.quantity\n                    }\n                })\n            })\n            return response.data;\n        });\n\n    return {\n        type: REMOVE_CART_ITEM_USER,\n        payload: request\n    }\n}\n\n\nexport function onSuccessBuy(data) {\n\n    const request = axios.post(`${USER_SERVER}/successBuy`, data)\n        .then(response => response.data);\n\n    return {\n        type: ON_SUCCESS_BUY_USER,\n        payload: request\n    }\n}\n\nexport function onDeleteItem(data) {\n\n    const request = axios.post(`${USER_SERVER}/deleteProduct`, data)\n        .then(response => response.data);\n    return {\n        type: ON_DELETE_ITEM,\n        payload: request\n    }\n}\n\n\n\n","export const LOGIN_USER = 'login_user';\nexport const REGISTER_USER = 'register_user';\nexport const AUTH_USER = 'auth_user';\nexport const LOGOUT_USER = 'logout_user';\nexport const ADD_TO_CART_USER = 'add_to_cart_user';\nexport const GET_CART_ITEMS_USER = 'get_cart_items_user';\nexport const REMOVE_CART_ITEM_USER = 'remove_cart_item_user';\nexport const ON_SUCCESS_BUY_USER = 'on_success_buy_user';\nexport const ON_DELETE_ITEM = 'on_delete_item';","//SERVER ROUTES\nexport const USER_SERVER = '/api/users';\n","import React, { useEffect } from 'react';\nimport { auth } from '../_actions/user_actions';\nimport { useSelector, useDispatch } from \"react-redux\";\n\nexport default function (ComposedClass, reload, adminRoute = null) {\n    function AuthenticationCheck(props) {\n\n        let user = useSelector(state => state.user);\n        const dispatch = useDispatch();\n\n        useEffect(() => {\n\n            dispatch(auth()).then(async response => {\n                if (await !response.payload.isAuth) {\n                    if (reload) {\n                        props.history.push('/login')\n                    }\n                } else {\n                    if (adminRoute && !response.payload.isAdmin) {\n                        props.history.push('/')\n                    }\n                    else {\n                        if (reload === false) {\n                            props.history.push('/')\n                        }\n                    }\n                }\n            })\n            \n        }, [dispatch, props.history, user.googleAuth])\n\n        return (\n            <ComposedClass {...props} user={user} />\n        )\n    }\n    return AuthenticationCheck\n}\n\n\n","import React, { useState } from 'react'\nimport { Checkbox, Collapse, Row, Col } from 'antd';\n\nconst { Panel } = Collapse\n\n\nfunction CheckBox(props) {\n\n    const [Checked, setChecked] = useState([])\n\n    const handleToggle = (value) => {\n\n        const currentIndex = Checked.indexOf(value);\n        const newChecked = [...Checked];\n\n        if (currentIndex === -1) {\n            newChecked.push(value)\n        } else {\n            newChecked.splice(currentIndex, 1)\n        }\n\n        setChecked(newChecked)\n        props.handleFilters(newChecked)\n        //update this checked information into Parent Component \n\n    }\n\n    const renderCheckboxLists = () => props.list && props.list.map((value, index) => (\n        <Col lg={6} xs={24} key={index}>\n            <React.Fragment key={index}> \n                <Checkbox\n                    key={index}\n                    onChange={() => handleToggle(value._id)}\n                    type=\"checkbox\"\n                    checked={Checked.indexOf(value._id) === -1 ? false : true}\n                />&nbsp;&nbsp;\n                <span style={{fontSize:\"10px\"}}>{value.name}</span>\n            </React.Fragment>\n        </Col>\n    ))\n\n    return (\n        <div>\n            <Collapse defaultActiveKey={props.defaultActiveKey} >\n                <Panel header={props.filtername} key={props.keyvalue}>\n                    <Row gutter={[4, 4]}>\n                        {renderCheckboxLists()}\n                    </Row>\n                </Panel>\n            </Collapse>\n        </div>\n    )\n}\n\nexport default CheckBox\n","const category = [\n    { \n        \"_id\": 0, \n        \"name\": \"Commodity\" \n    }, \n    { \n        \"_id\": 1, \n        \"name\": \"Electronics\"\n    }, \n    { \n        \"_id\": 2, \n        \"name\": \"Furniture\"\n    }, \n    { \n        \"_id\": 3, \n        \"name\": \"Food & Drinks\"\n    }, \n    { \n        \"_id\": 4, \n        \"name\": \"Clothes/Bags\"\n    },\n    { \n        \"_id\": 5, \n        \"name\": \"Makeup\"\n    },\n    { \n        \"_id\": 6, \n        \"name\": \"Others\"\n    }\n]\n\nconst place = [\n    {\n        \"_id\": 0,\n        \"name\": \"Lorenzo\",\n    },\n    {\n        \"_id\": 1,\n        \"name\": \"Gateway\",\n    },\n    {\n        \"_id\": 2,\n        \"name\": \"K-town\", \n    },\n    {\n        \"_id\": 3,\n        \"name\": \"Downtown\", \n    },\n    {\n        \"_id\": 4,\n        \"name\": \"USC周边\", \n    },\n    {\n        \"_id\": 5,\n        \"name\": \"LA其他地区\",\n    },\n]\n\nconst mean = [\n    { \n        \"_id\": 0, \n        \"name\": \"自取\" \n    },\n    { \n        \"_id\": 1, \n        \"name\": \"USC附近可送\" \n    },\n    { \n        \"_id\": 2, \n        \"name\": \"地点可商议\" \n    }\n]\n\nconst tags = [\n    {\n        \"_id\": 0,\n        \"name\": \"Lorenzo自取\",\n    },\n    {\n        \"_id\": 1,\n        \"name\": \"Gateway自取\",\n    },\n    {\n        \"_id\": 2,\n        \"name\": \"K-town自取\", \n    },\n    {\n        \"_id\": 3,\n        \"name\": \"Downtown自取\", \n    },\n    {\n        \"_id\": 4,\n        \"name\": \"USC周边自取\", \n    },\n    {\n        \"_id\": 5,\n        \"name\": \"LA其他地区自取\",\n    },\n    { \n        \"_id\": 6, \n        \"name\": \"USC附近可送\" \n    },\n    { \n        \"_id\": 7, \n        \"name\": \"地点可商议\" \n    }\n]\n\nexport {\n    category,\n    place,\n    mean,\n    tags\n}","import React, { useState } from 'react'\nimport { Input } from 'antd';\n\nconst { Search } = Input;\n\nfunction SearchFeature(props) {\n\n    const [SearchTerms, setSearchTerms] = useState(\"\")\n\n    const onChangeSearch = (event) => {\n        setSearchTerms(event.currentTarget.value)\n    }\n\n    const onSubmit = () => {\n        props.refreshFunction(SearchTerms)\n        setSearchTerms(\"\")\n    }\n\n    return (\n        <div>\n            <Search\n                value={SearchTerms}\n                onChange={onChangeSearch}\n                onSearch={onSubmit}\n                enterButton=\"Search\"\n                placeholder=\"Search By Typing...\"\n            />\n        </div>\n    )\n}\n\nexport default SearchFeature\n","import React, { useEffect, useState, useCallback } from \"react\";\nimport Axios from \"axios\";\nimport { Icon, Col, Card, Row, Tag } from \"antd\";\nimport CheckBox from \"./Sections/CheckBox\";\nimport { category, tags } from \"./Sections/Datas\";\nimport SearchFeature from \"./Sections/SearchFeature\";\nimport Masonry from \"react-masonry-component\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\n\nconst { Meta } = Card;\n\nfunction LandingPage(props) {\n  const Limit = 8; // setLimit\n  const [Products, setProducts] = useState([]);\n  const [Skip, setSkip] = useState(0);\n  const [SearchTerms, setSearchTerms] = useState(\"\");\n  const [HasMore, setHasMore] = useState(true);\n  const [CardSize, setCardSize] = useState({ width: 0 })\n  const [Filters, setFilters] = useState({\n    category: [],\n    tag: [],\n  });\n\n  const getTagByKey = (key) => {\n    let tagname = \"None\";\n    tags.map((tag) => {\n      if (tag._id === key) {\n        tagname = tag.name;\n      }\n      return null;\n    });\n    return tagname;\n  };\n\n  const onResize = useCallback(()=>{\n    let boxwidth = document.documentElement.clientWidth * 0.75;\n    let cardnum = parseInt(boxwidth / 300)+1;\n    let cardwidth = parseInt((boxwidth-15*(cardnum-1))/cardnum);\n    setCardSize({\n      width: cardwidth,\n    })\n  },[])\n\n  useEffect(() => {\n    let boxwidth = document.documentElement.clientWidth * 0.75;\n    let cardnum = parseInt(boxwidth / 300)+1;\n    let cardwidth = parseInt((boxwidth-15*(cardnum-1))/cardnum);\n    setCardSize({\n      width: cardwidth,\n    })\n  }, [])\n\n  useEffect(()=>{\n    window.addEventListener('resize', onResize);\n    return (()=>{\n      window.removeEventListener('resize', onResize) \n    })\n  },[onResize])\n\n  useEffect(() => {\n    Axios.post(\"/api/product/getProducts\", { skip: 0, limit: Limit }).then((response) => {\n      if (response.data.success) {\n        setHasMore(response.data.postSize < Limit ? false : true);\n        setProducts(response.data.products);\n      } else {\n        alert(\"Failed to fectch product datas\");\n      }\n    });\n  }, []);\n\n  const getProducts = (variables) => {\n    Axios.post(\"/api/product/getProducts\", variables).then((response) => {\n      if (response.data.success) {\n        setHasMore(response.data.postSize < Limit ? false : true);\n        if (variables.loadMore) {\n          setProducts([...Products, ...response.data.products]);\n        } else {\n          setProducts(response.data.products);\n        }\n      } else {\n        alert(\"Failed to fectch product datas\");\n      }\n    });\n  };\n\n  function onLoadMore() {\n    console.log(\"loadmore\");\n    let skip = Skip + Limit;\n    const variables = {\n      skip: skip,\n      limit: Limit,\n      loadMore: true,\n      filters: Filters,\n      searchTerm: SearchTerms,\n    };\n    getProducts(variables);\n    setSkip(skip);\n  }\n\n  const showFilteredResults = (filters) => {\n    const variables = {\n      skip: 0,\n      limit: Limit,\n      filters: filters,\n    };\n    getProducts(variables);\n    setSkip(0);\n  };\n\n  const handleFilters = (filters, category) => {\n    const newFilters = { ...Filters };\n    newFilters[category] = filters;\n    showFilteredResults(newFilters);\n    setFilters(newFilters);\n  };\n\n  const updateSearchTerms = (newSearchTerm) => {\n    const variables = {\n      skip: 0,\n      limit: Limit,\n      filters: Filters,\n      searchTerm: newSearchTerm,\n    };\n\n    setSkip(0);\n    setSearchTerms(newSearchTerm);\n\n    getProducts(variables);\n  };\n\n  return (\n    <div\n      style={{\n        height: \"100%\",\n        width: \"75%\",\n        margin: \"3rem auto\",\n        overflow: \"hidden\",\n      }}\n    >\n      <div style={{ textAlign: \"center\" }}>\n        <h2>\n          {\" \"}\n          Let's Sell &amp; Buy <Icon type=\"rocket\" />{\" \"}\n        </h2>\n      </div>\n\n      {/* Filter  */}\n\n      <Row gutter={[16, 16]}>\n        <Col lg={12} xs={24}>\n          <CheckBox\n            key={1}\n            keyvalue={1}\n            defaultActiveKey={[\"0\"]}\n            list={tags}\n            handleFilters={(filters) => handleFilters(filters, \"tag\")}\n            filtername=\"交易方式\"\n            category=\"tag\"\n          />\n        </Col>\n        <Col lg={12} xs={24}>\n          <CheckBox\n            key={2}\n            keyvalue={2}\n            defaultActiveKey={[\"0\"]}\n            list={category}\n            handleFilters={(filters) => handleFilters(filters, \"category\")}\n            filtername=\"物品种类\"\n            category=\"category\"\n          />\n        </Col>\n      </Row>\n\n      {/* Search  */}\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"flex-end\",\n          margin: \"1rem auto\",\n        }}\n      >\n        <SearchFeature refreshFunction={updateSearchTerms} />\n      </div>\n\n      {Products.length === 0 ? (\n        <div\n          style={{\n            display: \"flex\",\n            height: \"300px\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n        >\n          <h2>\n            暂未相关物品，您可以重新选择筛选/搜索内容或点击\n            <a href='/'>Home</a>返回\n          </h2>\n        </div>\n      ) : (\n        <div style={{ width: 'calc(100% + 15px)', overflowX: \"hidden\", overflowY: \"auto\" }}>\n          <InfiniteScroll\n            dataLength={Products.length} //This is important field to render the next data\n            next={() => onLoadMore()}\n            hasMore={HasMore}\n            loader={<h4>Loading...</h4>}\n            endMessage={\n              <p style={{ textAlign: \"center\" }}>\n                <b>Yay! You have seen it all</b>\n              </p>\n            }\n          >\n            <Masonry\n              className={\"my-gallery-class\"} // default ''\n              options={{ transitionDuration: 2 }} // default {}\n              disableImagesLoaded={false} // default false\n              updateOnEachImageLoad={false} // default false and works only if disableImagesLoaded is false\n            >\n              {Products.map((product, index) => (\n                <div\n                  key={index}\n                  style={{\n                    marginRight: \"15px\",\n                    marginBottom: \"10px\",\n                    display: \"inline-block\",\n                    width: CardSize.width+'px'\n                  }}\n                >\n                  <Card\n                    hoverable={true}\n                    cover={\n                      <a href={`/product/${product._id}`}>\n                        <img\n                          style={{ width: CardSize.width-2+'px' }}\n                          src={`http://3.15.2.141/${product.images[0]}`}\n                          alt=\"\"\n                        />\n                      </a>\n                    }\n                  >\n                    <Meta\n                      title={product.title}\n                      description={\n                        <div>\n                          {`$${product.price}`}\n                          <Tag style={{ float: \"right\" }}>\n                            {getTagByKey(product.tag)}\n                          </Tag>\n                        </div>\n                      }\n                    />\n                  </Card>\n                </div>\n              ))}\n            </Masonry>\n          </InfiniteScroll>\n        </div>\n      )}\n      <br />\n      <br />\n    </div>\n  );\n}\n\nexport default LandingPage;\n","import React, { useState } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { loginUser } from \"../../../_actions/user_actions\";\nimport { Formik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { Form, Icon, Input, Button, Checkbox, Typography } from \"antd\";\nimport { useDispatch } from \"react-redux\";\n\nconst { Title } = Typography;\n\nfunction LoginPage(props) {\n  const dispatch = useDispatch();\n  const rememberMeChecked = localStorage.getItem(\"rememberMe\") ? true : false;\n\n  const [formErrorMessage, setFormErrorMessage] = useState(\"\");\n  const [rememberMe, setRememberMe] = useState(rememberMeChecked);\n\n  const handleRememberMe = () => {\n    setRememberMe(!rememberMe);\n  };\n\n  const initialEmail = localStorage.getItem(\"rememberMe\")\n    ? localStorage.getItem(\"rememberMe\")\n    : \"\";\n\n  return (\n    <Formik\n      initialValues={{\n        email: initialEmail,\n        password: \"\",\n      }}\n      validationSchema={Yup.object().shape({\n        email: Yup.string()\n          .email(\"Email is invalid\")\n          .required(\"Email is required\"),\n        password: Yup.string()\n          .min(6, \"Password must be at least 6 characters\")\n          .required(\"Password is required\"),\n      })}\n      onSubmit={(values, { setSubmitting }) => {\n        setTimeout(() => {\n          let dataToSubmit = {\n            email: values.email,\n            password: values.password,\n          };\n\n          dispatch(loginUser(dataToSubmit))\n            .then((response) => {\n              if (response.payload.loginSuccess) {\n                window.localStorage.setItem(\"userId\", response.payload.userId);\n                if (rememberMe === true) {\n                  window.localStorage.setItem(\"rememberMe\", values.id);\n                } else {\n                  localStorage.removeItem(\"rememberMe\");\n                }\n                props.history.push(\"/\");\n              } else {\n                setFormErrorMessage(\"Check out your Account or Password again\");\n              }\n            })\n            .catch((err) => {\n              setFormErrorMessage(\"Check out your Account or Password again\");\n              setTimeout(() => {\n                setFormErrorMessage(\"\");\n              }, 3000);\n            });\n          setSubmitting(false);\n        }, 500);\n      }}\n    >\n      {(props) => {\n        const {\n          values,\n          touched,\n          errors,\n          dirty,\n          isSubmitting,\n          handleChange,\n          handleBlur,\n          handleSubmit,\n          handleReset,\n        } = props;\n        return (\n          <div className=\"app\">\n            <Title level={2}>Log In</Title>\n            <form onSubmit={handleSubmit} style={{ width: \"350px\" }}>\n              <Form.Item required>\n                <Input\n                  id=\"email\"\n                  prefix={\n                    <Icon type=\"user\" style={{ color: \"rgba(0,0,0,.25)\" }} />\n                  }\n                  placeholder=\"Enter your email\"\n                  type=\"email\"\n                  value={values.email}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.email && touched.email\n                      ? \"text-input error\"\n                      : \"text-input\"\n                  }\n                />\n                {errors.email && touched.email && (\n                  <div className=\"input-feedback\">{errors.email}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item required>\n                <Input\n                  id=\"password\"\n                  prefix={\n                    <Icon type=\"lock\" style={{ color: \"rgba(0,0,0,.25)\" }} />\n                  }\n                  placeholder=\"Enter your password\"\n                  type=\"password\"\n                  value={values.password}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.password && touched.password\n                      ? \"text-input error\"\n                      : \"text-input\"\n                  }\n                />\n                {errors.password && touched.password && (\n                  <div className=\"input-feedback\">{errors.password}</div>\n                )}\n              </Form.Item>\n\n              {formErrorMessage && (\n                <label>\n                  <p\n                    style={{\n                      color: \"#ff0000bf\",\n                      fontSize: \"0.7rem\",\n                      border: \"1px solid\",\n                      padding: \"1rem\",\n                      borderRadius: \"10px\",\n                    }}\n                  >\n                    {formErrorMessage}\n                  </p>\n                </label>\n              )}\n\n              <Form.Item>\n                <Checkbox\n                  id=\"rememberMe\"\n                  keyvalue=\"rememberMe\"\n                  onChange={handleRememberMe}\n                  checked={rememberMe}\n                >\n                  Remember me\n                </Checkbox>\n                <a\n                  className=\"login-form-forgot\"\n                  href=\"/change\"\n                  style={{ float: \"right\" }}\n                >\n                  forgot password\n                </a>\n                <div>\n                  <Button\n                    type=\"primary\"\n                    htmlType=\"submit\"\n                    className=\"login-form-button\"\n                    style={{ minWidth: \"100%\" }}\n                    disabled={isSubmitting}\n                    onSubmit={handleSubmit}\n                  >\n                    Log in\n                  </Button>\n                </div>\n                Or <a href=\"/register\">register now!</a>\n              </Form.Item>\n            </form>\n          </div>\n        );\n      }}\n    </Formik>\n  );\n}\nexport default withRouter(LoginPage);\n","export function textSelect(element) {\n  const start = 0;\n  const end = element.value.length;\n  if (element.createTextRange) {\n    //IE浏览器\n    var range = element.createTextRange();\n    range.moveStart(\"character\", -end);\n    range.moveEnd(\"character\", -end);\n    range.moveStart(\"character\", start);\n    range.moveEnd(\"character\", end);\n    range.select();\n  } else {\n    element.setSelectionRange(start, end);\n    element.focus();\n  }\n}\n\nexport function removeDefaultBehavior(event) {\n  event = event || window.event; //用于IE\n  if (event.preventDefault) event.preventDefault(); //标准技术\n  if (event.returnValue) event.returnValue = false; //IE\n\n  // 阻止事件冒泡\n  if (event.stopPropagation) {\n    event.stopPropagation();\n  }\n  return false; //用于处理使用对象属性注册的处理程序\n}\n\nexport function isFunction(any) {\n  return typeof any === \"function\";\n}\n","import React, { Component } from \"react\";\nimport { textSelect, removeDefaultBehavior, isFunction } from \"./utils\";\nimport \"./index.css\";\n\nexport default class extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      code: new Array(props.length).fill(\"\"),\n      dom: new Array(props.length),\n    };\n  }\n  onChange(e, i) {\n    const value = e.target.value.trim();\n\n    if (isFunction(this.props.validator)) {\n      if (value !== \"\" && !this.props.validator(value, i)) {\n        textSelect(e.target);\n        return;\n      }\n    }\n\n    if (this.state.code[i] !== value && value) {\n      this.focusOn(i + 1);\n    }\n\n    const newCode = this.state.code.map((v) => v);\n    newCode[i] = value;\n    this.setState({ code: newCode });\n    textSelect(e.target);\n    if (value !== \"\") {\n      this.focusOn(i + 1);\n    }\n    if (isFunction(this.props.onChange)) {\n      if (newCode.every((v) => v !== \"\")) {\n        e.target.blur();\n      }\n      this.props.onChange(newCode);\n    }\n  }\n  getPrevBox(i) {\n    return this.state.dom[i - 1];\n  }\n  getNextBox(i) {\n    return this.state.dom[i + 1];\n  }\n  focusOn(i) {\n    const element = this.state.dom[i];\n    if (element) {\n      element.focus();\n    }\n  }\n  onKeyDown(e, i) {\n    const inputElement = e.target;\n    switch (e.keyCode) {\n      case 8: // 删除完之后，退回到上一个输入框\n        if (e.target.value === \"\") {\n          // 如果空的话，那么就退回到上一个输入框\n          removeDefaultBehavior(e);\n          this.focusOn(i - 1);\n        }\n        break;\n      case 37: // 左\n      case 38: // 上\n        removeDefaultBehavior(e);\n        if (this.getPrevBox(i)) {\n          this.focusOn(i - 1);\n        } else {\n          this.focusOn(i);\n        }\n        break;\n      case 39: // 右\n      case 40: // 下\n        removeDefaultBehavior(e);\n        if (this.getNextBox(i)) {\n          this.focusOn(i + 1);\n        } else {\n          this.focusOn(i);\n        }\n        break;\n      default:\n        // 不管你输入什么\n        // 都会聚焦文本\n        textSelect(inputElement);\n    }\n  }\n  componentDidCatch(error, info) {\n    console.error(error);\n  }\n  render() {\n    const codeBox = [];\n    // this.setState({ ...this.state, dom: [] });\n    this.state.dom = [];\n    const inputType = this.props.type || \"input\";\n    for (let i = 0; i < this.props.length; i++) {\n      codeBox.push(\n        <div key={i} className=\"codebox-field-wrap\">\n          <input\n            type={inputType}\n            maxLength=\"1\"\n            autoComplete=\"false\"\n            autoCorrect=\"off\"\n            autoCapitalize=\"off\"\n            spellCheck=\"false\"\n            value={this.state.code[i]}\n            // ref={(dom) => {\n            //   let newDom = this.state.dom;\n            //   newDom[i] = dom;\n            //   this.setState({...this.state, dom: newDom});\n            // }}\n            ref={(dom) => (this.state.dom[i] = dom)}\n            onFocus={(e) => textSelect(e.target)}\n            onClick={(e) => textSelect(e.target)}\n            onChange={(e) => this.onChange(e, i)}\n            onKeyDown={(e) => this.onKeyDown(e, i)}\n          />\n        </div>\n      );\n    }\n    return (\n      <div className=\"codebox-container\">\n        <div>{codeBox}</div>\n      </div>\n    );\n  }\n}\n","import React, { useState } from \"react\";\nimport moment from \"moment\";\nimport { Formik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { registerUser } from \"../../../_actions/user_actions\";\nimport { useDispatch } from \"react-redux\";\nimport Codebox from \"../../utils/CodeBox/CodeBox\"; //\"@axetroy/react-codebox\";\nimport Axios from \"axios\";\n\nimport { Form, Input, Button } from \"antd\";\n\nconst formItemLayout = {\n  labelCol: {\n    xs: { span: 24 },\n    sm: { span: 8 },\n  },\n  wrapperCol: {\n    xs: { span: 24 },\n    sm: { span: 16 },\n  },\n};\nconst tailFormItemLayout = {\n  wrapperCol: {\n    xs: {\n      span: 24,\n      offset: 0,\n    },\n    sm: {\n      span: 16,\n      offset: 8,\n    },\n  },\n};\n\nfunction RegisterPage(props) {\n  const dispatch = useDispatch();\n  const [VerifyCode, setVerifyCode] = useState(\"0000\");\n  const [VerifyId, setVerifyId] = useState(\"initialId\");\n  const [ifLoading, setifLoading] = useState(false);\n  const [codeboxContent, setcodeboxContent] = useState(\n    \"Get Verification Code From Email\"\n  );\n  return (\n    <Formik\n      initialValues={{\n        email: \"\",\n        username: \"\",\n        verification: \"\",\n        password: \"\",\n        confirmPassword: \"\",\n      }}\n      validationSchema={Yup.object().shape({\n        username: Yup.string().required(\"Username is required\"),\n\n        email: Yup.string()\n          .email(\"Email is invalid\")\n          .required(\"Email is required\"),\n        password: Yup.string()\n          .min(6, \"Password must be at least 6 characters\")\n          .required(\"Password is required\"),\n        confirmPassword: Yup.string()\n          .oneOf([Yup.ref(\"password\"), null], \"Passwords must match\")\n          .required(\"Confirm Password is required\"),\n      })}\n      onSubmit={(values, { setSubmitting }) => {\n        setTimeout(() => {\n          let dataToSubmit = {\n            email: values.email,\n            password: values.password,\n            username: values.username,\n            verifyId: VerifyId,\n            verifyCode: VerifyCode,\n            image: `http://gravatar.com/avatar/${moment().unix()}?d=identicon`,\n          };\n\n          dispatch(registerUser(dataToSubmit)).then((response) => {\n            if (response.payload.success) {\n              props.history.push(\"/login\");\n            } else {\n              if (response.payload.err.code === 11000) {\n                alert(\"User already exists\");\n              } else {\n                alert(response.payload.err.errmsg);\n              }\n              window.location.reload();\n            }\n          });\n\n          setSubmitting(false);\n        }, 500);\n      }}\n    >\n      {(props) => {\n        const {\n          values,\n          touched,\n          errors,\n          dirty,\n          isSubmitting,\n          handleChange,\n          handleBlur,\n          handleSubmit,\n          handleReset,\n        } = props;\n\n        const codeGet = () => {\n          setifLoading(true);\n          setcodeboxContent(\"wait about 15 s\");\n          let variable = { email: values.email };\n          Axios.post(\"/api/users/sendEmail\", variable).then((response) => {\n            if (response.data.success) {\n              //console.log(response.data);\n              setVerifyId(response.data.id);\n              // button state\n              setTimeout(() => {\n                setifLoading(false);\n                setcodeboxContent(\"send again\");\n              }, 15000);\n            } else {\n              //console.log(response.data.err);\n              alert(\"Failed to send email\");\n              setifLoading(false);\n              setcodeboxContent(\"Get Verification Code From Email\");\n            }\n          });\n        };\n\n        return (\n          <div className=\"app\">\n            <h2>Sign up</h2>\n            <Form\n              style={{ minWidth: \"375px\" }}\n              {...formItemLayout}\n              onSubmit={handleSubmit}\n            >\n              <Form.Item required label=\"Username\">\n                <Input\n                  id=\"username\"\n                  placeholder=\"Enter your username\"\n                  type=\"text\"\n                  value={values.username}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.username && touched.username\n                      ? \"text-input error\"\n                      : \"text-input\"\n                  }\n                />\n                {errors.username && touched.username && (\n                  <div className=\"input-feedback\">{errors.username}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item\n                required\n                label=\"Email\"\n                hasFeedback\n                validateStatus={\n                  errors.email && touched.email ? \"error\" : \"success\"\n                }\n              >\n                <Input\n                  id=\"email\"\n                  placeholder=\"Enter your Email\"\n                  type=\"email\"\n                  value={values.email}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.email && touched.email\n                      ? \"text-input error\"\n                      : \"text-input\"\n                  }\n                />\n                {errors.email && touched.email && (\n                  <div className=\"input-feedback\">{errors.email}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item\n                required\n                label=\"Verification\"\n                style={{ marginBottom: \"0 px\" }}\n              >\n                <Form.Item>\n                  <Codebox\n                    id=\"verification\"\n                    type=\"text\"\n                    length={4}\n                    validator={(input, index) => {\n                      return /\\d/.test(input);\n                    }}\n                    onChange={(codeArray) => {\n                      setVerifyCode(codeArray.join(\"\"));\n                    }}\n                  />\n                  <Button\n                    onClick={codeGet}\n                    type=\"primary\"\n                    block={true}\n                    loading={ifLoading}\n                  >\n                    {codeboxContent}\n                  </Button>\n                </Form.Item>\n              </Form.Item>\n\n              <Form.Item\n                required\n                label=\"Password\"\n                hasFeedback\n                validateStatus={\n                  errors.password && touched.password ? \"error\" : \"success\"\n                }\n              >\n                <Input\n                  id=\"password\"\n                  placeholder=\"Enter your password\"\n                  type=\"password\"\n                  value={values.password}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.password && touched.password\n                      ? \"text-input error\"\n                      : \"text-input\"\n                  }\n                />\n                {errors.password && touched.password && (\n                  <div className=\"input-feedback\">{errors.password}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item required label=\"Confirm\" hasFeedback>\n                <Input\n                  id=\"confirmPassword\"\n                  placeholder=\"Enter your confirmPassword\"\n                  type=\"password\"\n                  value={values.confirmPassword}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.confirmPassword && touched.confirmPassword\n                      ? \"text-input error\"\n                      : \"text-input\"\n                  }\n                />\n                {errors.confirmPassword && touched.confirmPassword && (\n                  <div className=\"input-feedback\">{errors.confirmPassword}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item {...tailFormItemLayout}>\n                <Button\n                  onClick={handleSubmit}\n                  type=\"primary\"\n                  disabled={isSubmitting}\n                >\n                  Submit\n                </Button>\n              </Form.Item>\n            </Form>\n          </div>\n        );\n      }}\n    </Formik>\n  );\n}\n\nexport default RegisterPage;\n","import React from 'react';\nimport { Menu } from 'antd';\n\nfunction LeftMenu(props) {\n  return (\n    <Menu mode={props.mode}>\n      <Menu.Item key=\"mail\">\n        <a href=\"/\">Home</a>\n      </Menu.Item>\n      <Menu.Item key=\"contact\">\n        <a href=\"/contactus\">Contact Us</a>\n      </Menu.Item>\n    \n    </Menu>\n  )\n}\n\nexport default LeftMenu","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React from \"react\";\nimport { Menu, Icon, Dropdown } from \"antd\";\nimport axios from \"axios\";\nimport { USER_SERVER } from \"../../../Config\";\nimport { withRouter } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\n\nfunction RightMenu(props) {\n  const user = useSelector((state) => state.user);\n\n  const logoutHandler = () => {\n    axios.get(`${USER_SERVER}/logout`).then((response) => {\n      if (response.status === 200) {\n        props.history.push(\"/login\");\n      } else {\n        alert(\"Log Out Failed\");\n      }\n    });\n  };\n  const menu = (\n    <Menu>\n      <Menu.Item>\n        <a href=\"/user/item\">My Items</a>\n      </Menu.Item>\n      <Menu.Item>\n        <a href=\"/history\">History</a>\n      </Menu.Item>\n      <Menu.Item>\n        <a href=\"/change\">Change Password</a>\n      </Menu.Item>\n      <Menu.Item>\n        <a onClick={logoutHandler}>Logout</a>\n      </Menu.Item>\n    </Menu>\n  );\n  if (user.userData && !user.userData.isAuth) {\n    return (\n      <Menu mode={props.mode}>\n        <Menu.Item key=\"mail\">\n          <a href=\"/login\">Signin</a>\n        </Menu.Item>\n        <Menu.Item key=\"app\">\n          <a href=\"/register\">Signup</a>\n        </Menu.Item>\n      </Menu>\n    );\n  } else {\n    return (\n      <Menu mode={props.mode}>\n        <Menu.Item key=\"user\">\n          <Dropdown overlay={menu} placement=\"bottomCenter\">\n            <Icon type=\"user\" style={{ fontSize: 25, marginBottom: 20 }} />\n          </Dropdown>\n        </Menu.Item>\n\n        <Menu.Item key=\"upload\">\n          <a href=\"/product/upload\">Upload</a>\n        </Menu.Item>\n\n        {/* <Menu.Item key=\"cart\" style={{ paddingBottom: 3 }}>\n          <Badge count={user.userData && user.userData.cart.length}>\n            <a href=\"/user/cart\" style={{ marginRight: -22, color: \"#667777\" }}>\n              <Icon\n                type=\"shopping-cart\"\n                style={{ fontSize: 30, marginBottom: 3 }}\n              />\n            </a>\n          </Badge>\n        </Menu.Item>\n\n        <Menu.Item key=\"logout\">\n          <a onClick={logoutHandler}>Logout</a>\n        </Menu.Item> */}\n      </Menu>\n    );\n  }\n}\n\nexport default withRouter(RightMenu);\n","import React, { useState } from 'react';\nimport LeftMenu from './Sections/LeftMenu';\nimport RightMenu from './Sections/RightMenu';\nimport { Drawer, Button, Icon } from 'antd';\nimport './Sections/Navbar.css';\n\nfunction NavBar() {\n  const [visible, setVisible] = useState(false)\n\n  const showDrawer = () => {\n    setVisible(true)\n  };\n\n  const onClose = () => {\n    setVisible(false)\n  };\n\n  return (\n    <nav className=\"menu\" style={{ position: 'fixed', zIndex: 5, width: '100%' }}>\n      <div className=\"menu__logo\">\n        <a href=\"/\">Logo</a>\n      </div>\n      <div className=\"menu__container\">\n        <div className=\"menu_left\">\n          <LeftMenu mode=\"horizontal\" />\n        </div>\n        <div className=\"menu_rigth\">\n          <RightMenu mode=\"horizontal\" />\n        </div>\n        <Button\n          className=\"menu__mobile-button\"\n          type=\"primary\"\n          onClick={showDrawer}\n        >\n          <Icon type=\"align-right\" />\n        </Button>\n        <Drawer\n          title=\"Basic Drawer\"\n          placement=\"right\"\n          className=\"menu_drawer\"\n          closable={false}\n          onClose={onClose}\n          visible={visible}\n        >\n          <LeftMenu mode=\"inline\" />\n          <RightMenu mode=\"inline\" />\n        </Drawer>\n      </div>\n    </nav>\n  )\n}\n\nexport default NavBar","import React from 'react'\nimport {Icon} from 'antd';\n\nfunction Footer() {\n    return (\n        <div style={{\n            height: '80px', display: 'flex',\n            flexDirection: 'column', alignItems: 'center',\n            justifyContent: 'center', fontSize:'1rem'\n        }}>\n           <p> Happy Coding  <Icon type=\"smile\" /></p>\n        </div>\n    )\n}\n\nexport default Footer\n","import React, { useEffect, useRef } from \"react\";\nimport { Modal } from \"antd\";\n\nfunction CreateLongPicture(props) {\n  const canvasRef = useRef();\n\n  useEffect(() => {\n    if (props.visible) {\n      var position = 0;\n      function drawCanvas(image, text, height) {\n        var mycv = canvasRef.current;\n        var myctx = mycv.getContext(\"2d\");\n        myctx.drawImage(image, 0, position);\n        myctx.font = \"40px Arial\";\n        myctx.fillStyle = \"red\";\n        myctx.textAlign = \"center\";\n        myctx.fillText(text, 351, position + 30, 700);\n        position = position + height;\n      }\n\n      props.items.map((item) => {\n        const text = item.title + ` $${item.price}`;\n        let height = item.heights[0];\n        let newImage = new Image();\n        newImage.setAttribute(\"crossOrigin\", \"Anonymous\");\n        newImage.src = `http://3.15.2.141/${item.images[0]}`;\n        if (newImage.complete) {\n          drawCanvas(newImage, text, height);\n        } else {\n          newImage.onload = function () {\n            drawCanvas(newImage, text, height);\n          };\n          newImage.onerror = function () {\n            alert(\"failed to load picture\");\n          };\n        }\n        return null;\n      });\n    }\n  }, [props]);\n\n  const handleCancel = () => {\n    props.handleCancel();\n  };\n  function downLoadImage(canvas, name) {\n    var a = document.createElement(\"a\");\n    a.href = canvas.toDataURL(\"image/jpeg\", 1.0);\n    a.download = name;\n    a.click();\n  }\n\n  const handleSave = () => {\n    let currentCanvas = canvasRef.current;\n    downLoadImage(currentCanvas, `SCGO_LongPicture_${Date.now()}`);\n  };\n\n  return (\n    <>\n      <Modal\n        forceRender={true}\n        title=\"Successfully uploaded ! Click save to download your picture\"\n        visible={props.visible}\n        onOk={handleSave}\n        onCancel={handleCancel}\n        okText=\"save\"\n        cancelText=\"skip\"\n        width={800}\n      >\n        <canvas\n          id=\"LongPicture\"\n          ref={canvasRef}\n          width={props.width}\n          height={props.height}\n        />\n      </Modal>\n    </>\n  );\n}\n\nexport default CreateLongPicture;\n","import React, { useState, useEffect } from 'react'\nimport Dropzone from 'react-dropzone';\nimport { Icon } from 'antd';\nimport Axios from 'axios';\nfunction FileUpload(props) {\n\n    const [Images, setImages] = useState([])\n    const [Heights, setHeights] = useState([])\n    const [Preview, setPreview] = useState(false)\n\n    useEffect(() => {\n        setImages(props.images);\n        setHeights(props.heights);\n        if (props.images && props.images.length > 0) { setPreview(true) }\n    }, [props])\n\n    const onDrop = (files) => {\n        let formData = new FormData();\n        const config = {\n            header: { 'content-type': 'multipart/form-data' }\n        }\n        formData.append(\"file\", files[0])\n        //save the Image we chose inside the Node Server \n        Axios.post('/api/product/uploadImage', formData, config)\n            .then(response => {\n                if (response.data.success) {\n                    setImages([response.data.image]);\n                    setHeights([response.data.height]);\n                    setPreview(true);\n                    props.refreshFunction([response.data.image], [response.data.height]);\n                } else {\n                    alert('Failed to save the Image in Server')\n                }\n            })\n    }\n\n\n    const onDelete = (image) => {\n        const currentIndex = Images.indexOf(image);\n\n        let newImages = [...Images]\n        let newHeights = [...Heights]\n        newImages.splice(currentIndex, 1);\n        newHeights.splice(currentIndex, 1);\n\n        setImages(newImages);\n        setHeights(newHeights);\n        setPreview(false);\n        props.refreshFunction(newImages, newHeights);\n    }\n\n    return (\n        <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n            { !Preview ?\n                <Dropzone\n                    onDrop={onDrop}\n                    multiple={false}\n                    maxSize={800000000}\n                >\n                    {({ getRootProps, getInputProps }) => (\n                        <div style={{\n                            width: '200px', height: '160px', border: '1px solid lightgray',\n                            display: 'flex', alignItems: 'center', justifyContent: 'center'\n                        }}\n                            {...getRootProps()}\n                        >\n                            <input {...getInputProps()} />\n                            <Icon type=\"plus\" style={{ fontSize: '2rem' }} />\n\n                        </div>\n                    )}\n                </Dropzone> :\n                <div style={{ display: 'flex', width: '200px', height: '160px'}}>\n                    {Images.map((image, index) => (\n                        <div onClick={() => onDelete(image)}>\n                            <img \n                                style={{ minWidth: '200px', width: '200px', height: '160px', objectFit: 'contain' }} \n                                src={`http://3.15.2.141/${image}`} \n                                alt={`productImg-${index}`} \n                            />\n                        </div>\n                    ))}\n                </div>\n            }\n            \n\n            \n        </div>\n    )\n}\n\nexport default FileUpload\n","const placesData = [\n    { key: 0, value: \"Lorenzo\" }, \n    { key: 1, value: \"Gateway\" },\n    { key: 2, value: \"K-town\" }, \n    { key: 3, value: \"Downtown\" }, \n    { key: 4, value: \"USC周边\" },\n    { key: 5, value: \"LA其他地区\" },\n];\n\nconst categoryData = [\n    { key: 0, value: \"Commodity\" }, \n    { key: 1, value: \"Electronics\"}, \n    { key: 2, value: \"Furniture\"}, \n    { key: 3, value: \"Food & Drinks\"}, \n    { key: 4, value: \"Clothes/Bags\"},\n    { key: 5, value: \"Makeup\"},\n    { key: 6, value: \"Others\"}\n];\n\nconst meansData = [\n    { key: 0, value: \"自取\" },\n    { key: 1, value: \"USC附近可送\" },\n    { key: 2, value: \"地点可商议\" }\n]\n\nconst tagsData = [\n    { key: 0, value: \"Lorenzo自取\" }, \n    { key: 1, value: \"Gateway自取\" },\n    { key: 2, value: \"K-town自取\" }, \n    { key: 3, value: \"Downtown自取\" }, \n    { key: 4, value: \"USC周边自取\" },\n    { key: 5, value: \"LA其他地区自取\" },\n    { key: 6, value: \"USC附近可送\" },\n    { key: 7, value: \"地点可商议\" }\n];\n\nconst reasonsData = [\n    { key: 0, value: \"已出售\" },\n    { key: 1, value: \"物品信息错误\" },\n    { key: 2, value: \"其他原因\" }\n]\n\nexport {\n    placesData,\n    categoryData,\n    meansData,\n    tagsData,\n    reasonsData\n}","import React, { useEffect, useState } from 'react'\nimport { Form, Input, Modal, Select, Radio } from \"antd\";\nimport FileUpload from './FileUpload';\nimport { placesData, categoryData, meansData } from \"./Data\";\n\nconst { TextArea } = Input;\nconst { Option } = Select;\n\nfunction ProductEditForm(props) {\n    const [TitleValue, setTitleValue] = useState(\"\");\n    const [DescriptionValue, setDescriptionValue] = useState(\"\");\n    const [PriceValue, setPriceValue] = useState(0);\n    const [Means, setMeans] = useState(0)\n    const [PlaceValue, setPlaceValue] = useState(-1);\n    const [Category, setCategory] = useState(0)\n    const [Images, setImages] = useState([]);\n    const [Heights, setHeights] = useState([]);\n\n    useEffect(() => {\n        if (props.edit) {\n            setTitleValue(props.currentItem.title);\n            setDescriptionValue(props.currentItem.description);\n            setPriceValue(props.currentItem.price);\n            setMeans(props.currentItem.means)\n            setPlaceValue(props.currentItem.places);\n            setCategory(props.currentItem.category)\n            setImages(props.currentItem.images);\n            setHeights(props.currentItem.heights);\n        }\n        \n    }, [props])\n\n    // Product Form Update\n    const onTitleChange = (event) => {\n        if (event.currentTarget.value.length < 16) {\n            setTitleValue(event.currentTarget.value) \n        }\n    };\n    const onDescriptionChange = (event) => { setDescriptionValue(event.currentTarget.value) };\n    const onPriceChange = (event) => { setPriceValue(event.currentTarget.value) };\n    const onMeansChange = (event) => { setMeans(event.target.value) };\n    const onPlaceChange = (value) => { setPlaceValue(value) };\n    const onCategoryChange = (value) => { setCategory(value) };\n    const updateImages = (newImages, newHeights) => {\n        setImages(newImages);\n        setHeights(newHeights);\n    };\n\n    const setDefault = () => {\n        setTitleValue(\"\");\n        setDescriptionValue(\"\");\n        setPriceValue(0);\n        setMeans(0);\n        setPlaceValue(-1);\n        setCategory(0);\n        setImages([]);\n        setHeights([]);\n    }\n\n    const getTagValue = (means, places) => {\n        return means === 0 ? places : means + 5\n    }\n\n    const handleOk = () => {\n        if (!TitleValue || !DescriptionValue || !PriceValue || !Images.length) {\n            return alert(\"fill all the fields first!\");\n        }\n\n        if (Means === 0 && PlaceValue === -1) {\n            return alert(\"至少选择一个自取地点！\")\n        }\n\n        const currentItem = {\n            writer: props.user.userData._id,\n            title: TitleValue,\n            description: DescriptionValue,\n            price: PriceValue,\n            images: Images,\n            heights: Heights,\n            means: Means,\n            places: PlaceValue,\n            tag: getTagValue(Means, PlaceValue),\n            category: Category\n        }\n\n        props.handleOk(currentItem);\n        setDefault();\n    }\n\n    const handleCancel = () => {\n        props.handleCancel();\n        setDefault();\n    }\n\n    return (\n        <div>\n            <Modal\n                title=\"Product\"\n                visible={props.visible}\n                onOk={handleOk}\n                onCancel={handleCancel}\n                destroyOnClose={true}\n            >\n                <Form>\n                    <FileUpload\n                        refreshFunction={updateImages}\n                        images={Images}\n                        heights={Heights}\n                    />\n                    <br /><br />\n            \n                    <label>Title:</label>\n                    <Input onChange={onTitleChange} value={TitleValue} />\n                    <br /><br />\n            \n                    <label>Description:</label>\n                    <TextArea onChange={onDescriptionChange} value={DescriptionValue} />\n                    <br /><br />\n            \n                    <label>Price($):</label>\n                    <Input onChange={onPriceChange} value={PriceValue} type=\"number\" />\n                    <br /><br />\n\n                    <label>交易方式:</label>&nbsp;\n                    <Radio.Group onChange={onMeansChange} value={Means}>\n                        {meansData.map((mean) => <Radio key={mean.key} value={mean.key}>{mean.value}</Radio>)}\n                    </Radio.Group>\n                    <br /><br />\n\n                    <label>自取地点:</label>&nbsp;\n                    <Select\n                        style={{ width: 200 }}\n                        placeholder\n                        optionFilterProp=\"children\"\n                        onChange={onPlaceChange}\n                        filterOption={(input, option) =>\n                        option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n                        }\n                        value={PlaceValue !== -1? PlaceValue:null}\n                        disabled={Means}\n                    >\n                        {placesData.map((place) => <Option key={place.key} value={place.key}>{place.value}</Option>)}\n                    </Select>\n                    <br /><br />\n\n                    <label>物品种类:</label>&nbsp;\n                    <Select style={{ width: 200 }} onChange={onCategoryChange} value={Category}>\n                        {categoryData.map(item => (\n                            <Option key={item.key} value={item.key}>{item.value} </Option>\n                        ))}\n                    </Select>\n                    <br /><br />\n                </Form>\n            </Modal>\n        </div>\n    )\n}\n\nexport default ProductEditForm\n","import React, { useEffect, useState } from 'react'\nimport { Input, Modal, Radio} from \"antd\";\n\nfunction ContactAddForm(props) {\n    const [WeChat, setWeChat] = useState(\"\");\n    const [Email, setEmail] = useState(\"\");\n    const [ContactChoice, setContactChoice] = useState(0);\n\n    useEffect(() => {\n        if (props.user.userData) {\n            setEmail(props.user.userData.email);\n        }\n        if (props.contact) {\n            setWeChat(props.contact.wechat);\n            setEmail(props.contact.email);\n            setContactChoice(props.contact.contactchoice);\n        }    \n    }, [props])\n\n    // Product Form Update\n    const onWeChatChange = (event) => { setWeChat(event.currentTarget.value) };\n    const onEmailChange = (event) => { setEmail(event.currentTarget.value) };\n    const onContactChange = (event) => { \n        setContactChoice(event.target.value) \n    };\n    const setDefault = () => {\n        setWeChat(\"\");\n        setEmail(props.user.userData.email);\n        setContactChoice(0);\n    }\n\n    const handleOk = () => {\n        if ((ContactChoice === 0 && !WeChat) || (ContactChoice===1 && !Email)) {\n            return alert(\"fill one of the contact way\");\n        }\n\n        const contact = {\n            wechat: WeChat,\n            email: Email,\n            contactchoice: ContactChoice\n        }\n        \n        props.handleOk(contact);\n        setDefault();\n    }\n\n    const handleCancel = () => {\n        props.handleCancel();\n        setDefault();\n    }\n\n    return (\n        <div>\n            <Modal\n                title=\"Add Contact\"\n                visible={props.visible}\n                onOk={handleOk}\n                onCancel={handleCancel}\n                destroyOnClose={true}\n            >\n                <Radio.Group onChange={onContactChange} value={ContactChoice}>\n                    <Radio value={0}>\n                        希望买家直接通过微信联系我<br />\n                        微信: { \n                        ContactChoice === 0 ? \n                        <Input onChange={onWeChatChange} value={WeChat} /> : \n                        <Input onChange={onWeChatChange} value={WeChat} disabled /> \n                        }\n                    </Radio><br /><br />\n                    <Radio value={1}>\n                        希望买家通过其他方式联系我<br />\n                        其他: { \n                        ContactChoice === 1 ? \n                        <Input onChange={onEmailChange} value={Email} /> :\n                        <Input onChange={onEmailChange} value={Email} disabled />}\n                    </Radio>\n                </Radio.Group>\n            </Modal>\n        </div>\n    )\n}\n\nexport default ContactAddForm\n","import React, { useState, useEffect } from \"react\";\nimport { Button, Col, Row, Card, Tag } from \"antd\";\nimport Axios from \"axios\";\nimport CreateLongPicture from \"../../utils/CreatLongPicture/CreateLongPicture\";\nimport ProductEditForm from \"../../utils/ProductEditForm\";\nimport ContactAddForm from \"../../utils/ContactAddForm\";\nimport { categoryData, tagsData } from \"../../utils/Data\";\n\nfunction UploadProductPage(props) {\n  const [Items, setItems] = useState([]);\n  const [FormValue, setFormValue] = useState({ visible: false });\n  const [Edit, setEdit] = useState(false);\n  const [EditIndex, setEditIndex] = useState(-1);\n  const [showPicture, setshowPicture] = useState(false);\n  const [CurrentItem, setCurrentItem] = useState({});\n  const [ContactForm, setContactForm] = useState({ visible: false });\n\n  useEffect(() => {\n    if (props.user.userData) {\n      if (props.user.userData.role === -1) {\n        props.history.push(\"/403\");\n      }\n    }\n    Axios.get(\"/api/users/getUploadProduct\").then((response) => {\n      setItems(response.data.uploadProduct);\n    });\n  }, [props]);\n\n  const onAdd = (event) => {\n    // set state of Form Value\n    setFormValue({ ...FormValue, visible: true });\n  };\n\n  const clearItems = () => {\n    setItems([]);\n  };\n\n  const onAddContact = () => {\n    setContactForm({ ...ContactForm, visible: true });\n  };\n\n  const onSubmit = (newItems) => {\n    // submit all items into database\n    Axios.post(\"/api/product/uploadProduct\", newItems).then((response) => {\n      if (response.data.success) {\n        // show success & long picture\n        setshowPicture(true);\n      } else {\n        // add product name\n        alert(\"Failed to upload Product!\");\n      }\n    });\n\n    // update upload product\n    Axios.post(\"/api/users/updateUploadProduct\", []).then((response) => {\n      console.log(\"Update successfully\");\n    });\n  };\n\n  const onEdit = (index) => {\n    // set edit\n    setEdit(true);\n    setEditIndex(index);\n    setCurrentItem(Items[index]);\n    setFormValue({ ...FormValue, visible: true });\n  };\n\n  const onDelete = (index) => {\n    // delete\n    let newItems = [...Items];\n    newItems.splice(index, 1);\n    setItems(newItems);\n\n    // update upload product\n    Axios.post(\"/api/users/updateUploadProduct\", newItems).then((response) => {\n      console.log(\"Update successfully\");\n    });\n  };\n\n  const handleOk = (newItem) => {\n    let newItems = [...Items];\n    if (Edit && EditIndex > -1) {\n      newItems[EditIndex] = newItem;\n      setItems(newItems);\n    } else {\n      newItems = [...newItems, newItem];\n      setItems(newItems);\n      setCurrentItem({});\n    }\n\n    // set all values to default\n    setFormValue({ ...FormValue, visible: false });\n    setEdit(false);\n    setEditIndex(-1);\n\n    // update upload product\n    Axios.post(\"/api/users/updateUploadProduct\", newItems).then((response) => {\n      console.log(\"Update successfully\");\n    });\n  };\n\n  const handleCancel = () => {\n    // close model\n    setFormValue({ ...FormValue, visible: false });\n\n    // set all values to default\n    setEdit(false);\n    setEditIndex(-1);\n    setCurrentItem({});\n  };\n\n  const addContactOk = (contact) => {\n    setContactForm({ ...ContactForm, visible: false });\n\n    // add contact to all items\n    let newItems = Items.map((item) => {\n      return {\n        ...item,\n        wechat: contact.wechat,\n        email: contact.email,\n        contactchoice: contact.contactchoice,\n      };\n    });\n    setItems(newItems);\n    // use on submit\n    onSubmit(newItems);\n  };\n\n  const addContactCancel = () => {\n    setContactForm({ ...ContactForm, visible: false });\n  };\n\n  const getCategoryByKey = (key) => {\n    let categoryname = \"None\";\n    categoryData.map((item) => {\n      if (item.key === parseInt(key)) {\n        categoryname = item.value;\n      }\n      return null;\n    });\n    return categoryname;\n  };\n\n  const getTagByKey = (key) => {\n    let tagname = \"None\";\n    tagsData.map((tag) => {\n      if (tag.key === parseInt(key)) {\n        tagname = tag.value;\n      }\n      return null;\n    });\n    return tagname;\n  };\n\n  const renderItemCards = Items.map((item, index) => {\n    return (\n      <Col>\n        <Card hoverable={false} sytle={{ width: \"80%\" }}>\n          <Row gutter={16}>\n            <Col lg={8} xs={24}>\n              <img style={{ width: '100%', maxHeight: '150px', objectFit: 'contain' }}\n                src={`http://3.15.2.141/${item.images[0]}`} alt=\"productImage\" />\n            </Col>\n            <Col lg={10} xs={24}>\n              <p>Title:&nbsp;{item.title}</p>\n              <p>Description:&nbsp;{item.description}</p>\n              <p>Price:&nbsp;{item.price}</p>\n              <p>\n                交易方式:&nbsp;\n                <Tag style={{ width: \"100px\", textAlign: \"center\" }}>\n                  {getTagByKey(item.tag)}\n                </Tag>\n              </p>\n              <p>\n                物品种类:&nbsp;\n                <Tag style={{ width: \"100px\", textAlign: \"center\" }}>\n                  {getCategoryByKey(item.category)}\n                </Tag>\n              </p>\n            </Col>\n            <Col lg={6} xs={24}>\n              <Button\n                style={{ width: \"100px\", margin: \"10px auto\" }}\n                onClick={() => onEdit(index)}\n              >\n                &nbsp;Edit&nbsp;\n              </Button>\n              <Button\n                style={{ width: \"100px\", margin: \"10px auto\" }}\n                onClick={() => onDelete(index)}\n              >\n                &nbsp;Delete&nbsp;\n              </Button>\n            </Col>\n          </Row>\n        </Card>\n      </Col>\n    );\n  });\n\n  return (\n    <div style={{ width: \"80%\", margin: \"3rem auto\" }}>\n      {Items.length === 0 ? (\n        <div\n          style={{\n            display: \"flex\",\n            height: \"300px\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n        >\n          <h2>No post yet...</h2>\n        </div>\n      ) : (\n        <div style={{ width: \"70%\", margin: \"3rem auto\" }}>\n          <Row gutter={[16, 16]}>{renderItemCards}</Row>\n        </div>\n      )}\n      <br />\n      <br />\n\n      {Items.length > 0 ? (\n        <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n          <Button style={{ width: \"100px\", margin: \"25px\" }} onClick={onAdd}>\n            Add\n          </Button>\n\n          <Button\n            style={{ width: \"100px\", margin: \"25px\" }}\n            onClick={onAddContact}\n          >\n            Submit\n          </Button>\n        </div>\n      ) : (\n        <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n          <Button style={{ width: \"100px\", margin: \"auto\" }} onClick={onAdd}>\n            Add\n          </Button>\n        </div>\n      )}\n\n      <div>\n        <ProductEditForm\n          visible={FormValue.visible}\n          handleOk={handleOk}\n          handleCancel={handleCancel}\n          edit={Edit}\n          currentItem={Edit ? CurrentItem : {}}\n          user={props.user}\n        />\n      </div>\n      <div>\n        <ContactAddForm\n          visible={ContactForm.visible}\n          handleOk={addContactOk}\n          handleCancel={addContactCancel}\n          user={props.user}\n        />\n      </div>\n      <div>\n        <CreateLongPicture\n          handleCancel={() => {\n            setshowPicture(false);\n            clearItems();\n          }}\n          visible={showPicture}\n          items={Items}\n          width={752}\n          height={Items.reduce((total, cur) => {\n            return total + cur.heights[0];\n          }, 0)}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default UploadProductPage;\n","import React, { useEffect, useState } from 'react'\nimport ImageGallery from 'react-image-gallery';\n\nfunction ProductImage(props) {\n    const [Images, setImages] = useState([])\n\n    useEffect(() => {\n        if (props.detail.images && props.detail.images.length > 0) {\n            let images = [];\n\n            props.detail.images && props.detail.images.map(item => {\n                images.push({\n                    original: `http://3.15.2.141/${item}`,\n                    thumbnail: `http://3.15.2.141/${item}`\n                })\n                return null;\n            })\n            setImages(images);\n        }\n    }, [props.detail])\n\n    return (\n        <div>\n            <ImageGallery items={Images} />\n        </div>\n    )\n}\n\nexport default ProductImage\n","import React, { useEffect, useState } from 'react'\nimport { Descriptions } from 'antd';\nimport { tagsData, categoryData } from '../../../utils/Data'\n\nfunction ProductInfo(props) {\n\n    const [Product, setProduct] = useState({})\n\n    useEffect(() => {\n        setProduct(props.detail)\n    }, [props.detail])\n\n    const getTagByKey = (key) => {\n        let tagname = \"None\";\n        tagsData.map((tag) => {\n            if (tag.key === key) {\n                tagname = tag.value;\n            }\n            return null;\n        })\n        return tagname;\n    }\n\n    const getCategoryByKey = (key) => {\n        let categoryname = \"None\";\n        categoryData.map((category) => {\n            if (category.key === key) {\n                categoryname = category.value;\n            }\n            return null;\n        })\n        return categoryname;\n    }\n\n    return (\n        <div>\n            <Descriptions title=\"商品详情\">\n                <Descriptions.Item label=\"价格\"> {Product.price}</Descriptions.Item>\n                <Descriptions.Item label=\"商品类别\"> {getCategoryByKey(Product.category)}</Descriptions.Item>\n                <Descriptions.Item label=\"交易方式\"> {getTagByKey(Product.tag)}</Descriptions.Item>\n                <Descriptions.Item label=\"商品描述\"> {Product.description}</Descriptions.Item>\n            </Descriptions>\n            <br /><br /><br />\n        </div>\n    )\n}\n\nexport default ProductInfo\n","import React, { useEffect, useState } from \"react\";\nimport Axios from \"axios\";\nimport { Row, Col, Button, Modal } from \"antd\";\nimport ProductImage from \"./Sections/ProductImage\";\nimport ProductInfo from \"./Sections/ProductInfo\";\n\nfunction DetailProductPage(props) {\n  const productId = props.match.params.productId;\n  const [Product, setProduct] = useState({});\n  const [ContactForm, setContactForm] = useState({ visible: false });\n\n  useEffect(() => {\n    Axios.get(`/api/product/products_by_id?id=${productId}&type=single`).then(\n      (response) => {\n        if (response.data.length === 0) {\n          props.history.push(\"/404\");\n        } else {\n          setProduct(response.data[0]);\n        }\n      }\n    );\n  }, [props, productId]);\n\n  const showContact = () => {\n    setContactForm({ ...ContactForm, visible: true });\n  };\n  const handleOk = () => {\n    setContactForm({ ...ContactForm, visible: false });\n  };\n  const handleCancel = () => {\n    setContactForm({ ...ContactForm, visible: false });\n  };\n\n  return (\n    <div className=\"postPage\" style={{ width: \"100%\", padding: \"3rem 4rem\" }}>\n      <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n        <h1>{Product.title}</h1>\n      </div>\n      <br />\n      <Row gutter={[16, 16]}>\n        <Col lg={12} xs={24}>\n          <ProductImage detail={Product} />\n        </Col>\n        <Col lg={12} xs={24}>\n          <ProductInfo detail={Product} />\n          <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n            <Button\n              size=\"large\"\n              shape=\"round\"\n              type=\"danger\"\n              style={{ margin: \"1em 1em\" }}\n              onClick={showContact}\n            >\n              点击联系卖家\n            </Button>\n            <a href={`/user/${Product.writer ? Product.writer._id : \"\"}`}>\n              <Button\n                size=\"large\"\n                shape=\"round\"\n                type=\"danger\"\n                style={{ margin: \"1em 1em\" }}\n                onClick={showContact}\n              >\n                查看卖家商品\n              </Button>\n            </a>\n          </div>\n        </Col>\n      </Row>\n\n      <Modal\n        title=\"Show Contact\"\n        visible={ContactForm.visible}\n        onOk={handleOk}\n        onCancel={handleCancel}\n        destroyOnClose={true}\n      >\n        {Product.contactchoice === 0 ? (\n          <div>\n            <p>卖家的微信号为{Product.wechat}，您可以添加微信联系卖家。</p>\n          </div>\n        ) : (\n          <div>\n            <p>\n              卖家的其他联系方式为{Product.email}\n              ，您可以通过该联系方式联系卖家。\n            </p>\n          </div>\n        )}\n      </Modal>\n    </div>\n  );\n}\n\nexport default DetailProductPage;\n","import React from 'react'\n\nfunction HistoryPage(props) {\n\n    return (\n        <div style={{ width: '80%', margin: '3rem auto' }}>\n            <div style={{ textAlign: 'center' }}>\n                <h1>History</h1>\n            </div>\n            <br />\n\n            <table>\n                <thead>\n                    <tr>\n                        <th>商品名称</th>\n                        <th>商品价格</th>\n                        <th>下架时间</th>\n                        <th>下架原因</th>\n                    </tr>\n                </thead>\n\n                <tbody>\n\n                    {props.user.userData && props.user.userData.history &&\n                        props.user.userData.history.map(item => (\n                            <tr key={item.id}>\n                                <td>{item.title}</td>\n                                <td>{item.price}</td>\n                                <td>{item.dateOfDelete}</td>\n                                <td>{item.reason}</td>\n                            </tr>\n                        ))}\n\n\n                </tbody>\n            </table>\n        </div>\n    )\n}\n\nexport default HistoryPage\n","import React, { useState } from \"react\";\nimport { Formik } from \"formik\";\nimport * as Yup from \"yup\";\nimport Codebox from \"../../utils/CodeBox/CodeBox\";\nimport Axios from \"axios\";\nimport { Form, Input, Button } from \"antd\";\n\nconst formItemLayout = {\n  labelCol: {\n    xs: { span: 24 },\n    sm: { span: 8 },\n  },\n  wrapperCol: {\n    xs: { span: 24 },\n    sm: { span: 16 },\n  },\n};\nconst tailFormItemLayout = {\n  wrapperCol: {\n    xs: {\n      span: 24,\n      offset: 0,\n    },\n    sm: {\n      span: 16,\n      offset: 8,\n    },\n  },\n};\n\nfunction ChangePasswordPage(props) {\n  const [VerifyCode, setVerifyCode] = useState(\"0000\");\n  const [VerifyId, setVerifyId] = useState(\"initialId\");\n  const [ifLoading, setifLoading] = useState(false);\n  const [codeboxContent, setcodeboxContent] = useState(\n    \"Get Verification Code From Email\"\n  );\n  return (\n    <Formik\n      initialValues={{\n        email: \"\",\n        verification: \"\",\n        password: \"\",\n        confirmPassword: \"\",\n      }}\n      validationSchema={Yup.object().shape({\n        email: Yup.string()\n          .email(\"Email is invalid\")\n          .required(\"Email is required\"),\n        password: Yup.string()\n          .min(6, \"Password must be at least 6 characters\")\n          .required(\"Password is required\"),\n        confirmPassword: Yup.string()\n          .oneOf([Yup.ref(\"password\"), null], \"Passwords must match\")\n          .required(\"Confirm Password is required\"),\n      })}\n      onSubmit={(values, { setSubmitting }) => {\n        setTimeout(() => {\n          let dataToSubmit = {\n            email: values.email,\n            password: values.password,\n            verifyId: VerifyId,\n            verifyCode: VerifyCode,\n          };\n\n          Axios.post(\"api/users/changepassword\", dataToSubmit).then(\n            (response) => {\n              if (response.data.success) {\n                props.history.push(\"/login\");\n              } else {\n                alert(response.data.err.message);\n\n                window.location.reload();\n              }\n            }\n          );\n\n          setSubmitting(false);\n        }, 500);\n      }}\n    >\n      {(props) => {\n        const {\n          values,\n          touched,\n          errors,\n          dirty,\n          isSubmitting,\n          handleChange,\n          handleBlur,\n          handleSubmit,\n          handleReset,\n        } = props;\n\n        const codeGet = () => {\n          setifLoading(true);\n          setcodeboxContent(\"wait about 15 s\");\n          let variable = { email: values.email };\n          Axios.post(\"/api/users/sendEmail\", variable).then((response) => {\n            if (response.data.success) {\n              //console.log(response.data);\n              setVerifyId(response.data.id);\n              // button state\n              setTimeout(() => {\n                setifLoading(false);\n                setcodeboxContent(\"send again\");\n              }, 15000);\n            } else {\n              //console.log(response.data.err);\n              alert(\"Failed to send email\");\n              setifLoading(false);\n              setcodeboxContent(\"Get Verification Code From Email\");\n            }\n          });\n        };\n\n        return (\n          <div className=\"app\">\n            <h2>Change Password</h2>\n            <Form\n              style={{ minWidth: \"375px\" }}\n              {...formItemLayout}\n              onSubmit={handleSubmit}\n            >\n              <Form.Item\n                required\n                label=\"Email\"\n                hasFeedback\n                validateStatus={\n                  errors.email && touched.email ? \"error\" : \"success\"\n                }\n              >\n                <Input\n                  id=\"email\"\n                  placeholder=\"Enter your Email\"\n                  type=\"email\"\n                  value={values.email}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.email && touched.email\n                      ? \"text-input error\"\n                      : \"text-input\"\n                  }\n                />\n                {errors.email && touched.email && (\n                  <div className=\"input-feedback\">{errors.email}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item\n                required\n                label=\"Verification\"\n                style={{ marginBottom: \"0 px\" }}\n              >\n                <Form.Item>\n                  <Codebox\n                    id=\"verification\"\n                    type=\"text\"\n                    length={4}\n                    validator={(input, index) => {\n                      return /\\d/.test(input);\n                    }}\n                    onChange={(codeArray) => {\n                      setVerifyCode(codeArray.join(\"\"));\n                    }}\n                  />\n                  <Button\n                    onClick={codeGet}\n                    type=\"primary\"\n                    block={true}\n                    loading={ifLoading}\n                  >\n                    {codeboxContent}\n                  </Button>\n                </Form.Item>\n              </Form.Item>\n\n              <Form.Item\n                required\n                label=\"New Password\"\n                hasFeedback\n                validateStatus={\n                  errors.password && touched.password ? \"error\" : \"success\"\n                }\n              >\n                <Input\n                  id=\"password\"\n                  placeholder=\"Enter your password\"\n                  type=\"password\"\n                  value={values.password}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.password && touched.password\n                      ? \"text-input error\"\n                      : \"text-input\"\n                  }\n                />\n                {errors.password && touched.password && (\n                  <div className=\"input-feedback\">{errors.password}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item required label=\"Confirm\" hasFeedback>\n                <Input\n                  id=\"confirmPassword\"\n                  placeholder=\"Enter your confirmPassword\"\n                  type=\"password\"\n                  value={values.confirmPassword}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.confirmPassword && touched.confirmPassword\n                      ? \"text-input error\"\n                      : \"text-input\"\n                  }\n                />\n                {errors.confirmPassword && touched.confirmPassword && (\n                  <div className=\"input-feedback\">{errors.confirmPassword}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item {...tailFormItemLayout}>\n                <Button\n                  onClick={handleSubmit}\n                  type=\"primary\"\n                  disabled={isSubmitting}\n                >\n                  Submit\n                </Button>\n              </Form.Item>\n            </Form>\n          </div>\n        );\n      }}\n    </Formik>\n  );\n}\n\nexport default ChangePasswordPage;\n","import React, { useEffect, useState } from 'react'\nimport { Form, Modal, Select } from \"antd\";\nimport { reasonsData } from \"./Data\";\n\nconst { Option } = Select;\n\nfunction ProductDeleteForm(props) {\n    const [ReasonValue, setReasonValue] = useState(\"已出售\");\n    const onReasonChange = (value) => { setReasonValue(value) };\n\n    useEffect(() => {\n        if (props.admin) {\n            setReasonValue(\"商品涉嫌违规已下架\")\n        }\n    }, [props.admin])\n\n    const handleOk = () => {\n        const reason = {\n            reason: ReasonValue\n        }\n\n        props.handleOk(reason);\n        setReasonValue(\"\");\n    }\n\n    const handleCancel = () => {\n        props.handleCancel();\n        setReasonValue(\"\");\n    }\n\n    return (\n        <div>\n            <Modal\n                title=\"Product\"\n                visible={props.visible}\n                onOk={handleOk}\n                onCancel={handleCancel}\n                destroyOnClose={true}\n            >\n                <Form>\n                    <label>下架原因:</label>&nbsp;\n                    {props.admin ?\n                    <Select\n                        style={{ width: 200 }}\n                        placeholder\n                        onChange={onReasonChange}\n                        value={ReasonValue}\n                    >\n                        <Option value={\"商品涉嫌违规已下架\"}>商品涉嫌违规已下架</Option>\n                        <Option value={\"其他原因\"}>其他原因</Option>\n                    </Select> :\n                    <Select\n                        style={{ width: 200 }}\n                        placeholder\n                        onChange={onReasonChange}\n                        value={ReasonValue}\n                    >\n                        {reasonsData.map((reason) => <Option key={reason.key} value={reason.value}>{reason.value}</Option>)}\n                    </Select>\n                    }\n                    <br /><br />\n                </Form>\n            </Modal>\n        </div>\n    )\n}\n\nexport default ProductDeleteForm\n","import React, { useEffect, useState, useCallback } from \"react\";\nimport Axios from \"axios\";\nimport Masonry from \"react-masonry-component\";\nimport { Icon, Card, Popover, Button } from \"antd\";\nimport ProductEditForm from '../../utils/ProductEditForm';\nimport ProductDeleteForm from '../../utils/ProductDeleteForm';\n\nfunction UserPage(props) {\n  const [Products, setProducts] = useState([]);\n  const [FormValue, setFormValue] = useState({ visible: false });\n  const [CurrentItem, setCurrentItem] = useState({})\n  const [DeleteFormValue, setDeleteFormValue] = useState({ visible: false })\n  const [DeleteItem, setDeleteItem] = useState({});\n  const [CardSize, setCardSize] = useState({ width: 0 })\n\n  const onResize = useCallback(()=>{\n    let boxwidth = document.documentElement.clientWidth * 0.75;\n    let cardnum = parseInt(boxwidth / 300)+1;\n    let cardwidth = parseInt((boxwidth-15*(cardnum-1))/cardnum);\n    setCardSize({\n      width: cardwidth,\n    })\n  },[])\n\n  useEffect(() => {\n    let boxwidth = document.documentElement.clientWidth * 0.75;\n    let cardnum = parseInt(boxwidth / 300)+1;\n    let cardwidth = parseInt((boxwidth-15*(cardnum-1))/cardnum);\n    setCardSize({\n      width: cardwidth,\n    })\n  }, [])\n\n  useEffect(()=>{\n    window.addEventListener('resize', onResize);\n    return (()=>{\n      window.removeEventListener('resize', onResize) \n    })\n  },[onResize])\n\n  useEffect(() => {\n    if (props.user.userData) {\n      const variables = { userid: props.user.userData._id };\n      getProducts(variables);\n    }\n  }, [props.user]);\n\n  const handleDelete = (product) => {\n    setDeleteItem(product);\n    setDeleteFormValue({ ...DeleteFormValue, visible: true });\n  };\n\n  const handleEdit = (product) => {\n    // Edit Form\n    setCurrentItem(product);\n    setFormValue({ ...FormValue, visible: true });\n  };\n\n  const handleEditOk = (newItem) => {\n    // save\n    let updateItem = {\n      ...CurrentItem,\n      ...newItem\n    }\n\n    Axios.post('/api/product/updateProduct', updateItem)\n      .then((response) => {\n        if (response.data.success) {\n          const variables = { userid: props.user.userData._id };\n          getProducts(variables);  \n        } else {\n          alert(\"Fail to update product!\")\n        }\n      })\n\n    setFormValue({ ...FormValue, visible: false });\n    setCurrentItem({});\n    \n  }\n\n  const handleEditCancel = () => {\n    setFormValue({ ...FormValue, visible: false });\n    setCurrentItem({});\n  }\n\n  const handleDeleteOk = (reason) => {\n    let deleteItem = { ...DeleteItem, ...reason };\n\n    Axios.post('/api/users/deleteProduct', deleteItem)\n      .then((response) => {\n        const variables = { userid: props.user.userData._id };\n        getProducts(variables);\n      })\n    \n    setDeleteItem({});\n    setDeleteFormValue({ ...DeleteFormValue, visible: false });\n  }\n\n  const handleDeleteCancel = () => {\n    setDeleteItem({});\n    setDeleteFormValue({ ...DeleteFormValue, visible: false });\n  }\n\n  const content = (product) => {\n    return (\n      <div>\n        <div>\n          <Button type=\"link\" onClick={()=>handleDelete(product)}>下架删除</Button>\n        </div>\n        <div>\n          <Button type=\"link\" onClick={()=>handleEdit(product)}>修改内容</Button>\n        </div>\n      </div>\n    )\n  }\n\n  const getProducts = (variables) => {\n    Axios.post(\"/api/product/getByUser\", variables).then((response) => {\n      if (response.data.success) {\n        setProducts([...response.data.products]);\n      } else {\n        alert(\"failed to get items\");\n      }\n    });\n  };\n\n  const renderCards = Products.map((product, index) => {\n    return (\n      // <Col lg={6} md={8} xs={24}>\n      <div\n        key={index}\n        style={{\n          marginRight: \"15px\",\n          marginBottom: \"10px\",\n          display: \"inline-block\",\n          width: CardSize.width+\"px\"\n        }}\n      >\n        <Popover content={content(product)} title=\"Edit\">\n          <Card\n            hoverable={true}\n            cover={\n              <a href={`/product/${product._id}`}>\n                <img\n                  style={{ width: CardSize.width-2+\"px\" }}\n                  src={`http://3.15.2.141/${product.images[0]}`}\n                  alt=\"\"\n                />\n              </a>\n            }\n          >\n            <Card.Meta\n              title={product.title}\n              description={`$${product.price}`}\n            />\n          </Card>\n        </Popover>\n      </div>\n      // </Col>\n    );\n  });\n\n  return (\n    <div style={{ width: \"75%\", margin: \"3rem auto\" }}>\n      <div style={{ textAlign: \"center\" }}>\n        <h1>\n          我的物品 <Icon type=\"account-book\" />\n        </h1>\n      </div>\n\n      {Products.length === 0 ? (\n        <div\n          style={{\n            display: \"flex\",\n            height: \"300px\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n        >\n          <h2>No post yet...</h2>\n        </div>\n      ) : (\n        <div style={{ width: 'calc(100% + 15px)' }} >\n          <Masonry\n            className={\"my-gallery-class\"} // default ''\n            options={{ transitionDuration: 2 }} // default {}\n            disableImagesLoaded={false} // default false\n            updateOnEachImageLoad={false} // default false and works only if disableImagesLoaded is false\n          >\n            {renderCards}\n          </Masonry>\n        </div>\n      )}\n      <div>\n        <ProductEditForm\n          visible={FormValue.visible}\n          handleOk={handleEditOk}\n          handleCancel={handleEditCancel}\n          edit={true}\n          currentItem={CurrentItem}\n          user={props.user}\n        />\n      </div>\n      <div>\n        <ProductDeleteForm\n          visible={DeleteFormValue.visible}\n          handleOk={handleDeleteOk}\n          handleCancel={handleDeleteCancel}\n          user={props.user}\n        />\n      </div>\n    </div>\n\n  );\n}\n\nexport default UserPage;\n","import React, { useEffect, useState, useCallback } from \"react\";\nimport Axios from \"axios\";\nimport Masonry from \"react-masonry-component\";\nimport { Icon, Card } from \"antd\";\n\nfunction UserPage(props) {\n  const [Products, setProducts] = useState([]);\n  const [CardSize, setCardSize] = useState({ width: 0 })\n  const userid = props.match.params.userid;\n\n  const onResize = useCallback(()=>{\n    let boxwidth = document.documentElement.clientWidth * 0.75;\n    let cardnum = parseInt(boxwidth / 300)+1;\n    let cardwidth = parseInt((boxwidth-15*(cardnum-1))/cardnum);\n    setCardSize({\n      width: cardwidth,\n    })\n  },[])\n\n  useEffect(() => {\n    let boxwidth = document.documentElement.clientWidth * 0.75;\n    let cardnum = parseInt(boxwidth / 300)+1;\n    let cardwidth = parseInt((boxwidth-15*(cardnum-1))/cardnum);\n    setCardSize({\n      width: cardwidth,\n    })\n  }, [])\n\n  useEffect(()=>{\n    window.addEventListener('resize', onResize);\n    return (()=>{\n      window.removeEventListener('resize', onResize) \n    })\n  },[onResize])\n\n  useEffect(() => {\n    if (userid) {\n      const variables = { userid: userid };\n      Axios.post(\"/api/product/getByUser\", variables).then((response) => {\n        if (response.data.success) {\n          setProducts([...response.data.products]);\n        } else {\n          alert(\"failed to get items\");\n        }\n      });\n    }\n  }, [userid]);\n\n  const renderCards = Products.map((product, index) => {\n    return (\n      // <Col lg={6} md={8} xs={24}>\n      <div\n        style={{\n          marginRight: \"15px\",\n          marginBottom: \"10px\",\n          display: \"inline-block\",\n          width: CardSize.width + \"px\"\n        }}\n      >\n        <Card\n          hoverable={true}\n          cover={\n            <a href={`/product/${product._id}`}>\n              <img\n                style={{ width: CardSize.width-2+\"px\" }}\n                src={`http://3.15.2.141/${product.images[0]}`}\n                alt=\"\"\n              />\n            </a>\n          }\n        >\n          <Card.Meta title={product.title} description={`$${product.price}`} />\n        </Card>\n      </div>\n      // </Col>\n    );\n  });\n\n  return (\n    <div style={{ width: \"75%\", margin: \"3rem auto\" }}>\n      <div style={{ textAlign: \"center\" }}>\n        <h1>\n          卖家的物品 <Icon type=\"account-book\" />\n        </h1>\n      </div>\n\n      {Products.length === 0 ? (\n        <div\n          style={{\n            display: \"flex\",\n            height: \"300px\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n        >\n          <h2>No post yet...</h2>\n        </div>\n      ) : (\n        <div style={{ width: 'calc(100% + 15px)' }} >\n          <Masonry\n            className={\"my-gallery-class\"} // default ''\n            options={{ transitionDuration: 2 }} // default {}\n            disableImagesLoaded={false} // default false\n            updateOnEachImageLoad={false} // default false and works only if disableImagesLoaded is false\n          >\n            {renderCards}\n          </Masonry>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default UserPage;\n","import React, { useEffect } from \"react\";\nimport { Layout, Menu } from \"antd\";\n\nfunction AdminPage(props) {\n  const { Content, Sider } = Layout;\n  useEffect(() => {\n    if (props.user.userData) {\n      if (!props.user.userData.isAdmin) {\n        props.history.push(\"/403\");\n      }\n      props.history.push(\"/admin/product\");\n    }\n  }, [props]);\n\n  const handleProductClick = () => {\n    props.history.push(\"/admin/product\");\n  };\n  const handleUserClick = () => {\n    props.history.push(\"/admin/user\");\n  };\n  return (\n    <Layout>\n      <Sider\n        width={200}\n        style={{\n          overflow: \"auto\",\n          height: \"100vh\",\n          position: \"fixed\",\n          left: 0,\n        }}\n        className=\"site-layout-background\"\n      >\n        <Menu\n          mode=\"inline\"\n          defaultSelectedKeys={[\"1\"]}\n          defaultOpenKeys={[\"sub1\"]}\n          style={{ height: \"100%\", borderRight: 0 }}\n        >\n          <Menu.Item onClick={handleProductClick} key=\"1\">\n            物品审核\n          </Menu.Item>\n          <Menu.Item onClick={handleUserClick} key=\"2\">\n            用户审核\n          </Menu.Item>\n        </Menu>\n      </Sider>\n      <Content\n        className=\"site-layout-background\"\n        style={{\n          padding: 24,\n          margin: 0,\n          minHeight: 1200,\n        }}\n      >\n        Content\n      </Content>\n    </Layout>\n  );\n}\n\nexport default AdminPage;\n","import React from \"react\";\nimport { Result, Button } from \"antd\";\nfunction Exception403(props) {\n  const handleClick = () => {\n    props.history.push(\"/\");\n  };\n  return (\n    <Result\n      status=\"403\"\n      title=\"403\"\n      subTitle=\"Sorry, you are not authorized to access this page.您的账户可能已被封禁\"\n      extra={\n        <Button onClick={handleClick} type=\"primary\">\n          Back Home\n        </Button>\n      }\n    />\n  );\n}\n\nexport default Exception403;\n","import React from \"react\";\nimport { Result, Button } from \"antd\";\nfunction Exception404(props) {\n  const handleClick = () => {\n    props.history.push(\"/\");\n  };\n  return (\n    <Result\n      status=\"404\"\n      title=\"404\"\n      subTitle=\"Sorry, the page you visited does not exist..您查找的商品可能已下架\"\n      extra={\n        <Button onClick={handleClick} type=\"primary\">\n          Back Home\n        </Button>\n      }\n    />\n  );\n}\n\nexport default Exception404;\n","import React from 'react'\nimport { Card, Avatar, Row, Col} from 'antd';\n\nconst { Meta } = Card;\n\nfunction ContactUsPage() {\n    return (\n        <div\n            style={{\n                height: \"100%\",\n                width: \"100%\",\n                margin: \"2rem auto\",\n                overflow: \"hidden\",\n                background: \"white\"\n            }}\n        >\n            <Row>\n                <Col xs={{ span: 20, offset: 2}} lg={{ span: 12, offset: 6 }}>\n                    <h1>Contact Us</h1>\n                    <Card style={{ width: \"100%\", height: \"160px\", marginTop: 16 }} bordered={false}>\n                        <Meta\n                            avatar={\n                                <Avatar size={100} src={process.env.PUBLIC_URL+\"/default-thumb.png\"} />\n                            }\n                            title=\"SCGO Group\"\n                            description=\"Email: haimeiyoujian@scgo.org\"\n                        />\n                    </Card>\n                    <hr />\n                    <h1>Contributor</h1>\n                    <Card style={{ width: \"100%\", height: \"160px\", marginTop: 16 }} bordered={false}>\n                        <Meta\n                            avatar={\n                                <Avatar size={100} src={process.env.PUBLIC_URL+\"/default-thumb.png\"} />\n                            }\n                            title=\"Hanxi\"\n                            description=\"Email: haimeiyoujian@scgo.org\"\n                        />\n                    </Card>\n                    <Card style={{ width: \"100%\", height: \"160px\", marginTop: 16 }} bordered={false}>\n                        <Meta\n                            avatar={\n                                <Avatar size={100} src={process.env.PUBLIC_URL+\"/default-thumb.png\"} />\n                            }\n                            title=\"Harold\"\n                            description=\"Email: haimeiyoujian@scgo.org\"\n                        />\n                    </Card>\n                </Col>\n            </Row>\n            \n            \n        </div>\n    )\n}\n\nexport default ContactUsPage\n","import React, { useEffect, useState } from \"react\";\nimport { Layout, Menu, Icon, Card, Popover, Button } from \"antd\";\nimport Axios from \"axios\";\nimport Masonry from \"react-masonry-component\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport ProductDeleteForm from '../../../utils/ProductDeleteForm';\n\nconst { Content, Sider } = Layout;\n\nfunction AdminProductPage(props) {\n  const Limit = 8; // setLimit\n  const [Products, setProducts] = useState([]);\n  const [Skip, setSkip] = useState(0);\n  const [HasMore, setHasMore] = useState(true);\n  const [DeleteFormValue, setDeleteFormValue] = useState({ visible: false })\n  const [DeleteItem, setDeleteItem] = useState({});\n\n  function onLoadMore() {\n    console.log(\"loadmore\");\n    let skip = Skip + Limit;\n    const variables = {\n      skip: skip,\n      limit: Limit,\n      loadMore: true,\n    };\n    getProducts(variables);\n    setSkip(skip);\n  }\n\n  useEffect(() => {\n    if (props.user.userData) {\n      if (!props.user.userData.isAdmin) {\n        props.history.push(\"/403\");\n      }\n    }\n  }, [props]);\n\n  useEffect(() => {\n    Axios.post(\"/api/product/getProducts\", { skip: 0, limit: Limit }).then((response) => {\n      if (response.data.success) {\n        setHasMore(response.data.postSize < Limit ? false : true);\n        setProducts(response.data.products);\n      } else {\n        alert(\"Failed to fectch product datas\");\n      }\n    });\n  }, []);\n\n  const getProducts = (variables) => {\n    Axios.post(\"/api/product/getProducts\", variables).then((response) => {\n      if (response.data.success) {\n        setHasMore(response.data.postSize < Limit ? false : true);\n        if (variables.loadMore) {\n          setProducts([...Products, ...response.data.products]);\n        } else {\n          setProducts(response.data.products);\n        }\n      } else {\n        alert(\"Failed to fectch product datas\");\n      }\n    });\n  };\n\n  const handleProductClick = () => {\n    props.history.push(\"/admin/product\");\n  };\n  const handleUserClick = () => {\n    props.history.push(\"/admin/user\");\n  };\n\n  const handleDelete = (product) => {\n    setDeleteItem(product);\n    setDeleteFormValue({ ...DeleteFormValue, visible: true });\n  };\n\n  const handleDeleteOk = (reason) => {\n    let deleteItem = { ...DeleteItem, ...reason };\n\n    Axios.post('/api/users/deleteProduct', deleteItem)\n      .then((response) => {\n        const variables = { userid: props.user.userData._id };\n        getProducts(variables);\n      })\n    \n    setDeleteItem({});\n    setDeleteFormValue({ ...DeleteFormValue, visible: false });\n  }\n\n  const handleDeleteCancel = () => {\n    setDeleteItem({});\n    setDeleteFormValue({ ...DeleteFormValue, visible: false });\n  }\n\n  const renderCards = Products.map((product, index) => {\n    return (\n      // <Col lg={6} md={8} xs={24}>\n      <div\n        style={{\n          marginRight: \"15px\",\n          marginBottom: \"10px\",\n          display: \"inline-block\",\n        }}\n      >\n        <Popover\n          content={\n            <div>\n              <Button type=\"link\" onClick={()=>handleDelete(product)}>下架删除</Button>\n            </div>\n          }\n        >\n          <Card\n            style={{ width: \"270px\" }}\n            hoverable={true}\n            cover={\n              <a href={`/product/${product._id}`}>\n                <img\n                  style={{ width: \"270px\", height: `${752 / 270}%` }}\n                  src={`http://3.15.2.141/${product.images[0]}`}\n                  alt=\"\"\n                />\n              </a>\n            }\n          >\n            <Card.Meta title={product.title} description={product.writer._id} />\n          </Card>\n        </Popover>\n      </div>\n      // </Col>\n    );\n  });\n  return (\n    <div>\n      <Layout>\n        <Sider\n          width={200}\n          style={{\n            overflow: \"auto\",\n            height: \"100vh\",\n            position: \"fixed\",\n            left: 0,\n          }}\n          className=\"site-layout-background\"\n        >\n          <Menu\n            mode=\"inline\"\n            defaultSelectedKeys={[\"1\"]}\n            defaultOpenKeys={[\"sub1\"]}\n            style={{ height: \"100%\", borderRight: 0 }}\n          >\n            <Menu.Item onClick={handleProductClick} key=\"1\">\n              物品审核\n            </Menu.Item>\n            <Menu.Item onClick={handleUserClick} key=\"2\">\n              用户审核\n            </Menu.Item>\n          </Menu>\n        </Sider>\n        <Content\n          className=\"site-layout-background\"\n          style={{\n            paddingLeft: 240,\n            margin: 0,\n            minHeight: 1200,\n          }}\n        >\n          <div style={{ width: \"90%\", margin: \"3rem auto\" }}>\n            <div style={{ textAlign: \"center\" }}>\n              <h1>\n                最新物品 <Icon type=\"account-book\" />\n              </h1>\n            </div>\n\n            {Products.length === 0 ? (\n              <div\n                style={{\n                  display: \"flex\",\n                  height: \"300px\",\n                  justifyContent: \"center\",\n                  alignItems: \"center\",\n                }}\n              >\n                <h2>No post yet...</h2>\n              </div>\n            ) : (\n              <div\n                style={{ width: \"108%\", overflowX: \"hidden\", overflowY: \"auto\" }}\n              >\n                <InfiniteScroll\n                  dataLength={Products.length} //This is important field to render the next data\n                  next={() => onLoadMore()}\n                  hasMore={HasMore}\n                  loader={<h4>Loading...</h4>}\n                  endMessage={\n                    <p style={{ textAlign: \"center\" }}>\n                      <b>Yay! You have seen it all</b>\n                    </p>\n                  }\n                >\n                  <Masonry\n                    className={\"my-gallery-class\"} // default ''\n                    options={{ transitionDuration: 2 }} // default {}\n                    disableImagesLoaded={false} // default false\n                    updateOnEachImageLoad={false} // default false and works only if disableImagesLoaded is false\n                  >\n                    {renderCards}\n                  </Masonry>\n                </InfiniteScroll>\n              </div>\n            )}\n          </div>\n        </Content>\n      </Layout>\n      <div>\n        <ProductDeleteForm\n          visible={DeleteFormValue.visible}\n          handleOk={handleDeleteOk}\n          handleCancel={handleDeleteCancel}\n          user={props.user}\n          admin={true}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default AdminProductPage;\n","import React, { useEffect, useState } from 'react';\nimport { Layout, Menu, Table, Tag, Button, Input, Row, Col } from 'antd';\nimport Axios from 'axios';\n\nconst { Content, Sider } = Layout;\nconst { Column }  = Table;\nconst { Search } = Input;\n\nfunction UserControl(props) {\n    \n    const [UserData, setUserData] = useState([]);\n    const [SearchTerm, setSearchTerm] = useState(\"\");\n\n    useEffect(() => {\n        if (props.user.userData) {\n            if (!props.user.userData.isAdmin) {\n                props.history.push(\"/403\");\n            }\n            getUserInfo({});\n        }\n    }, [props]);\n\n\n    const handleProductClick = () => {\n        props.history.push(\"/admin/product\");\n    };\n\n    const handleUserClick = () => {\n        props.history.push(\"/admin/user\");\n    };\n\n    const getUserInfo = (rule) => {\n        Axios.post('/api/users/getUserByRule', rule)\n            .then((response) => {\n                if (response.data.success) {\n                    const userinfo = response.data.users.map((user, index) => {\n                        return {\n                            key: index,\n                            userid: user._id,\n                            username: user.username,\n                            userstate: user.role\n                        }\n                    })\n                    console.log(userinfo)\n                    setUserData(userinfo);\n                } else {\n                    console.log('no results')\n                    setUserData([])\n                }\n            })\n    }\n\n    const onChangeSearch = (event) => {\n        setSearchTerm(event.currentTarget.value)\n    }\n\n    const onSubmit = () => {\n        const rule = {\n            searchTerm: SearchTerm\n        }\n        getUserInfo(rule);\n    }\n\n    const blockUser = (userid) => {\n        Axios.post('/api/users/updateUserState', {\n            userid: userid,\n            role: -1,\n        }).then((response) => {\n            if (response.data.success) {\n                alert(\"Block Succeed\");\n                onSubmit();\n            }\n        })\n    }\n\n    const unblockUser = (userid) => {\n        Axios.post('/api/users/updateUserState', {\n            userid: userid,\n            role: 0\n        }).then((response) => {\n            if (response.data.success) {\n                alert(\"Unblock Succeed\");\n                onSubmit();\n            }\n        })\n    }\n\n    return (\n        <Layout>\n            <Sider\n                width={200}\n                style={{\n                    overflow: \"auto\",\n                    height: \"100vh\",\n                    position: \"fixed\",\n                    left: 0,\n                }}\n                className=\"site-layout-background\"\n            >\n                <Menu\n                    mode=\"inline\"\n                    defaultSelectedKeys={[\"2\"]}\n                    defaultOpenKeys={[\"sub1\"]}\n                    style={{ height: \"100%\", borderRight: 0 }}\n                >\n                    <Menu.Item onClick={handleProductClick} key=\"1\">\n                        物品审核\n                    </Menu.Item>\n                    <Menu.Item onClick={handleUserClick} key=\"2\">\n                        用户审核\n                    </Menu.Item>\n                </Menu>\n            </Sider>\n            <Layout>\n                <Content\n                    className=\"site-layout-background\"\n                    style={{\n                        padding: 24,\n                        margin: 0,\n                        marginLeft: \"200px\",\n                        minHeight: 1200,\n                    }}\n                >\n                    {/* Search */}\n                    <div \n                        style={{ \n                            background: 'white', \n                            marginBottom: '20px',\n                            margin: \"1rem auto\",\n                            width: \"100%\"\n                        }}\n                    >\n                        <br />\n                        <Row gutter={4}>\n                            <Col lg={2} xs={12}>\n                                <h3 style={{ margin: \"auto\"}}>&nbsp;&nbsp;&nbsp;&nbsp;USER ID查询:</h3>\n                            </Col>\n                            <Col lg={6} xs={24}>\n                                <div style={{ maxWidth: \"400px\" }} >\n                                    <Search\n                                        value={SearchTerm}\n                                        onChange={onChangeSearch}\n                                        onSearch={onSubmit}\n                                        enterButton=\"Search\"\n                                        placeholder=\"24-character user id\"\n                                    />\n                                </div>\n                            </Col>\n                        </Row>\n                        <br />\n                    </div>\n\n                    {/* Table */}\n                    <div style={{ background: 'white', marginBottom: '20px'}}>\n                        <h3 style={{ padding: '1rem 1rem 1rem 1rem' }}>查询表格</h3>\n                        <Table \n                            style={{ background: 'white' }}\n                            dataSource={UserData.length > 0? UserData: null}\n                        >\n                            <Column bordered={false} title=\"User ID\" dataIndex=\"userid\" key=\"userid\" />\n                            <Column bordered={false} title=\"Username\" dataIndex=\"username\" key=\"username\" />\n                            <Column\n                                bordered={false}\n                                title=\"User State\"\n                                dataIndex=\"userstate\"\n                                key=\"userstate\"\n                                render={tag => ( \n                                    <Tag color={tag === -1 ? \"red\" : \"green\"} key={tag}> \n                                        {tag === -1 ? \"blocked\" : \"normal\" } \n                                    </Tag>\n                                )}\n                            />\n                            <Column\n                                bordered={false}\n                                title=\"Action\"\n                                key=\"action\"\n                                render={(text, record) => (\n                                    <div>\n                                        <Button \n                                            style={{width: '80px'}}\n                                            disabled={record.userstate !== 0 ? true : false} \n                                            onClick={()=>blockUser(record.userid)}\n                                        >\n                                            Block\n                                        </Button>&nbsp;\n                                        <Button \n                                            style={{width: '80px'}}\n                                            disabled={record.userstate !== -1 ? true : false} \n                                            onClick={()=>unblockUser(record.userid)}\n                                        >\n                                            Unblock\n                                        </Button>\n                                    </div>\n                                )}\n                            />\n                        </Table>\n                    </div>\n                    \n\n\n                </Content>\n            </Layout>\n          \n        </Layout>\n      )\n}\n\nexport default UserControl\n","import React, { Suspense } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport Auth from \"../hoc/auth\";\n// pages for this product\nimport LandingPage from \"./views/LandingPage/LandingPage.js\";\nimport LoginPage from \"./views/LoginPage/LoginPage.js\";\nimport RegisterPage from \"./views/RegisterPage/RegisterPage.js\";\nimport NavBar from \"./views/NavBar/NavBar\";\nimport Footer from \"./views/Footer/Footer\";\nimport UploadProductPage from \"./views/UploadProductPage/UploadProductPage\";\nimport DetailProductPage from \"./views/DetailProductPage/DetailProductPage\";\nimport HistoryPage from \"./views/HistoryPage/HistoryPage\";\nimport ChangePasswordPage from \"./views/ChangePasswordPage/ChangePasswordPage\";\nimport UserPage from \"./views/UserPage/UserPage\";\nimport VisitorPage from \"./views/VisitorPage/VisitorPage\";\nimport AdminPage from \"./views/AdminPage/AdminPage\";\nimport Exception403 from \"./views/ExceptionPage/Exception403\";\nimport Exception404 from \"./views/ExceptionPage/Exception404\";\nimport ContactUsPage from \"./views/ContactUsPage/ContactUsPage\";\nimport AdminProductPage from \"./views/AdminPage/AdminProductPage/AdminProductPage\";\nimport AdminUserPage from \"./views/AdminPage/AdminUserPage/AdminUserPage\";\n\nfunction App() {\n  return (\n    <Suspense fallback={<div>Loading...</div>}>\n      <NavBar />\n      <div style={{ paddingTop: \"75px\", minHeight: \"calc(100vh - 80px)\" }}>\n        <Switch>\n          <Route exact path=\"/403\" component={Auth(Exception403, null)} />\n          <Route exact path=\"/404\" component={Auth(Exception404, null)} />\n          <Route exact path=\"/admin\" component={Auth(AdminPage, true)} />\n          <Route exact path=\"/admin/product\" component={Auth(AdminProductPage, true)} />\n          <Route exact path=\"/admin/user\" component={Auth(AdminUserPage, true)} />\n          <Route exact path=\"/\" component={Auth(LandingPage, null)} />\n          <Route exact path=\"/contactus\" component={Auth(ContactUsPage, null)} />\n          <Route exact path=\"/login\" component={Auth(LoginPage, false)} />\n          <Route exact path=\"/register\" component={Auth(RegisterPage, false)} />\n          <Route\n            exact\n            path=\"/product/upload\"\n            component={Auth(UploadProductPage, true)}\n          />\n          <Route\n            exact\n            path=\"/product/:productId\"\n            component={Auth(DetailProductPage, null)}\n          />\n          <Route exact path=\"/user/item\" component={Auth(UserPage, true)} />\n          <Route\n            exact\n            path=\"/user/:userid\"\n            component={Auth(VisitorPage, null)}\n          />\n          <Route exact path=\"/history\" component={Auth(HistoryPage, true)} />\n          <Route\n            exact\n            path=\"/change\"\n            component={Auth(ChangePasswordPage, null)}\n          />\n        </Switch>\n      </div>\n      <Footer />\n    </Suspense>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { combineReducers } from 'redux';\nimport user from './user_reducer';\n\nconst rootReducer = combineReducers({\n    user,\n});\n\nexport default rootReducer;","import {\n    LOGIN_USER,\n    REGISTER_USER,\n    AUTH_USER,\n    LOGOUT_USER,\n    ADD_TO_CART_USER,\n    GET_CART_ITEMS_USER,\n    REMOVE_CART_ITEM_USER,\n    ON_SUCCESS_BUY_USER,\n    ON_DELETE_ITEM\n} from '../_actions/types';\n\n\nexport default function (state = {}, action) {\n    switch (action.type) {\n        case REGISTER_USER:\n            return { ...state, register: action.payload }\n        case LOGIN_USER:\n            return { ...state, loginSucces: action.payload }\n        case AUTH_USER:\n            return { ...state, userData: action.payload }\n        case LOGOUT_USER:\n            return { ...state }\n        case ADD_TO_CART_USER:\n            return {\n                ...state, userData: {\n                    ...state.userData,\n                    cart: action.payload\n                }\n            }\n        case GET_CART_ITEMS_USER:\n            return {\n                ...state, cartDetail: action.payload\n            }\n        case REMOVE_CART_ITEM_USER:\n            return {\n                ...state,\n                cartDetail: action.payload.cartDetail,\n                userData: {\n                    ...state.userData,\n                    cart: action.payload.cart\n                }\n\n            }\n        case ON_SUCCESS_BUY_USER:\n            return {\n                ...state,\n                userData: {\n                    ...state.userData,\n                    cart: action.payload.cart\n                },\n                cartDetail: action.payload.cartDetail\n            }\n        case ON_DELETE_ITEM:\n            return {\n                ...state,\n                history: action.payload.history\n            }\n\n        default:\n            return state;\n    }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport Reducer from './_reducers';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport promiseMiddleware from 'redux-promise';\nimport ReduxThunk from 'redux-thunk';\n\nconst createStoreWithMiddleware = applyMiddleware(promiseMiddleware, ReduxThunk)(createStore);\n\nReactDOM.render(\n    <Provider\n        store={createStoreWithMiddleware(\n            Reducer,\n            window.__REDUX_DEVTOOLS_EXTENSION__ &&\n            window.__REDUX_DEVTOOLS_EXTENSION__()\n        )}\n    >\n        <BrowserRouter>\n            <App />\n        </BrowserRouter>\n    </Provider>\n    , document.getElementById('root'));\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}